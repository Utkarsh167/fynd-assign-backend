(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{"1ceG":function(e,t,o){"use strict";o.r(t),o.d(t,"SessionModule",(function(){return Ce}));var r=o("Yvf7"),a=o("Fk62"),n=o("Plpn"),s=o("8VHZ"),c=o("OGIN"),i=o("hyqU"),l=o("nOwt"),p=o("eeLf"),m=o("Ub9n"),g=o("+mPs"),u=o("n9IX"),d=o("0sao"),f=o("qQg5"),b=o("N9e7"),h=o("1xOk"),y=o("CsWY"),v=o("N2ZZ");function x(e,t){1&e&&(m.cc(0,"small",29),m.Yc(1," Please enter email. "),m.bc())}function w(e,t){if(1&e&&(m.cc(0,"small",29),m.Yc(1),m.bc()),2&e){var o=m.sc();m.Jb(1),m.ad(" ",o.message.error[2]," ")}}function E(e,t){if(1&e&&(m.cc(0,"small",29),m.Yc(1),m.bc()),2&e){var o=m.sc();m.Jb(1),m.ad(" ",o.message.error[12]," ")}}function I(e,t){if(1&e&&(m.cc(0,"small",29),m.Yc(1),m.bc()),2&e){var o=m.sc();m.Jb(1),m.ad(" ",o.message.error[13]," ")}}function k(e,t){if(1&e&&(m.cc(0,"small",29),m.Yc(1),m.bc()),2&e){var o=m.sc();m.Jb(1),m.ad(" ",o.message.error[2]," ")}}function L(e,t){if(1&e&&(m.cc(0,"small",29),m.Yc(1),m.bc()),2&e){var o=m.sc();m.Jb(1),m.ad(" ",o.message.error[30]," ")}}function S(e,t){1&e&&(m.cc(0,"small",29),m.Yc(1," Please enter password. "),m.bc())}function A(e,t){if(1&e&&(m.cc(0,"small",29),m.Yc(1),m.bc()),2&e){var o=m.sc();m.Jb(1),m.ad(" ",o.message.error[14]," ")}}var C=function(){return["/forgot-password"]},U=function(){return["/register"]},T=function(){function e(e,t,o,r,a,n,s,c){this.fb=e,this.router=t,this.authService=o,this._snackBar=r,this.toastr=a,this.dialog=n,this.commonService=s,this.socialAuthService=c,this.emailRegex=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,this.passwordRegex=/^(.{8,})/,this.email="demo@example.com",this.password="0123456789",this.count=0,this.socialLogin=!1}return e.prototype.ngOnInit=function(){localStorage.setItem("pageType","customer"),this.form=this.fb.group({email:[null,s.A.compose([s.A.required,this.noWhitespaceValidator,s.A.pattern(this.emailRegex)])],password:[null,s.A.compose([s.A.required,this.noWhitespaceValidator,s.A.pattern(this.passwordRegex)])]}),this.message=i.a,"true"==localStorage.getItem("socialLogin")&&this.getdetails(),this.details=history.state.data,this.details&&(this.form.patchValue({email:this.details.email}),this.form.patchValue({password:this.details.password}),this.onSubmit(this.details))},e.prototype.noWhitespaceValidator=function(e){return(e.value||"").match(/\s/g)?{whitespace:!0}:null},e.prototype.onSubmit=function(e){var t=this;this.authService.signInUser(e).subscribe((function(e){if("success"==e.status){var o=e.data;"publisher"==o.userType&&t.openErrorDialog(i.a.popUpMessages.PUB_ACCOUNT,i.a.popUpHeaders.LOGIN_ERROR),"vendor"==o.userType&&t.openErrorDialog(i.a.popUpMessages.VEND_ACCOUNT,i.a.popUpHeaders.LOGIN_ERROR),"admin"==o.userType&&t.openErrorDialog(i.a.popUpMessages.ADMIN_ACCOUNT,i.a.popUpHeaders.LOGIN_ERROR);var r=JSON.stringify(o);localStorage.setItem("endUser",r),localStorage.setItem("doclid",o.clientId),"customer"==o.userType&&t.commonService.rediectCustomerD1Adpreference(!0)}else e.data.invalidEmail?t.form.controls.email.setErrors({invalidEmail:!0}):e.data.invalidPassword?(t.form.controls.password.setValue(""),t.form.controls.password.markAsUntouched(),t.form.controls.password.setErrors({invalidPassword:!0})):e.data.accountNotVerified?(t.form.controls.email.markAsUntouched(),t.form.controls.email.setErrors({accountNotVerified:!0})):e.data.otherAccount?(t.form.controls.email.markAsUntouched(),t.form.controls.email.setErrors({invalidLoginType:!0})):(t.form.controls.email.markAsUntouched(),t.form.controls.email.setErrors({invalidEmail:!1}))}),(function(e){console.log(e),t.router.navigate(["/error/404"])}))},e.prototype.signInWithGoogle=function(){this.socialAuthService.signIn(c.a.PROVIDER_ID),this.getdetails()},e.prototype.getdetails=function(){var e=this;this.socialAuthService.authState.subscribe((function(t){null!=t&&e.userLogin(t)}),(function(e){console.log(e)}))},e.prototype.userLogin=function(e){var t=this;this.authService.social({email:e.email,firstName:e.firstName,lastName:e.lastName,accessToken:e.idToken,socialLoginType:"Google",userType:"customer",socialId:e.id}).subscribe((function(e){if(1==e.status){localStorage.setItem("socialLogin","true");var o=e.data,r=JSON.stringify(o);localStorage.setItem("endUser",r),localStorage.setItem("socialLogin","true"),localStorage.setItem("doclid",o.clientId),"customer"==o.userType&&t.commonService.rediectCustomerD1Adpreference(!0)}else"userCreated"==e.status?(localStorage.setItem("socialLogin","true"),o=e.data,r=JSON.stringify(o),localStorage.setItem("endUser",r),localStorage.setItem("socialLogin","true"),localStorage.setItem("doclid",o.clientId),"customer"==o.userType&&t.commonService.rediectCustomerD1Adpreference(!0)):"otherSocialExist"==e.status?(localStorage.setItem("socialLogin","false"),t.openErrorDialog(i.a.popUpMessages.EMAIL_IN_USE+" "+e.socialAccount,i.a.popUpHeaders.LOGIN_ERROR,e)):"userNotActive"==e.status?(localStorage.setItem("socialLogin","false"),t.openErrorDialog(i.a.popUpMessages.DEACTIVATED_ACCOUNT+" "+e.socialAccount,i.a.popUpHeaders.ERROR,e)):"emailExist"==e.status&&(localStorage.setItem("socialLogin","false"),t.openErrorDialog(i.a.popUpMessages.REGISTERED_EMAILL+" "+e.socialAccount,i.a.popUpHeaders.INVALID_LINK,e))}))},e.prototype.openSnackBar=function(e,t){this._snackBar.open(e,t,{duration:1e4})},e.prototype.openErrorDialog=function(e,t,o){var r=this;this.dialogRefLocation=this.dialog.open(l.a,{panelClass:"dialog-message",data:{msg:e,headerMsg:t}}),this.dialogRefLocation.afterClosed().subscribe((function(e){o&&("otherSocialExist"==o.status||"userNotActive"==o.status||"emailExist"==o.status)&&r.router.navigateByUrl("login")}))},e.\u0275fac=function(t){return new(t||e)(m.Wb(s.f),m.Wb(a.f),m.Wb(n.a),m.Wb(g.a),m.Wb(u.b),m.Wb(d.b),m.Wb(p.a),m.Wb(c.b))},e.\u0275cmp=m.Qb({type:e,selectors:[["ms-login-session"]],decls:53,vars:14,consts:[[1,"gene-login","gene-session","pad-y-xl",2,"background-image","url('assets/img/doranto-img/logo-bg.png')"],["fxLayout","row","fxLayoutAlign","center start"],["fxLayout","column","fxFlex.xl","540px","fxFlex.lg","540px","fxFlex.md","540px","fxFlex.sm","540px","fxFlex.xs","100"],[1,"gene-login-wrapper"],["fxLayout","column","fxLayoutAlign","center center mrgn-b-md",2,"background","#000"],[1,"login-logo","justify-content"],["src","assets/img/doranto-img/logo.png"],[2,"padding","16px"],["fxLayout","column","fxLayoutAlign","center center mrgn-b-md"],[1,"justify-content"],["fxLayoutAlign","center center"],["mat-button","",1,"success-bg","full--width",3,"click"],[1,"google-img"],["src","assets/img/doranto-img/google-logo.png","width","24"],[1,"google-txt"],["fxLayoutAlign","center center",1,"or-div"],[1,"line"],[3,"formGroup"],["fxLayout","column","fxLayoutAlign","start stretch"],["appearance","outline"],["matInput","","type","email","name","email","formControlName","email"],[1,"message-block"],["class","gene-block","class","warn-text error-message",4,"ngIf"],["matInput","","maxlength","16","type","password","name","password","formControlName","password",3,"keydown.space","keyup.enter"],["fxLayout","row","fxLayoutAlign","start center"],["fxFlex",""],[3,"routerLink"],["type","button","mat-raised-button","",3,"disabled","click"],[1,"text-center"],[1,"warn-text","error-message"]],template:function(e,t){1&e&&(m.cc(0,"div",0),m.cc(1,"div",1),m.cc(2,"div",2),m.cc(3,"mat-card",3),m.cc(4,"div",4),m.cc(5,"div",5),m.Xb(6,"img",6),m.bc(),m.bc(),m.cc(7,"div",7),m.cc(8,"div",8),m.cc(9,"div",9),m.cc(10,"h5"),m.Yc(11,"Sign In"),m.bc(),m.bc(),m.bc(),m.cc(12,"div",10),m.cc(13,"button",11),m.oc("click",(function(){return t.signInWithGoogle()})),m.cc(14,"div",12),m.Xb(15,"img",13),m.bc(),m.cc(16,"span",14),m.Yc(17," Sign in with Google "),m.bc(),m.bc(),m.bc(),m.cc(18,"div",15),m.Xb(19,"div",16),m.Yc(20," \xa0\xa0\xa0OR \xa0\xa0\xa0 "),m.Xb(21,"div",16),m.bc(),m.Xb(22,"br"),m.cc(23,"form",17),m.cc(24,"div",18),m.cc(25,"mat-form-field",19),m.cc(26,"mat-label"),m.Yc(27,"Enter email"),m.bc(),m.Xb(28,"input",20),m.bc(),m.cc(29,"div",21),m.Wc(30,x,2,0,"small",22),m.Wc(31,w,2,1,"small",22),m.Wc(32,E,2,1,"small",22),m.Wc(33,I,2,1,"small",22),m.Wc(34,k,2,1,"small",22),m.Wc(35,L,2,1,"small",22),m.bc(),m.cc(36,"mat-form-field",19),m.cc(37,"mat-label"),m.Yc(38,"Enter Password"),m.bc(),m.cc(39,"input",23),m.oc("keydown.space",(function(e){return e.preventDefault()}))("keyup.enter",(function(){return t.onSubmit(t.form.value)})),m.bc(),m.bc(),m.cc(40,"div",21),m.Wc(41,S,2,0,"small",22),m.Wc(42,A,2,1,"small",22),m.bc(),m.cc(43,"div",24),m.Xb(44,"span",25),m.cc(45,"a",26),m.Yc(46,"Forgot Password?"),m.bc(),m.bc(),m.cc(47,"button",27),m.oc("click",(function(){return t.onSubmit(t.form.value)})),m.Yc(48,"Sign in"),m.bc(),m.cc(49,"p",28),m.Yc(50,"Don't have an account? "),m.cc(51,"a",26),m.Yc(52,"Create Account"),m.bc(),m.bc(),m.bc(),m.bc(),m.bc(),m.bc(),m.bc(),m.bc(),m.bc()),2&e&&(m.Jb(23),m.zc("formGroup",t.form),m.Jb(7),m.zc("ngIf",t.form.controls.email.hasError("required")&&t.form.controls.email.touched),m.Jb(1),m.zc("ngIf",t.form.controls.email.hasError("whitespace")&&t.form.controls.email.touched),m.Jb(1),m.zc("ngIf",t.form.controls.email.hasError("accountNotVerified")),m.Jb(1),m.zc("ngIf",t.form.controls.email.hasError("invalidEmail")&&t.form.controls.email.touched),m.Jb(1),m.zc("ngIf",t.form.controls.email.hasError("pattern")&&t.form.controls.email.touched),m.Jb(1),m.zc("ngIf",t.form.controls.email.hasError("invalidLoginType")),m.Jb(6),m.zc("ngIf",t.form.controls.password.hasError("required")&&t.form.controls.password.touched),m.Jb(1),m.zc("ngIf",t.form.controls.password.hasError("invalidPassword")),m.Jb(3),m.zc("routerLink",m.Cc(12,C)),m.Jb(2),m.zc("disabled",!t.form.valid),m.Jb(4),m.zc("routerLink",m.Cc(13,U)))},directives:[f.c,f.b,f.a,b.a,h.a,s.C,s.s,s.k,y.b,y.e,v.b,s.d,s.r,s.i,r.n,s.n,a.i],styles:["body .gene-login-wrapper{border-radius:0!important;padding:0!important}body .gene-login-wrapper .login-logo{margin-top:1rem}body .gene-login-wrapper .login-logo img{margin-bottom:2rem}body .gene-login-wrapper h5{font-family:Roboto!important;font-size:24px;font-weight:500;font-stretch:normal;font-style:normal;line-height:normal;letter-spacing:normal;text-align:center;color:#333}body .gene-login-wrapper button{margin:1rem 0;padding:0 13px;height:49px}body .gene-login-wrapper .success-bg .mat-button-wrapper{display:flex!important}body .gene-login-wrapper .or-div{margin-top:10px}body .gene-login-wrapper .line{width:51px;height:1px;background-color:#ddd}body .gene-login-wrapper .google-img{background-color:#fff;width:45px;height:41px;border-radius:2px;margin-left:-10px}body .gene-login-wrapper .google-txt{margin-left:auto;margin-right:auto}body .gene-login-wrapper .message-block .error-message{display:none}body .gene-login-wrapper .message-block .error-message:first-child{display:block}"],encapsulation:2}),e}(),_=o("4BGn"),N=o("k1Wp"),R=o("PUIy");function W(e,t){if(1&e&&(m.cc(0,"small",34),m.Yc(1),m.bc()),2&e){var o=m.sc();m.Jb(1),m.ad(" ",o.message.error[6]," ")}}function P(e,t){if(1&e&&(m.cc(0,"small",34),m.Yc(1),m.bc()),2&e){var o=m.sc();m.Jb(1),m.ad(" ",o.message.error[7]," ")}}function O(e,t){if(1&e&&(m.cc(0,"small",34),m.Yc(1),m.bc()),2&e){var o=m.sc();m.Jb(1),m.ad(" ",o.message.error[7]," ")}}function M(e,t){if(1&e&&(m.cc(0,"small",34),m.Yc(1),m.bc()),2&e){var o=m.sc();m.Jb(1),m.ad(" ",o.message.error[10]," ")}}function J(e,t){if(1&e&&(m.cc(0,"small",34),m.Yc(1),m.bc()),2&e){var o=m.sc();m.Jb(1),m.ad(" ",o.message.error[11]," ")}}function D(e,t){if(1&e&&(m.cc(0,"small",34),m.Yc(1),m.bc()),2&e){var o=m.sc();m.Jb(1),m.ad(" ",o.message.error[11]," ")}}function Y(e,t){if(1&e&&(m.cc(0,"small",34),m.Yc(1),m.bc()),2&e){var o=m.sc();m.Jb(1),m.ad(" ",o.message.error[1]," ")}}function z(e,t){if(1&e&&(m.cc(0,"small",34),m.Yc(1),m.bc()),2&e){var o=m.sc();m.Jb(1),m.ad(" ",o.message.error[2]," ")}}function B(e,t){if(1&e&&(m.cc(0,"small",34),m.Yc(1),m.bc()),2&e){var o=m.sc();m.Jb(1),m.ad(" ",o.message.error[3]," ")}}function V(e,t){if(1&e&&(m.cc(0,"small",34),m.Yc(1),m.bc()),2&e){var o=m.sc();m.Jb(1),m.ad(" ",o.message.error[2]," ")}}function F(e,t){if(1&e&&(m.cc(0,"small",34),m.Yc(1),m.bc()),2&e){var o=m.sc();m.Jb(1),m.ad(" ",o.message.error[35]," ")}}function G(e,t){if(1&e&&(m.cc(0,"small",34),m.Yc(1),m.bc()),2&e){var o=m.sc();m.Jb(1),m.ad(" ",o.message.error[36]," ")}}function q(e,t){if(1&e&&(m.cc(0,"small",34),m.Yc(1),m.bc()),2&e){var o=m.sc();m.Jb(1),m.ad(" ",o.message.error[4]," ")}}function X(e,t){if(1&e&&(m.cc(0,"small",34),m.Yc(1),m.bc()),2&e){var o=m.sc();m.Jb(1),m.ad(" ",o.message.error[5]," ")}}function H(e,t){if(1&e&&(m.cc(0,"small",34),m.Yc(1),m.bc()),2&e){var o=m.sc();m.Jb(1),m.ad(" ",o.message.error[4]," ")}}function j(e,t){if(1&e&&(m.cc(0,"small",34),m.Yc(1),m.bc()),2&e){var o=m.sc();m.Jb(1),m.ad(" ",o.message.error[16]," ")}}function K(e,t){if(1&e&&(m.cc(0,"small",34),m.Yc(1),m.bc()),2&e){var o=m.sc();m.Jb(1),m.ad(" ",o.message.error[17]," ")}}var Q=function(){return["/login"]},Z=function(){function e(e,t,o,r,a,n){this.fb=e,this.router=t,this.authService=o,this.socialAuthService=r,this.dialog=a,this.commonService=n,this.count=0}return e.prototype.ngOnInit=function(){this.details=history.state.data,this.regex=_.a,localStorage.setItem("pageType","customer"),this.form=this.fb.group({email:[{value:null,disabled:!!this.details&&!!this.details._id},s.A.compose([s.A.required,this.commonService.noWhitespaceValidator,s.A.pattern(this.regex.pattern.EMAIL)])],password:[null,s.A.compose([s.A.required,this.commonService.noWhitespaceValidator,s.A.pattern(this.regex.pattern.PASSWORD)])],firstName:[null,s.A.compose([s.A.required,this.commonService.noWhitespaceValidator,s.A.pattern(this.regex.pattern.NAME)])],lastName:[null,s.A.compose([s.A.required,this.commonService.noWhitespaceValidator,s.A.pattern(this.regex.pattern.NAME)])],confirmPassword:[""],eulaAgree:[!1,s.A.compose([s.A.requiredTrue])]},{validator:this.commonService.comparePasswordSignUp}),this.message=i.a,"true"==localStorage.getItem("socialLogin")&&this.getdetails(),this.details&&(this.form.patchValue({firstName:this.details.firstName}),this.form.patchValue({lastName:this.details.lastName}),this.form.patchValue({email:this.details.email}),this.checkEmailStatusForDelete())},e.prototype.signInWithGoogle=function(){this.socialAuthService.signIn(c.a.PROVIDER_ID),this.getdetails()},e.prototype.openEULADialog=function(){this.dialogRefEula=this.dialog.open(N.a,{panelClass:"dialog-message",data:{}}),this.dialogRefEula.afterClosed().subscribe((function(e){}))},e.prototype.getdetails=function(){var e=this;this.socialAuthService.authState.subscribe((function(t){null!=t&&e.userLogin(t)}),(function(e){console.log(e)}))},e.prototype.userLogin=function(e){var t=this;this.authService.social({email:e.email,firstName:e.firstName,lastName:e.lastName,accessToken:e.idToken,socialLoginType:"Google",userType:"customer",socialId:e.id}).subscribe((function(e){if(1==e.status){localStorage.setItem("socialLogin","true");var o=e.data,r=JSON.stringify(o);localStorage.setItem("endUser",r),localStorage.setItem("doclid",o.clientId),localStorage.setItem("socialLogin","true"),"customer"==o.userType&&t.router.navigate(["/dashboard/new-ad"])}else"userCreated"==e.status?(localStorage.setItem("socialLogin","true"),o=e.data,r=JSON.stringify(o),localStorage.setItem("endUser",r),localStorage.setItem("doclid",o.clientId),localStorage.setItem("socialLogin","true"),"customer"==o.userType&&t.router.navigate(["/dashboard/new-ad"])):"otherSocialExist"==e.status?(localStorage.setItem("socialLogin","false"),t.openErrorDialog(i.a.popUpMessages.EMAIL_IN_USE,i.a.popUpHeaders.ERROR,"socialExist",null)):"userNotActive"==e.status?(localStorage.setItem("socialLogin","false"),t.openErrorDialog(i.a.popUpMessages.DEACTIVATED_ACCOUNT,i.a.popUpHeaders.ERROR,"inactiveAccount",null)):"emailExist"==e.status&&(localStorage.setItem("socialLogin","false"),t.openErrorDialog(i.a.popUpMessages.REGISTERED_EMAILL,i.a.popUpHeaders.EMAIL_EXIST,"emailExist",null))}))},e.prototype.signOut=function(){this.socialAuthService.signOut()},e.prototype.checkEmail=function(){var e=this;if("VALID"===this.form.controls.email.status||this.details){var t={email:this.form.getRawValue().email};this.authService.checkEmail(t).subscribe((function(t){e.form.controls.email.setErrors(t?{isEmailExist:!0}:null)}))}},e.prototype.checkEmailStatusForDelete=function(){var e=this;"VALID"===this.form.controls.email.status&&this.authService.checkEmailForUsers({email:this.form.value.email}).subscribe((function(t){e.form.controls.email.setErrors(1==t.status?{isEmailExist:!0}:"deleted"==t.status?{isEmailDeleted:!0}:"socialExist"==t.status?{isSocialExist:!0}:null)}))},e.prototype.signup=function(){var e=this,t={email:this.form.getRawValue().email,password:this.form.value.password,firstName:this.form.value.firstName,lastName:this.form.value.lastName,userType:"customer"};this.details&&this.details._id&&(t.customerTempId=this.details._id,t.createdBy=this.details.createdBy),this.authService.signupUserProfile(t).subscribe((function(o){o.status&&(e.details&&e.details._id?e.router.navigate(["/login"],{state:{data:t}}):e.openErrorDialog(i.a.popUpMessages.EMAIL_VERIFICATION,i.a.popUpHeaders.VERIFY_EMAIL,"verify",t))}),(function(e){console.log(e)}))},e.prototype.openErrorDialog=function(e,t,o,r){var a=this;this.dialogRefLocation=this.dialog.open(l.a,{panelClass:"dialog-message",data:{msg:e,headerMsg:t}}),this.dialogRefLocation.afterClosed().subscribe((function(e){"socialExist"==o||"inactiveAccount"==o||"emailExist"==o?a.router.navigateByUrl("login"):"verify"==o&&a.router.navigate(["/pre-verify-email"],{state:{data:r}})}))},e.\u0275fac=function(t){return new(t||e)(m.Wb(s.f),m.Wb(a.f),m.Wb(n.a),m.Wb(c.b),m.Wb(d.b),m.Wb(p.a))},e.\u0275cmp=m.Qb({type:e,selectors:[["ms-register-session"]],decls:79,vars:21,consts:[[1,"gene-login","gene-session","pad-y-xl",2,"background-image","url('assets/img/doranto-img/logo-bg.png')"],["fxLayout","row","fxLayoutAlign","center start"],["fxLayout","column","fxFlex.xl","540px","fxFlex.lg","540px","fxFlex.md","540px","fxFlex.sm","540px","fxFlex.xs","100"],[1,"gene-login-wrapper"],["fxLayout","column","fxLayoutAlign","center center mrgn-b-md",2,"background","#000"],[1,"login-logo","justify-content"],["src","assets/img/doranto-img/logo.png"],[2,"padding","16px"],["fxLayout","column","fxLayoutAlign","center center mrgn-b-md"],[1,"justify-content"],["fxLayoutAlign","center center"],["mat-button","",1,"success-bg","full--width"],[1,"google-img"],["src","assets/img/doranto-img/google-logo.png","width","24"],[1,"google-txt",3,"click"],["fxLayoutAlign","center center",1,"or-div"],[1,"line"],[3,"formGroup"],["fxLayout","column","fxLayoutAlign","start stretch"],["appearance","outline"],["matInput","","type","text","maxlength","256","name","firstName","formControlName","firstName",2,"text-transform","capitalize",3,"keydown.space","keyup"],[1,"message-block"],["class","gene-block","class","warn-text error-message",4,"ngIf"],["matInput","","type","text","maxlength","256","name","lastName","formControlName","lastName",2,"text-transform","capitalize",3,"keydown.space","keyup"],["matInput","","type","email","maxlength","256","name","email","formControlName","email",3,"keyup"],["matInput","","type","password","maxlength","16","name","password","formControlName","password",3,"keydown.space"],["type","password","maxlength","16","matInput","","formControlName","confirmPassword",3,"keydown.space"],[1,"row"],["formControlName","eulaAgree",1,""],[2,"margin-left","10px"],[3,"click"],["mat-raised-button","",3,"disabled","click"],[1,"text-center"],[3,"routerLink"],[1,"warn-text","error-message"]],template:function(e,t){1&e&&(m.cc(0,"div",0),m.cc(1,"div",1),m.cc(2,"div",2),m.cc(3,"mat-card",3),m.cc(4,"div",4),m.cc(5,"div",5),m.Xb(6,"img",6),m.bc(),m.bc(),m.cc(7,"div",7),m.cc(8,"div",8),m.cc(9,"div",9),m.cc(10,"h5"),m.Yc(11,"Create Account"),m.bc(),m.bc(),m.bc(),m.cc(12,"div",10),m.cc(13,"button",11),m.cc(14,"div",12),m.Xb(15,"img",13),m.bc(),m.cc(16,"span",14),m.oc("click",(function(){return t.signInWithGoogle()})),m.Yc(17," Sign in with Google "),m.bc(),m.bc(),m.bc(),m.cc(18,"div",15),m.Xb(19,"div",16),m.Yc(20," \xa0\xa0\xa0OR \xa0\xa0\xa0 "),m.Xb(21,"div",16),m.bc(),m.Xb(22,"br"),m.cc(23,"form",17),m.cc(24,"div",18),m.cc(25,"mat-form-field",19),m.cc(26,"mat-label"),m.Yc(27,"Enter First Name*"),m.bc(),m.cc(28,"input",20),m.oc("keydown.space",(function(e){return e.preventDefault()}))("keyup",(function(e){return t.commonService.firstCapitalize(e)})),m.bc(),m.bc(),m.cc(29,"div",21),m.Wc(30,W,2,1,"small",22),m.Wc(31,P,2,1,"small",22),m.Wc(32,O,2,1,"small",22),m.bc(),m.cc(33,"mat-form-field",19),m.cc(34,"mat-label"),m.Yc(35,"Enter Last Name*"),m.bc(),m.cc(36,"input",23),m.oc("keydown.space",(function(e){return e.preventDefault()}))("keyup",(function(e){return t.commonService.firstCapitalize(e)})),m.bc(),m.bc(),m.cc(37,"div",21),m.Wc(38,M,2,1,"small",22),m.Wc(39,J,2,1,"small",22),m.Wc(40,D,2,1,"small",22),m.bc(),m.cc(41,"mat-form-field",19),m.cc(42,"mat-label"),m.Yc(43,"Enter Email*"),m.bc(),m.cc(44,"input",24),m.oc("keyup",(function(){return t.checkEmailStatusForDelete()})),m.bc(),m.bc(),m.cc(45,"div",21),m.Wc(46,Y,2,1,"small",22),m.Wc(47,z,2,1,"small",22),m.Wc(48,B,2,1,"small",22),m.Wc(49,V,2,1,"small",22),m.Wc(50,F,2,1,"small",22),m.Wc(51,G,2,1,"small",22),m.bc(),m.cc(52,"mat-form-field",19),m.cc(53,"mat-label"),m.Yc(54,"Enter Password*"),m.bc(),m.cc(55,"input",25),m.oc("keydown.space",(function(e){return e.preventDefault()})),m.bc(),m.bc(),m.cc(56,"div",21),m.Wc(57,q,2,1,"small",22),m.Wc(58,X,2,1,"small",22),m.Wc(59,H,2,1,"small",22),m.bc(),m.cc(60,"mat-form-field",19),m.cc(61,"mat-label"),m.Yc(62,"Confirm Password*"),m.bc(),m.cc(63,"input",26),m.oc("keydown.space",(function(e){return e.preventDefault()})),m.bc(),m.bc(),m.cc(64,"div",21),m.Wc(65,j,2,1,"small",22),m.Wc(66,K,2,1,"small",22),m.bc(),m.cc(67,"div",27),m.Xb(68,"mat-checkbox",28),m.cc(69,"span",29),m.Yc(70,"I agree to "),m.cc(71,"a",30),m.oc("click",(function(){return t.openEULADialog()})),m.Yc(72,"End User License Agreement/Service Agreement"),m.bc(),m.bc(),m.bc(),m.cc(73,"button",31),m.oc("click",(function(){return t.signup()})),m.Yc(74,"Sign Up"),m.bc(),m.cc(75,"p",32),m.Yc(76,"Already have an account? "),m.cc(77,"a",33),m.Yc(78," Sign in"),m.bc(),m.bc(),m.bc(),m.bc(),m.bc(),m.bc(),m.bc(),m.bc(),m.bc()),2&e&&(m.Jb(23),m.zc("formGroup",t.form),m.Jb(7),m.zc("ngIf",t.form.controls.firstName.hasError("required")&&t.form.controls.firstName.touched),m.Jb(1),m.zc("ngIf",t.form.controls.firstName.hasError("pattern")),m.Jb(1),m.zc("ngIf",t.form.controls.firstName.hasError("whitespace")&&t.form.controls.firstName.touched),m.Jb(6),m.zc("ngIf",t.form.controls.lastName.hasError("required")&&t.form.controls.lastName.touched),m.Jb(1),m.zc("ngIf",t.form.controls.lastName.hasError("pattern")),m.Jb(1),m.zc("ngIf",t.form.controls.lastName.hasError("whitespace")&&t.form.controls.lastName.touched),m.Jb(6),m.zc("ngIf",t.form.controls.email.hasError("required")&&t.form.controls.email.touched),m.Jb(1),m.zc("ngIf",t.form.controls.email.hasError("whitespace")&&t.form.controls.email.touched),m.Jb(1),m.zc("ngIf",t.form.controls.email.hasError("isEmailExist")),m.Jb(1),m.zc("ngIf",t.form.controls.email.hasError("pattern")&&t.form.controls.email.touched),m.Jb(1),m.zc("ngIf",t.form.controls.email.hasError("isEmailDeleted")&&t.form.controls.email.touched),m.Jb(1),m.zc("ngIf",t.form.controls.email.hasError("isSocialExist")&&t.form.controls.email.touched),m.Jb(6),m.zc("ngIf",t.form.controls.password.hasError("required")&&t.form.controls.password.touched),m.Jb(1),m.zc("ngIf",t.form.controls.password.hasError("pattern")&&t.form.controls.password.touched),m.Jb(1),m.zc("ngIf",t.form.controls.password.hasError("whitespace")&&t.form.controls.password.touched),m.Jb(6),m.zc("ngIf",t.form.controls.confirmPassword.hasError("required")&&t.form.controls.confirmPassword.touched),m.Jb(1),m.zc("ngIf",t.form.controls.confirmPassword.hasError("passwordCompare")),m.Jb(7),m.zc("disabled",!t.form.valid),m.Jb(4),m.zc("routerLink",m.Cc(20,Q)))},directives:[f.c,f.b,f.a,b.a,h.a,s.C,s.s,s.k,y.b,y.e,v.b,s.d,s.n,s.r,s.i,r.n,R.a,a.i],styles:["body .gene-login-wrapper{border-radius:0!important;padding:0!important}body .gene-login-wrapper .login-logo{margin-top:1rem}body .gene-login-wrapper .login-logo img{margin-bottom:2rem}body .gene-login-wrapper h5{font-family:Roboto!important;font-size:24px;font-weight:500;font-stretch:normal;font-style:normal;line-height:normal;letter-spacing:normal;text-align:center;color:#333}body .gene-login-wrapper button{margin:1rem 0;padding:0 13px;height:49px}body .gene-login-wrapper .success-bg .mat-button-wrapper{display:flex!important}body .gene-login-wrapper .or-div{margin-top:10px}body .gene-login-wrapper .line{width:51px;height:1px;background-color:#ddd}body .gene-login-wrapper .google-img{background-color:#fff;width:45px;height:41px;border-radius:2px;margin-left:-10px}body .gene-login-wrapper .google-txt{margin-left:auto;margin-right:auto}body .gene-login-wrapper .message-block .error-message{display:none}body .gene-login-wrapper .message-block .error-message:first-child{display:block}"],encapsulation:2}),e}();function $(e,t){1&e&&(m.cc(0,"small",20),m.Yc(1," Please enter email. "),m.bc())}function ee(e,t){if(1&e&&(m.cc(0,"small",20),m.Yc(1),m.bc()),2&e){var o=m.sc();m.Jb(1),m.ad(" ",o.message.error[2]," ")}}function te(e,t){if(1&e&&(m.cc(0,"small",20),m.Yc(1),m.bc()),2&e){var o=m.sc();m.Jb(1),m.ad(" ",o.message.error[13]," ")}}function oe(e,t){if(1&e&&(m.cc(0,"small",20),m.Yc(1),m.bc()),2&e){var o=m.sc();m.Jb(1),m.ad(" ",o.message.error[2]," ")}}function re(e,t){if(1&e&&(m.cc(0,"small",20),m.Yc(1),m.bc()),2&e){var o=m.sc();m.Jb(1),m.ad(" ",o.message.error[22]," ")}}var ae=function(){function e(e,t,o,r,a){this.fb=e,this.dialog=t,this.router=o,this._snackBar=r,this.authService=a,this.emailRegex=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/}return e.prototype.forgot=function(){this.router.navigateByUrl("/reset-password")},e.prototype.ngOnInit=function(){this.form=this.fb.group({email:[null,s.A.compose([s.A.required,this.noWhitespaceValidator,s.A.pattern(this.emailRegex)])]}),this.message=i.a},e.prototype.noWhitespaceValidator=function(e){return(e.value||"").match(/\s/g)?{whitespace:!0}:null},e.prototype.openSnackBar=function(e,t){this._snackBar.open(e,t,{duration:1e4})},e.prototype.checkEmail=function(){var e=this;"VALID"===this.form.controls.email.status&&this.authService.checkEmail({email:this.form.value.email}).subscribe((function(t){1==t?(e.form.controls.email.setErrors(null),e.onSubmit()):e.form.controls.email.setErrors("socialExist"==t.status?{socialExist:!0}:{invalidEmail:!0})}))},e.prototype.onSubmit=function(){var e=this;this.authService.forgotPassword({email:this.form.value.email}).subscribe((function(t){1==t?(e.form.controls.email.setValue(""),e.form.controls.email.markAsUntouched(),e.openErrorDialog(i.a.popUpMessages.EMAIL_RESET_LINK,i.a.popUpHeaders.RESET_LINK_SENT)):"userNotExist"==t.status?e.form.controls.email.setErrors({invalidEmail:!0}):e.openSnackBar("Something went wrong.","")}))},e.prototype.backToLogin=function(){var e=localStorage.getItem("pageType");this.router.navigateByUrl("customer"==e?"/login":"vendor"==e?"/vendor/login":"admin"==e?"/admin/login":"publisher/login")},e.prototype.openErrorDialog=function(e,t){this.dialogRefLocation=this.dialog.open(l.a,{panelClass:"dialog-message",data:{msg:e,headerMsg:t}}),this.dialogRefLocation.afterClosed().subscribe((function(e){}))},e.\u0275fac=function(t){return new(t||e)(m.Wb(s.f),m.Wb(d.b),m.Wb(a.f),m.Wb(g.a),m.Wb(n.a))},e.\u0275cmp=m.Qb({type:e,selectors:[["ms-forgot-password"]],decls:32,vars:7,consts:[[1,"gene-login","gene-session","pad-y-xl",2,"background-image","url('assets/img/doranto-img/logo-bg.png')"],["fxLayout","row","fxLayoutAlign","center start"],["fxLayout","column","fxFlex.xl","540px","fxFlex.lg","540px","fxFlex.md","540px","fxFlex.sm","540px","fxFlex.xs","100"],[1,"gene-login-wrapper"],["fxLayout","column","fxLayoutAlign","center center mrgn-b-md",2,"background","#000"],[1,"login-logo","justify-content"],["src","assets/img/doranto-img/logo.png"],[2,"padding","16px"],["fxLayout","column","fxLayoutAlign","center center mrgn-b-md"],[1,"justify-content"],[3,"formGroup"],["fxLayout","column","fxLayoutAlign","start stretch"],["appearance","outline"],["matInput","","type","email","name","email","formControlName","email",3,"keyup.enter"],[1,"message-block"],["class","gene-block","class","warn-text error-message",4,"ngIf"],["fxLayout","row","fxLayoutAlign","start center"],["mat-raised-button","",3,"disabled","click"],[1,"text-center"],[3,"click"],[1,"warn-text","error-message"]],template:function(e,t){1&e&&(m.cc(0,"div",0),m.cc(1,"div",1),m.cc(2,"div",2),m.cc(3,"mat-card",3),m.cc(4,"div",4),m.cc(5,"div",5),m.Xb(6,"img",6),m.bc(),m.bc(),m.cc(7,"div",7),m.cc(8,"div",8),m.cc(9,"div",9),m.cc(10,"h5"),m.Yc(11,"Reset your account password"),m.bc(),m.bc(),m.bc(),m.Xb(12,"br"),m.cc(13,"form",10),m.cc(14,"div",11),m.cc(15,"mat-form-field",12),m.cc(16,"mat-label"),m.Yc(17,"Enter Email*"),m.bc(),m.cc(18,"input",13),m.oc("keyup.enter",(function(){return t.checkEmail()})),m.bc(),m.bc(),m.cc(19,"div",14),m.Wc(20,$,2,0,"small",15),m.Wc(21,ee,2,1,"small",15),m.Wc(22,te,2,1,"small",15),m.Wc(23,oe,2,1,"small",15),m.Wc(24,re,2,1,"small",15),m.bc(),m.cc(25,"div",16),m.Yc(26," The link to reset password will be sent to you on your email "),m.bc(),m.cc(27,"button",17),m.oc("click",(function(){return t.checkEmail()})),m.Yc(28,"Proceed"),m.bc(),m.cc(29,"p",18),m.cc(30,"a",19),m.oc("click",(function(){return t.backToLogin()})),m.Yc(31,"Back to Login"),m.bc(),m.bc(),m.bc(),m.bc(),m.bc(),m.bc(),m.bc(),m.bc(),m.bc()),2&e&&(m.Jb(13),m.zc("formGroup",t.form),m.Jb(7),m.zc("ngIf",t.form.controls.email.hasError("required")&&t.form.controls.email.touched),m.Jb(1),m.zc("ngIf",t.form.controls.email.hasError("whitespace")&&t.form.controls.email.touched),m.Jb(1),m.zc("ngIf",t.form.controls.email.hasError("invalidEmail")),m.Jb(1),m.zc("ngIf",t.form.controls.email.hasError("pattern")&&t.form.controls.email.touched),m.Jb(1),m.zc("ngIf",t.form.controls.email.hasError("socialExist")),m.Jb(3),m.zc("disabled",!t.form.valid))},directives:[f.c,f.b,f.a,b.a,s.C,s.s,s.k,y.b,y.e,v.b,s.d,s.r,s.i,r.n,h.a],styles:["body .gene-login-wrapper{border-radius:0!important;padding:0!important}body .gene-login-wrapper .login-logo{margin-top:1rem}body .gene-login-wrapper .login-logo img{margin-bottom:2rem}body .gene-login-wrapper h5{font-family:Roboto!important;font-size:24px;font-weight:500;font-stretch:normal;font-style:normal;line-height:normal;letter-spacing:normal;text-align:center;color:#333}body .gene-login-wrapper button{margin:1rem 0}body .gene-login-wrapper .success-bg .mat-button-wrapper{display:flex!important}body .gene-login-wrapper .message-block .error-message{display:none}body .gene-login-wrapper .message-block .error-message:first-child{display:block}"],encapsulation:2}),e}(),ne=o("zasx"),se=function(){function e(e,t){this.router=e,this.translate=t}return e.prototype.onSubmit=function(){this.router.navigate(["/"])},e.\u0275fac=function(t){return new(t||e)(m.Wb(a.f),m.Wb(ne.d))},e.\u0275cmp=m.Qb({type:e,selectors:[["ms-lockscreen"]],decls:20,vars:2,consts:[[1,"gene-user-section","gene-session","gene-lockscreen","pad-y-xl"],["fxLayout","row","fxLayoutAlign","center start"],["fxLayout","column","fxFlex.xl","540px","fxFlex.lg","540px","fxFlex.md","540px","fxFlex.sm","540px","fxFlex.xs","100"],[3,"ngSubmit"],["form","ngForm"],[1,"text-center","mrgn-b-lg","warn-text"],[1,"login-logo","text-center"],["src","assets/img/user-1.jpg","alt","user","title","user",1,"img-circle"],[1,"text-center"],["fxLayout","column","fxLayoutAlign","space-around"],[1,"full-wid","mrgn-b-sm"],["matInput","","placeholder","Username","name","username","required","",3,"ngModel","ngModelChange"],[2,"text-align","center"],["mat-raised-button","","type","submit",1,"primary-bg",3,"disabled"]],template:function(e,t){if(1&e&&(m.cc(0,"div",0),m.cc(1,"div",1),m.cc(2,"div",2),m.cc(3,"mat-card"),m.cc(4,"mat-card-content"),m.cc(5,"form",3,4),m.oc("ngSubmit",(function(){return t.onSubmit()})),m.cc(7,"h2",5),m.Yc(8,"Session Expired !"),m.bc(),m.cc(9,"div",6),m.Xb(10,"img",7),m.bc(),m.cc(11,"h4",8),m.Yc(12,"John Doe"),m.bc(),m.cc(13,"div",9),m.cc(14,"div"),m.cc(15,"mat-form-field",10),m.cc(16,"input",11),m.oc("ngModelChange",(function(e){return t.username=e})),m.bc(),m.bc(),m.bc(),m.cc(17,"div",12),m.cc(18,"button",13),m.Yc(19,"Unlock"),m.bc(),m.bc(),m.bc(),m.bc(),m.bc(),m.bc(),m.bc(),m.bc(),m.bc()),2&e){var o=m.Ic(6);m.Jb(16),m.zc("ngModel",t.username),m.Jb(2),m.zc("disabled",!o.valid)}},directives:[f.c,f.b,f.a,b.a,b.c,s.C,s.s,s.t,y.b,v.b,s.d,s.y,s.r,s.u,h.a],styles:[".gene-user-section .login-logo img{margin-bottom:1.5rem}.gene-user-section button{margin-bottom:1rem}.gene-user-section .mat-card{padding-bottom:2rem;padding-top:2rem}"],encapsulation:2}),e}();function ce(e,t){if(1&e&&(m.cc(0,"small",20),m.Yc(1),m.bc()),2&e){var o=m.sc();m.Jb(1),m.ad(" ",o.message.error[15]," ")}}function ie(e,t){if(1&e&&(m.cc(0,"small",20),m.Yc(1),m.bc()),2&e){var o=m.sc();m.Jb(1),m.ad(" ",o.message.error[5]," ")}}function le(e,t){if(1&e&&(m.cc(0,"small",20),m.Yc(1),m.bc()),2&e){var o=m.sc();m.Jb(1),m.ad(" ",o.message.error[4]," ")}}function pe(e,t){if(1&e&&(m.cc(0,"small",20),m.Yc(1),m.bc()),2&e){var o=m.sc();m.Jb(1),m.ad(" ",o.message.error[16]," ")}}function me(e,t){if(1&e&&(m.cc(0,"small",20),m.Yc(1),m.bc()),2&e){var o=m.sc();m.Jb(1),m.ad(" ",o.message.error[17]," ")}}var ge=function(){function e(e,t,o,r,a,n){var s=this;this.fb=e,this.dialog=t,this.router=o,this.authService=r,this._snackBar=a,this.route=n,this.passwordRegex=/^(.{8,})/,this.route.params.subscribe((function(e){s.token=e.id,s.userType=e.userType}))}return e.prototype.validateLink=function(){var e=this;this.authService.resetPasswordLink({token:this.token}).subscribe((function(t){t||(e.router.navigateByUrl("/forgot-password"),e.openSnackBar("Password reset link appears to be invalid. Please request a new link.",""))}))},e.prototype.reset=function(){this.router.navigateByUrl("customer"==this.userType?"/login":"vendor"==this.userType?"/vendor/login":"admin"==this.userType?"/admin/login":"/publisher/login")},e.prototype.ngOnInit=function(){this.validateLink(),this.message=i.a,this.form=this.fb.group({password:[null,s.A.compose([s.A.required,s.A.pattern(this.passwordRegex),this.noWhitespaceValidator])],confirmPassword:[""]},{validator:this.comparePassword})},e.prototype.noWhitespaceValidator=function(e){return(e.value||"").match(/\s/g)?{whitespace:!0}:null},e.prototype.comparePassword=function(e){var t=e.get("password").value,o=e.get("confirmPassword").value;e.get("confirmPassword").setErrors({invalid:!0}),""!=o.length?t!==o?e.get("confirmPassword").setErrors({passwordCompare:!0}):e.get("confirmPassword").setErrors(null):e.get("confirmPassword").setErrors({invalid:!0})},e.prototype.openSnackBar=function(e,t){this._snackBar.open(e,t,{duration:1e4})},e.prototype.resetPasword=function(){var e=this;"VALID"===this.form.controls.password.status&&"VALID"===this.form.controls.confirmPassword.status&&this.authService.reset({token:this.token,password:this.form.value.password}).subscribe((function(t){e.openErrorDialog(t)}),(function(t){e.openSnackBar("something went wrong.",""),e.router.navigateByUrl("customer"==e.userType?"login":"vendor"==e.userType?"vendor/login":"admin"==e.userType?"admin/login":"publisher/login")}))},e.prototype.backToLogin=function(){var e=localStorage.getItem("pageType");this.router.navigateByUrl("customer"==e?"/login":"vendor"==e?"/vendor/login":"admin"==e?"/admin/login":"publisher/login")},e.prototype.openErrorDialog=function(e){var t,o,r=this;1==e?(o=i.a.popUpHeaders.SUCCESS,t=i.a.popUpMessages.PASSWORD_RESET):"invalidToken"==e.status?(o=i.a.popUpHeaders.SUCCESS,t=i.a.popUpMessages.INVALID_LINK_RESET_PASSWORD):(o=i.a.popUpHeaders.ERROR,t=i.a.popUpMessages.SOMETHING_WENT_WRONG),this.dialogRefLocation=this.dialog.open(l.a,{panelClass:"dialog-message",data:{msg:t,headerMsg:o}}),this.dialogRefLocation.afterClosed().subscribe((function(t){r.router.navigateByUrl(1==e?"customer"==r.userType?"login":"vendor"==r.userType?"vendor/login":"admin"==r.userType?"admin/login":"publisher/login":"invalidToken"==e.status?"forgot-password":"customer"==r.userType?"login":"vendor"==r.userType?"vendor/login":"admin"==r.userType?"admin/login":"publisher/login")}))},e.\u0275fac=function(t){return new(t||e)(m.Wb(s.f),m.Wb(d.b),m.Wb(a.f),m.Wb(n.a),m.Wb(g.a),m.Wb(a.a))},e.\u0275cmp=m.Qb({type:e,selectors:[["ms-reset-password"]],decls:35,vars:7,consts:[[1,"gene-login","gene-session","pad-y-xl",2,"background-image","url('assets/img/doranto-img/logo-bg.png')"],["fxLayout","row","fxLayoutAlign","center start"],["fxLayout","column","fxFlex.xl","540px","fxFlex.lg","540px","fxFlex.md","540px","fxFlex.sm","540px","fxFlex.xs","100"],[1,"gene-login-wrapper"],["fxLayout","column","fxLayoutAlign","center center mrgn-b-md",2,"background","#000"],[1,"login-logo","justify-content"],["src","assets/img/doranto-img/logo.png"],[2,"padding","16px"],["fxLayout","column","fxLayoutAlign","center center mrgn-b-md"],[1,"justify-content"],[3,"formGroup"],["fxLayout","column","fxLayoutAlign","start stretch"],["appearance","outline"],["type","password","maxlength","16","matInput","","formControlName","password",3,"keydown.space"],[1,"message-block"],["class","gene-block","class","warn-text error-message",4,"ngIf"],["type","password","maxlength","16","matInput","","formControlName","confirmPassword",3,"keydown.space"],["mat-raised-button","",3,"disabled","click"],[1,"text-center"],[3,"click"],[1,"warn-text","error-message"]],template:function(e,t){1&e&&(m.cc(0,"div",0),m.cc(1,"div",1),m.cc(2,"div",2),m.cc(3,"mat-card",3),m.cc(4,"div",4),m.cc(5,"div",5),m.Xb(6,"img",6),m.bc(),m.bc(),m.cc(7,"div",7),m.cc(8,"div",8),m.cc(9,"div",9),m.cc(10,"h5"),m.Yc(11,"Reset your account password"),m.bc(),m.bc(),m.bc(),m.Xb(12,"br"),m.cc(13,"form",10),m.cc(14,"div",11),m.cc(15,"mat-form-field",12),m.cc(16,"mat-label"),m.Yc(17,"New Password*"),m.bc(),m.cc(18,"input",13),m.oc("keydown.space",(function(e){return e.preventDefault()})),m.bc(),m.bc(),m.cc(19,"div",14),m.Wc(20,ce,2,1,"small",15),m.Wc(21,ie,2,1,"small",15),m.Wc(22,le,2,1,"small",15),m.bc(),m.cc(23,"mat-form-field",12),m.cc(24,"mat-label"),m.Yc(25,"Confirm Your Password*"),m.bc(),m.cc(26,"input",16),m.oc("keydown.space",(function(e){return e.preventDefault()})),m.bc(),m.bc(),m.cc(27,"div",14),m.Wc(28,pe,2,1,"small",15),m.Wc(29,me,2,1,"small",15),m.bc(),m.cc(30,"button",17),m.oc("click",(function(){return t.resetPasword()})),m.Yc(31,"Reset Password"),m.bc(),m.cc(32,"p",18),m.cc(33,"a",19),m.oc("click",(function(){return t.backToLogin()})),m.Yc(34,"Back to Login"),m.bc(),m.bc(),m.bc(),m.bc(),m.bc(),m.bc(),m.bc(),m.bc(),m.bc()),2&e&&(m.Jb(13),m.zc("formGroup",t.form),m.Jb(7),m.zc("ngIf",t.form.controls.password.hasError("required")&&t.form.controls.password.touched),m.Jb(1),m.zc("ngIf",t.form.controls.password.hasError("pattern")&&t.form.controls.password.touched),m.Jb(1),m.zc("ngIf",t.form.controls.password.hasError("whitespace")&&t.form.controls.password.touched),m.Jb(6),m.zc("ngIf",t.form.controls.confirmPassword.hasError("required")&&t.form.controls.confirmPassword.touched),m.Jb(1),m.zc("ngIf",t.form.controls.confirmPassword.hasError("passwordCompare")),m.Jb(1),m.zc("disabled",!t.form.valid))},directives:[f.c,f.b,f.a,b.a,s.C,s.s,s.k,y.b,y.e,v.b,s.d,s.n,s.r,s.i,r.n,h.a],styles:[".gene-login-wrapper[_ngcontent-%COMP%]{border-radius:0!important;padding:0!important}.gene-login-wrapper[_ngcontent-%COMP%]   .login-logo[_ngcontent-%COMP%]{margin-top:1rem}.gene-login-wrapper[_ngcontent-%COMP%]   .login-logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-bottom:2rem}.gene-login-wrapper[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-family:Roboto!important;font-size:24px;font-weight:500;font-stretch:normal;font-style:normal;line-height:normal;letter-spacing:normal;text-align:center;color:#333}.gene-login-wrapper[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:1rem 0}.gene-login-wrapper[_ngcontent-%COMP%]   .success-bg[_ngcontent-%COMP%]   .mat-button-wrapper[_ngcontent-%COMP%]{display:flex!important}.gene-login-wrapper[_ngcontent-%COMP%]   .message-block[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{display:none}.gene-login-wrapper[_ngcontent-%COMP%]   .message-block[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]:first-child{display:block}"]}),e}(),ue=o("FQIK"),de=o("6Eyj"),fe=o("dZt2"),be=o("PGIi"),he=o("MQXd"),ye=o("PNZG"),ve=o("9UPi"),xe=function(){function e(e,t,o,r,a){var n=this;this.route=e,this._snackBar=t,this.dialog=o,this.router=r,this.authService=a,this.route.params.subscribe((function(e){n.token=e.id,n.userType=e.userType}))}return e.prototype.ngOnInit=function(){this.token?this.verifyUser():this.router.navigateByUrl("vendor"==this.userType||"publisher"==this.userType?"vendor/signup":"register")},e.prototype.verifyUser=function(){var e=this;this.authService.verifyEmail({token:this.token}).subscribe((function(t){1==t.status?e.openErrorDialog(i.a.popUpMessages.SUCCESSFULLY_VERIFIED,i.a.popUpHeaders.SUCCESS,t):"invalidToken"==t.status&&e.openErrorDialog(i.a.popUpMessages.INVALID_TOKEN,i.a.popUpHeaders.INVALID_LINK)}))},e.prototype.openSnackBar=function(e,t){this._snackBar.open(e,t,{duration:1e4})},e.prototype.openErrorDialog=function(e,t,o){var r=this;this.dialogRefLocation=this.dialog.open(l.a,{panelClass:"dialog-message",data:{msg:e,headerMsg:t}}),this.dialogRefLocation.afterClosed().subscribe((function(e){if(o){var t=o.user;"vendor"==o.user.userType&&"vendor"==t.userType&&r.router.navigate(["/vendor/login"]),"customer"==o.user.userType&&"customer"==t.userType&&r.router.navigate(["/dashboard/new-ad"]),"publisher"==o.user.userType&&"publisher"==t.userType&&r.router.navigate([ve.a.THANK_YOU+"/publisher/"+o.user.firstName])}else r.router.navigateByUrl("customer"==r.userType?"register":"vendor"==r.userType?"vendor/signup":"publisher/signup")}))},e.\u0275fac=function(t){return new(t||e)(m.Wb(a.a),m.Wb(g.a),m.Wb(d.b),m.Wb(a.f),m.Wb(n.a))},e.\u0275cmp=m.Qb({type:e,selectors:[["ms-verify-email"]],decls:0,vars:0,template:function(e,t){},styles:[""]}),e}(),we=o("7pIA"),Ee=o("mcTK");function Ie(e,t){if(1&e){var o=m.dc();m.cc(0,"h6",11),m.oc("click",(function(){return m.Mc(o),m.sc().resend()})),m.Yc(1,"Click on "),m.cc(2,"a"),m.Yc(3,"Resend Link"),m.bc(),m.Yc(4," if you haven't received it."),m.bc()}}function ke(e,t){if(1&e&&(m.cc(0,"h6",14),m.Yc(1,"You can request verification link after "),m.cc(2,"strong"),m.Yc(3),m.bc(),m.Yc(4," seconds if you haven't received it."),m.bc()),2&e){var o=m.sc();m.Jb(3),m.Zc(o.timeLeft)}}var Le=function(){function e(e,t,o,r,a){this.router=e,this.route=t,this.authService=o,this._snackBar=r,this.dialog=a,this.timeLeft=30,this.disableGoBack=!1,this.timerOn=!0}return e.prototype.ngOnInit=function(){this.startTimer(1e3),this.details=history.state.data},e.prototype.resend=function(){var e=this;this.authService.signupUserProfile(this.details).subscribe((function(t){1==t.status?(e.interval&&clearInterval(e.interval),e.disableGoBack=!1,e.openErrorDialog(i.a.popUpMessages.RESENT_VERIFICATION,i.a.popUpHeaders.VERIFICATION_EMAIL,"resent")):"userExists"==t.status&&e.openErrorDialog(i.a.popUpHeaders.ALREADY_VERIFIED,i.a.popUpMessages.USER_VERIFIED,"verified")}),(function(e){console.log(e)}))},e.prototype.ngOnDestroy=function(){this.interval&&clearInterval(this.interval)},e.prototype.startTimer=function(e){var t=this;this.interval=setInterval((function(){t.timeLeft>0?t.timeLeft--:(clearInterval(t.interval),t.disableGoBack=!0)}),e)},e.prototype.timer=function(e){this.s=Math.floor(e/30),this.s=this.s<10?"0"+this.s:this.s,this.timeLeft=e-=1,e>=0&&this.timerOn&&setTimeout((function(){Object(we.a)(e)}),1e3)},e.prototype.goback=function(){this.router.navigate("customer"==this.details.userType?["/register"]:"publisher"==this.details.userType?["/publisher/signup"]:["/register"],{state:{data:this.details}})},e.prototype.openErrorDialog=function(e,t,o){var r=this;this.dialogRefLocation=this.dialog.open(l.a,{panelClass:"dialog-message",data:{msg:e,headerMsg:t}}),this.dialogRefLocation.afterClosed().subscribe((function(e){"verified"==o?r.router.navigateByUrl("login"):"resent"==o&&(r.timeLeft=30,r.startTimer(1e3))}))},e.prototype.openSnackBar=function(e,t){this._snackBar.open(e,t,{duration:1e4})},e.\u0275fac=function(t){return new(t||e)(m.Wb(a.f),m.Wb(a.a),m.Wb(n.a),m.Wb(g.a),m.Wb(d.b))},e.\u0275cmp=m.Qb({type:e,selectors:[["ms-pre-verify-email"]],decls:22,vars:2,consts:[[1,"gene-login","gene-session","pad-y-xl",2,"background-image","url('assets/img/doranto-img/vendor-bg-img.png')"],["fxLayout","row","fxLayoutAlign","center start"],["fxLayout","column","fxFlex.xl","540px","fxFlex.lg","540px","fxFlex.md","540px","fxFlex.sm","540px","fxFlex.xs","100"],[1,"gene-login-wrapper"],["fxLayout","column","fxLayoutAlign","center center mrgn-b-md",2,"background","#000"],[1,"login-logo","justify-content"],["src","assets/img/doranto-img/logo.png"],[2,"padding","16px"],["fxLayout","column","fxLayoutAlign","center center mrgn-b-md"],["src","assets/img/doranto-img/email.png",1,"center","pad-20"],[1,"justify-content"],["ngClass.xs","your-account-txt_xs",1,"your-account-txt",3,"click"],["class","your-account-txt","ngClass.xs","your-account-txt_xs",3,"click",4,"ngIf"],["class","your-account-txt","ngClass.xs","your-account-txt_xs",4,"ngIf"],["ngClass.xs","your-account-txt_xs",1,"your-account-txt"]],template:function(e,t){1&e&&(m.cc(0,"div",0),m.cc(1,"div",1),m.cc(2,"div",2),m.cc(3,"mat-card",3),m.cc(4,"div",4),m.cc(5,"div",5),m.Xb(6,"img",6),m.bc(),m.bc(),m.cc(7,"div",7),m.cc(8,"div",8),m.Xb(9,"img",9),m.cc(10,"div",10),m.Xb(11,"br"),m.cc(12,"h6",11),m.oc("click",(function(){return t.goback()})),m.Yc(13," We've sent you a confirmation to verify your email address! "),m.Xb(14,"br"),m.cc(15,"a"),m.Yc(16," Go Back "),m.bc(),m.Yc(17,"if you would like to change your email. "),m.bc(),m.Xb(18,"br"),m.Wc(19,Ie,5,0,"h6",12),m.Wc(20,ke,5,1,"h6",13),m.bc(),m.bc(),m.Xb(21,"br"),m.bc(),m.bc(),m.bc(),m.bc(),m.bc()),2&e&&(m.Jb(19),m.zc("ngIf",t.disableGoBack),m.Jb(1),m.zc("ngIf",!t.disableGoBack))},directives:[f.c,f.b,f.a,b.a,Ee.a,r.n],styles:[".gene-login-wrapper[_ngcontent-%COMP%]{border-radius:0!important;padding:0!important}.gene-login-wrapper[_ngcontent-%COMP%]   .login-logo[_ngcontent-%COMP%]{margin-top:1rem}.gene-login-wrapper[_ngcontent-%COMP%]   .login-logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-bottom:2rem}.gene-login-wrapper[_ngcontent-%COMP%]   .your-account-txt[_ngcontent-%COMP%]{font-size:16px}.gene-login-wrapper[_ngcontent-%COMP%]   .your-account-txt[_ngcontent-%COMP%], .gene-login-wrapper[_ngcontent-%COMP%]   .your-account-txt_xs[_ngcontent-%COMP%]{font-weight:400;font-stretch:normal;font-style:normal;line-height:1.38;letter-spacing:normal;text-align:center;color:#333}.gene-login-wrapper[_ngcontent-%COMP%]   .your-account-txt_xs[_ngcontent-%COMP%]{font-size:13px}.gene-login-wrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:16px;font-weight:400;text-align:center}.gene-login-wrapper[_ngcontent-%COMP%]   .pad-20[_ngcontent-%COMP%]{padding:20px}.gene-login-wrapper[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:1rem 0;font-size:17px}"]}),e}(),Se=[{path:"",children:[{path:"login",component:T},{path:"register",component:Z},{path:"forgot-password",component:ae},{path:"reset-password/:id/:userType",component:ge},{path:"lockscreen",component:se},{path:"verify/:id/:userType",component:xe},{path:"verify-email",component:xe},{path:"email-invite/:id/:userType",component:function(){function e(e,t,o,r,a){var n=this;this.route=e,this.dialog=t,this._snackBar=o,this.router=r,this.authService=a,this.route.params.subscribe((function(e){n.tempUserId=e.id,n.userType=e.userType}))}return e.prototype.ngOnInit=function(){this.tempUserId?this.getTempUserDetails():this.router.navigateByUrl("vendor"==this.userType?"vendor/signup":"publisher/login")},e.prototype.getTempUserDetails=function(){var e=this;this.authService.getTempUserDetails({userId:this.tempUserId}).subscribe((function(t){t&&("invalidUserId"==t.status?e.openErrorDialog("vendor"==e.userType?i.a.popUpMessages.VENDOR_INVALID_INV_LINK:i.a.popUpMessages.PUBLISHER_INVALID_INV_LINK,i.a.popUpHeaders.INVALID_LINK):e.router.navigate("vendor"==e.userType?["vendor/signup"]:"customer"==e.userType?["/register"]:["publisher/signup"],{state:{data:t}}))}))},e.prototype.openSnackBar=function(e,t){this._snackBar.open(e,t,{duration:1e4})},e.prototype.openErrorDialog=function(e,t){var o=this;this.dialogRefLocation=this.dialog.open(l.a,{panelClass:"dialog-message",data:{msg:e,headerMsg:t}}),this.dialogRefLocation.afterClosed().subscribe((function(e){o.router.navigateByUrl("vendor"==o.userType?ve.a.VENDOR_SIGNUP:ve.a.PUBLISHER_SIGNUP)}))},e.\u0275fac=function(t){return new(t||e)(m.Wb(a.a),m.Wb(d.b),m.Wb(g.a),m.Wb(a.f),m.Wb(n.a))},e.\u0275cmp=m.Qb({type:e,selectors:[["ms-email-invite"]],decls:0,vars:0,template:function(e,t){},styles:[""]}),e}()},{path:"update-email/:id/:userType/:changeRequest",component:function(){function e(e,t,o,r,a,n){var s=this;this.route=e,this._snackBar=t,this.dialog=o,this.router=r,this.commonService=a,this.authService=n,this.route.params.subscribe((function(e){s.token=e.id,s.userType=e.userType,s.changeRequest=e.changeRequest}))}return e.prototype.ngOnInit=function(){this.token?this.changeUserEmail():this.router.navigateByUrl("vendor"==this.userType?"vendor/login":"error/404")},e.prototype.changeUserEmail=function(){var e=this;this.authService.updateEmail("yes"==this.changeRequest?{token:this.token,changeReq:!0}:{token:this.token,changeReq:!1}).subscribe((function(t){e.openErrorDialog(t)}))},e.prototype.openSnackBar=function(e,t){this._snackBar.open(e,t,{duration:1e4})},e.prototype.openErrorDialog=function(e){var t,o,r=this;o=i.a.popUpHeaders.INVALID_LINK,"invalidToken"==e.status?(o=i.a.popUpHeaders.ERROR,t=i.a.popUpMessages.TOKEN_EXPIRED):e.changeRequest&&e.updated?(o=i.a.popUpHeaders.SUCCESS,t=i.a.popUpMessages.EMAIL_UPDATED):e.changeRequest||(o=i.a.popUpHeaders.ALERT,t=i.a.popUpMessages.EMAIL_NOT_UPDATED),this.dialogRefLocation=this.dialog.open(l.a,{panelClass:"dialog-message",data:{msg:t,headerMsg:o}}),this.dialogRefLocation.afterClosed().subscribe((function(t){"invalidToken"==e.status||e.changeRequest&&e.updated?r.router.navigateByUrl("vendor"==r.userType?"vendor/login":"publisher/login"):e.changeRequest||"vendor"==r.userType||r.commonService.redirectPublisherD1_D2()}))},e.\u0275fac=function(t){return new(t||e)(m.Wb(a.a),m.Wb(g.a),m.Wb(d.b),m.Wb(a.f),m.Wb(p.a),m.Wb(n.a))},e.\u0275cmp=m.Qb({type:e,selectors:[["ms-update-email"]],decls:0,vars:0,template:function(e,t){},styles:[""]}),e}()},{path:"pre-verify-email",component:Le},{path:"thankyou",component:be.a},{path:"thankyou/:type/:firstName",component:be.a}]},{path:"vendor",children:[{path:"login",component:fe.a},{path:"signup",component:ue.a},{path:"signup2",component:de.a},{path:"signup2/:id/:userId/:userType",component:de.a},{path:"signup2/:userId",component:de.a},{path:"thankyou",component:be.a},{path:"forgot-password",component:he.a},{path:"reset-password",component:ye.a}]}],Ae=o("nrXU"),Ce=function(){function e(){}return e.\u0275mod=m.Ub({type:e}),e.\u0275inj=m.Tb({factory:function(t){return new(t||e)},providers:[],imports:[[r.c,Ae.a,ne.b,a.j.forChild(Se),u.a.forRoot(),g.b]]}),e}()}}]);