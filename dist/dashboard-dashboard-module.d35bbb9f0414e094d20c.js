(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"+3YS":function(e,t){e.exports=function(e){if(Array.isArray(e))return e}},"+IV6":function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n(t)}e.exports=n},"+Sw5":function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},"+bRE":function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},"0qAl":function(e,t){e.exports=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}},10:function(e,t){},11:function(e,t){},12:function(e,t){},13:function(e,t){},14:function(e,t){},"5WRv":function(e,t,n){var r=n("iNmH"),i=n("Qatm"),a=n("Zhxd"),o=n("kluZ");e.exports=function(e){return r(e)||i(e)||a(e)||o()}},9:function(e,t){},AQPL:function(e,t,n){var r=n("+IV6");e.exports=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=r(e)););return e}},K4DB:function(e,t,n){var r=n("e+GP"),i=n("T1e2");e.exports=function(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?i(e):t}},NToG:function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}},Pe5x:function(e,t,n){var r=n("+IV6"),i=n("0qAl"),a=n("K4DB");e.exports=function(e){var t=i();return function(){var n,i=r(e);if(t){var o=r(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return a(this,n)}}},Qatm:function(e,t){e.exports=function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}},S411:function(e,t){e.exports=function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(c){i=!0,a=c}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}}},SDJZ:function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},T1e2:function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},WI9V:function(e,t){function n(t,r){return e.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},n(t,r)}e.exports=n},Zhxd:function(e,t,n){var r=n("+Sw5");e.exports=function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}},bb6g:function(e,t,n){"use strict";function r(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{c(r.next(e))}catch(t){a(t)}}function s(e){try{c(r.throw(e))}catch(t){a(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((r=r.apply(e,t||[])).next())}))}n.d(t,"a",(function(){return r}))},"e+GP":function(e,t){function n(t){return e.exports=n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(t)}e.exports=n},"eef+":function(e,t,n){var r=n("WI9V");e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}},fFdx:function(e,t){function n(e,t,n,r,i,a,o){try{var s=e[a](o),c=s.value}catch(l){return void n(l)}s.done?t(c):Promise.resolve(c).then(r,i)}e.exports=function(e){return function(){var t=this,r=arguments;return new Promise((function(i,a){var o=e.apply(t,r);function s(e){n(o,i,a,s,c,"next",e)}function c(e){n(o,i,a,s,c,"throw",e)}s(void 0)}))}}},g93O:function(module,exports,__webpack_require__){var _assertThisInitialized=__webpack_require__("T1e2"),_get=__webpack_require__("kxHp"),_getPrototypeOf=__webpack_require__("+IV6"),_slicedToArray=__webpack_require__("nxTg"),_toConsumableArray=__webpack_require__("5WRv"),_createForOfIteratorHelper=__webpack_require__("vhlT"),_regeneratorRuntime=__webpack_require__("NthX"),_asyncToGenerator=__webpack_require__("fFdx"),_inherits=__webpack_require__("eef+"),_createSuper=__webpack_require__("Pe5x"),_classCallCheck=__webpack_require__("SDJZ"),_createClass=__webpack_require__("NToG"),factory;factory=function(){return function(){"use strict";var __webpack_modules__=[function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"addLinkAttributes",{enumerable:!0,get:function(){return r.addLinkAttributes}}),Object.defineProperty(t,"getFilenameFromUrl",{enumerable:!0,get:function(){return r.getFilenameFromUrl}}),Object.defineProperty(t,"LinkTarget",{enumerable:!0,get:function(){return r.LinkTarget}}),Object.defineProperty(t,"loadScript",{enumerable:!0,get:function(){return r.loadScript}}),Object.defineProperty(t,"PDFDateString",{enumerable:!0,get:function(){return r.PDFDateString}}),Object.defineProperty(t,"RenderingCancelledException",{enumerable:!0,get:function(){return r.RenderingCancelledException}}),Object.defineProperty(t,"build",{enumerable:!0,get:function(){return i.build}}),Object.defineProperty(t,"getDocument",{enumerable:!0,get:function(){return i.getDocument}}),Object.defineProperty(t,"LoopbackPort",{enumerable:!0,get:function(){return i.LoopbackPort}}),Object.defineProperty(t,"PDFDataRangeTransport",{enumerable:!0,get:function(){return i.PDFDataRangeTransport}}),Object.defineProperty(t,"PDFWorker",{enumerable:!0,get:function(){return i.PDFWorker}}),Object.defineProperty(t,"version",{enumerable:!0,get:function(){return i.version}}),Object.defineProperty(t,"CMapCompressionType",{enumerable:!0,get:function(){return a.CMapCompressionType}}),Object.defineProperty(t,"createObjectURL",{enumerable:!0,get:function(){return a.createObjectURL}}),Object.defineProperty(t,"createPromiseCapability",{enumerable:!0,get:function(){return a.createPromiseCapability}}),Object.defineProperty(t,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return a.createValidAbsoluteUrl}}),Object.defineProperty(t,"InvalidPDFException",{enumerable:!0,get:function(){return a.InvalidPDFException}}),Object.defineProperty(t,"MissingPDFException",{enumerable:!0,get:function(){return a.MissingPDFException}}),Object.defineProperty(t,"OPS",{enumerable:!0,get:function(){return a.OPS}}),Object.defineProperty(t,"PasswordResponses",{enumerable:!0,get:function(){return a.PasswordResponses}}),Object.defineProperty(t,"PermissionFlag",{enumerable:!0,get:function(){return a.PermissionFlag}}),Object.defineProperty(t,"removeNullCharacters",{enumerable:!0,get:function(){return a.removeNullCharacters}}),Object.defineProperty(t,"shadow",{enumerable:!0,get:function(){return a.shadow}}),Object.defineProperty(t,"UnexpectedResponseException",{enumerable:!0,get:function(){return a.UnexpectedResponseException}}),Object.defineProperty(t,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return a.UNSUPPORTED_FEATURES}}),Object.defineProperty(t,"Util",{enumerable:!0,get:function(){return a.Util}}),Object.defineProperty(t,"VerbosityLevel",{enumerable:!0,get:function(){return a.VerbosityLevel}}),Object.defineProperty(t,"AnnotationLayer",{enumerable:!0,get:function(){return o.AnnotationLayer}}),Object.defineProperty(t,"apiCompatibilityParams",{enumerable:!0,get:function(){return s.apiCompatibilityParams}}),Object.defineProperty(t,"GlobalWorkerOptions",{enumerable:!0,get:function(){return c.GlobalWorkerOptions}}),Object.defineProperty(t,"renderTextLayer",{enumerable:!0,get:function(){return l.renderTextLayer}}),Object.defineProperty(t,"SVGGraphics",{enumerable:!0,get:function(){return u.SVGGraphics}});var r=n(1),i=n(5),a=n(2),o=n(19),s=n(9),c=n(12),l=n(21),u=n(22);if(n(4).isNodeJS){var d=n(23).PDFNodeStream;(0,i.setPDFNetworkStreamFactory)((function(e){return new d(e)}))}else{var h,f=n(26).PDFNetworkStream;(0,r.isFetchSupported)()&&(h=n(27).PDFFetchStream),(0,i.setPDFNetworkStreamFactory)((function(e){return h&&(0,r.isValidFetchUrl)(e.url)?new h(e):new f(e)}))}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.addLinkAttributes=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.url,i=t.target,a=t.rel,o=t.enabled,s=void 0===o||o;(0,r.assert)(n&&"string"==typeof n,'addLinkAttributes: A valid "url" parameter must provided.');var l=(0,r.removeNullCharacters)(n);s?e.href=e.title=l:(e.href="",e.title="Disabled: ".concat(l),e.onclick=function(){return!1});var u="";switch(i){case c.NONE:break;case c.SELF:u="_self";break;case c.BLANK:u="_blank";break;case c.PARENT:u="_parent";break;case c.TOP:u="_top"}e.target=u,e.rel="string"==typeof a?a:"noopener noreferrer nofollow"},t.deprecated=function(e){console.log("Deprecated API usage: "+e)},t.getFilenameFromUrl=function(e){var t=e.indexOf("#"),n=e.indexOf("?"),r=Math.min(t>0?t:e.length,n>0?n:e.length);return e.substring(e.lastIndexOf("/",r)+1,r)},t.isFetchSupported=l,t.isValidFetchUrl=u,t.loadScript=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new Promise((function(n,r){var i=document.createElement("script");i.src=e,i.onload=function(e){t&&i.remove(),n(e)},i.onerror=function(){r(new Error("Cannot load script at: ".concat(i.src)))},(document.head||document.documentElement).appendChild(i)}))},t.StatTimer=t.RenderingCancelledException=t.PDFDateString=t.PageViewport=t.LinkTarget=t.DOMSVGFactory=t.DOMCMapReaderFactory=t.DOMCanvasFactory=t.DEFAULT_LINK_REL=t.BaseCMapReaderFactory=t.BaseCanvasFactory=void 0;var r=n(2);t.DEFAULT_LINK_REL="noopener noreferrer nofollow";var i="http://www.w3.org/2000/svg",a=function(){function e(){_classCallCheck(this,e),this.constructor===e&&(0,r.unreachable)("Cannot initialize BaseCanvasFactory.")}return _createClass(e,[{key:"create",value:function(e,t){(0,r.unreachable)("Abstract method `create` called.")}},{key:"reset",value:function(e,t,n){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||n<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=n}},{key:"destroy",value:function(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}}]),e}();t.BaseCanvasFactory=a,t.DOMCanvasFactory=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=r.ownerDocument,a=void 0===i?globalThis.document:i;return _classCallCheck(this,n),(e=t.call(this))._document=a,e}return _createClass(n,[{key:"create",value:function(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");var n=this._document.createElement("canvas"),r=n.getContext("2d");return n.width=e,n.height=t,{canvas:n,context:r}}}]),n}(a);var o=function(){function e(t){var n=t.baseUrl,i=void 0===n?null:n,a=t.isCompressed,o=void 0!==a&&a;_classCallCheck(this,e),this.constructor===e&&(0,r.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=i,this.isCompressed=o}var t;return _createClass(e,[{key:"fetch",value:(t=_asyncToGenerator(_regeneratorRuntime.mark((function e(t){var n,i,a=this;return _regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,this.baseUrl){e.next=3;break}throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');case 3:if(n){e.next=5;break}throw new Error("CMap name must be specified.");case 5:return e.abrupt("return",this._fetchData(i=this.baseUrl+n+(this.isCompressed?".bcmap":""),this.isCompressed?r.CMapCompressionType.BINARY:r.CMapCompressionType.NONE).catch((function(e){throw new Error("Unable to load ".concat(a.isCompressed?"binary ":"","CMap at: ").concat(i))})));case 8:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"_fetchData",value:function(e,t){(0,r.unreachable)("Abstract method `_fetchData` called.")}}]),e}();t.BaseCMapReaderFactory=o,t.DOMCMapReaderFactory=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"_fetchData",value:function(e,t){var n=this;return l()&&u(e,document.baseURI)?fetch(e).then(function(){var e=_asyncToGenerator(_regeneratorRuntime.mark((function e(i){var a;return _regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i.ok){e.next=2;break}throw new Error(i.statusText);case 2:if(!n.isCompressed){e.next=10;break}return e.t0=Uint8Array,e.next=6,i.arrayBuffer();case 6:e.t1=e.sent,a=new e.t0(e.t1),e.next=15;break;case 10:return e.t2=r.stringToBytes,e.next=13,i.text();case 13:e.t3=e.sent,a=(0,e.t2)(e.t3);case 15:return e.abrupt("return",{cMapData:a,compressionType:t});case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()):new Promise((function(i,a){var o=new XMLHttpRequest;o.open("GET",e,!0),n.isCompressed&&(o.responseType="arraybuffer"),o.onreadystatechange=function(){if(o.readyState===XMLHttpRequest.DONE){var e;if((200===o.status||0===o.status)&&(n.isCompressed&&o.response?e=new Uint8Array(o.response):!n.isCompressed&&o.responseText&&(e=(0,r.stringToBytes)(o.responseText)),e))return void i({cMapData:e,compressionType:t});a(new Error(o.statusText))}},o.send(null)}))}}]),n}(o),t.DOMSVGFactory=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"create",value:function(e,t){(0,r.assert)(e>0&&t>0,"Invalid SVG dimensions");var n=document.createElementNS(i,"svg:svg");return n.setAttribute("version","1.1"),n.setAttribute("width",e+"px"),n.setAttribute("height",t+"px"),n.setAttribute("preserveAspectRatio","none"),n.setAttribute("viewBox","0 0 "+e+" "+t),n}},{key:"createElement",value:function(e){return(0,r.assert)("string"==typeof e,"Invalid SVG element type"),document.createElementNS(i,e)}}]),e}(),t.PageViewport=function(){function e(t){var n=t.viewBox,r=t.scale,i=t.rotation,a=t.offsetX,o=void 0===a?0:a,s=t.offsetY,c=void 0===s?0:s,l=t.dontFlip,u=void 0!==l&&l;_classCallCheck(this,e),this.viewBox=n,this.scale=r,this.rotation=i,this.offsetX=o,this.offsetY=c;var d,h,f,p,g,m,v,b,_=(n[2]+n[0])/2,y=(n[3]+n[1])/2;switch(i=(i%=360)<0?i+360:i){case 180:d=-1,h=0,f=0,p=1;break;case 90:d=0,h=1,f=1,p=0;break;case 270:d=0,h=-1,f=-1,p=0;break;case 0:d=1,h=0,f=0,p=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}u&&(f=-f,p=-p),0===d?(g=Math.abs(y-n[1])*r+o,m=Math.abs(_-n[0])*r+c,v=Math.abs(n[3]-n[1])*r,b=Math.abs(n[2]-n[0])*r):(g=Math.abs(_-n[0])*r+o,m=Math.abs(y-n[1])*r+c,v=Math.abs(n[2]-n[0])*r,b=Math.abs(n[3]-n[1])*r),this.transform=[d*r,h*r,f*r,p*r,g-d*r*_-f*r*y,m-h*r*_-p*r*y],this.width=v,this.height=b}return _createClass(e,[{key:"clone",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.scale,r=void 0===n?this.scale:n,i=t.rotation,a=void 0===i?this.rotation:i,o=t.offsetX,s=void 0===o?this.offsetX:o,c=t.offsetY,l=void 0===c?this.offsetY:c,u=t.dontFlip,d=void 0!==u&&u;return new e({viewBox:this.viewBox.slice(),scale:r,rotation:a,offsetX:s,offsetY:l,dontFlip:d})}},{key:"convertToViewportPoint",value:function(e,t){return r.Util.applyTransform([e,t],this.transform)}},{key:"convertToViewportRectangle",value:function(e){var t=r.Util.applyTransform([e[0],e[1]],this.transform),n=r.Util.applyTransform([e[2],e[3]],this.transform);return[t[0],t[1],n[0],n[1]]}},{key:"convertToPdfPoint",value:function(e,t){return r.Util.applyInverseTransform([e,t],this.transform)}}]),e}(),t.RenderingCancelledException=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).type=r,i}return n}(r.BaseException);var s,c={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4};function l(){return"undefined"!=typeof fetch&&"undefined"!=typeof Response&&"body"in Response.prototype&&"undefined"!=typeof ReadableStream}function u(e,t){try{var n=(t?new URL(e,t):new URL(e)).protocol;return"http:"===n||"https:"===n}catch(r){return!1}}t.LinkTarget=c,t.StatTimer=function(){function e(){_classCallCheck(this,e),this.started=Object.create(null),this.times=[]}return _createClass(e,[{key:"time",value:function(e){e in this.started&&(0,r.warn)("Timer is already running for ".concat(e)),this.started[e]=Date.now()}},{key:"timeEnd",value:function(e){e in this.started||(0,r.warn)("Timer has not been started for ".concat(e)),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}},{key:"toString",value:function(){var e,t=[],n=0,r=_createForOfIteratorHelper(this.times);try{for(r.s();!(e=r.n()).done;){var i=e.value.name;i.length>n&&(n=i.length)}}catch(l){r.e(l)}finally{r.f()}var a,o=_createForOfIteratorHelper(this.times);try{for(o.s();!(a=o.n()).done;){var s=a.value,c=s.end-s.start;t.push("".concat(s.name.padEnd(n)," ").concat(c,"ms\n"))}}catch(l){o.e(l)}finally{o.f()}return t.join("")}}]),e}(),t.PDFDateString=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"toDateObject",value:function(e){if(!e||!(0,r.isString)(e))return null;s||(s=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));var t=s.exec(e);if(!t)return null;var n=parseInt(t[1],10),i=parseInt(t[2],10);i=i>=1&&i<=12?i-1:0;var a=parseInt(t[3],10);a=a>=1&&a<=31?a:1;var o=parseInt(t[4],10);o=o>=0&&o<=23?o:0;var c=parseInt(t[5],10);c=c>=0&&c<=59?c:0;var l=parseInt(t[6],10);l=l>=0&&l<=59?l:0;var u=t[7]||"Z",d=parseInt(t[8],10);d=d>=0&&d<=23?d:0;var h=parseInt(t[9],10)||0;return h=h>=0&&h<=59?h:0,"-"===u?(o+=d,c+=h):"+"===u&&(o-=d,c-=h),new Date(Date.UTC(n,i,a,o,c,l))}}]),e}()},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.arrayByteLength=h,t.arraysToBytes=function(e){var t=e.length;if(1===t&&e[0]instanceof Uint8Array)return e[0];for(var n=0,r=0;r<t;r++)n+=h(e[r]);for(var i=0,a=new Uint8Array(n),o=0;o<t;o++){var s=e[o];s instanceof Uint8Array||(s="string"==typeof s?d(s):new Uint8Array(s));var c=s.byteLength;a.set(s,i),i+=c}return a},t.assert=s,t.bytesToString=function(e){s(null!==e&&"object"==typeof e&&void 0!==e.length,"Invalid argument for bytesToString");var t=e.length;if(t<8192)return String.fromCharCode.apply(null,e);for(var n=[],r=0;r<t;r+=8192){var i=Math.min(r+8192,t),a=e.subarray(r,i);n.push(String.fromCharCode.apply(null,a))}return n.join("")},t.createPromiseCapability=function(){var e=Object.create(null),t=!1;return Object.defineProperty(e,"settled",{get:function(){return t}}),e.promise=new Promise((function(n,r){e.resolve=function(e){t=!0,n(e)},e.reject=function(e){t=!0,r(e)}})),e},t.createValidAbsoluteUrl=function(e,t){if(!e)return null;try{var n=t?new URL(e,t):new URL(e);if(function(e){if(!e)return!1;switch(e.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(n))return n}catch(r){}return null},t.encodeToXmlString=function(e){for(var t=[],n=0,r=0,i=e.length;r<i;r++){var a=e.codePointAt(r);if(32<=a&&a<=126){var o=v[a];o&&(n<r&&t.push(e.substring(n,r)),t.push(o),n=r+1)}else n<r&&t.push(e.substring(n,r)),t.push("&#x".concat(a.toString(16).toUpperCase(),";")),a>55295&&(a<57344||a>65533)&&r++,n=r+1}return 0===t.length?e:(n<e.length&&t.push(e.substring(n,e.length)),t.join(""))},t.escapeString=function(e){return e.replace(/([()\\\n\r])/g,(function(e){return"\n"===e?"\\n":"\r"===e?"\\r":"\\".concat(e)}))},t.getModificationDate=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,t=[e.getUTCFullYear().toString(),(e.getUTCMonth()+1).toString().padStart(2,"0"),e.getUTCDate().toString().padStart(2,"0"),e.getUTCHours().toString().padStart(2,"0"),e.getUTCMinutes().toString().padStart(2,"0"),e.getUTCSeconds().toString().padStart(2,"0")];return t.join("")},t.getVerbosityLevel=function(){return i},t.info=function(e){i>=r.INFOS&&console.log("Info: ".concat(e))},t.isArrayBuffer=function(e){return"object"==typeof e&&null!==e&&void 0!==e.byteLength},t.isArrayEqual=function(e,t){return e.length===t.length&&e.every((function(e,n){return e===t[n]}))},t.isAscii=function(e){return/^[\x00-\x7F]*$/.test(e)},t.isBool=function(e){return"boolean"==typeof e},t.isNum=function(e){return"number"==typeof e},t.isSameOrigin=function(e,t){var n;try{if(!(n=new URL(e)).origin||"null"===n.origin)return!1}catch(i){return!1}var r=new URL(t,n);return n.origin===r.origin},t.isString=function(e){return"string"==typeof e},t.objectFromEntries=function(e){return Object.assign(Object.create(null),Object.fromEntries(e))},t.objectSize=function(e){return Object.keys(e).length},t.removeNullCharacters=function(e){return"string"!=typeof e?(a("The argument for removeNullCharacters must be a string."),e):e.replace(u,"")},t.setVerbosityLevel=function(e){Number.isInteger(e)&&(i=e)},t.shadow=c,t.string32=function(e){return String.fromCharCode(e>>24&255,e>>16&255,e>>8&255,255&e)},t.stringToBytes=d,t.stringToPDFString=function(e){var t=e.length,n=[];if("\xfe"===e[0]&&"\xff"===e[1])for(var r=2;r<t;r+=2)n.push(String.fromCharCode(e.charCodeAt(r)<<8|e.charCodeAt(r+1)));else if("\xff"===e[0]&&"\xfe"===e[1])for(var i=2;i<t;i+=2)n.push(String.fromCharCode(e.charCodeAt(i+1)<<8|e.charCodeAt(i)));else for(var a=0;a<t;++a){var o=g[e.charCodeAt(a)];n.push(o?String.fromCharCode(o):e.charAt(a))}return n.join("")},t.stringToUTF16BEString=function(e){for(var t=["\xfe\xff"],n=0,r=e.length;n<r;n++){var i=e.charCodeAt(n);t.push(String.fromCharCode(i>>8&255)),t.push(String.fromCharCode(255&i))}return t.join("")},t.stringToUTF8String=function(e){return decodeURIComponent(escape(e))},t.unreachable=o,t.utf8StringToString=function(e){return unescape(encodeURIComponent(e))},t.warn=a,t.VerbosityLevel=t.Util=t.UNSUPPORTED_FEATURES=t.UnknownErrorException=t.UnexpectedResponseException=t.TextRenderingMode=t.StreamType=t.PermissionFlag=t.PasswordResponses=t.PasswordException=t.PageActionEventType=t.OPS=t.MissingPDFException=t.IsLittleEndianCached=t.IsEvalSupportedCached=t.InvalidPDFException=t.ImageKind=t.IDENTITY_MATRIX=t.FormatError=t.FontType=t.FONT_IDENTITY_MATRIX=t.DocumentActionEventType=t.createObjectURL=t.CMapCompressionType=t.BaseException=t.AnnotationType=t.AnnotationStateModelType=t.AnnotationReviewState=t.AnnotationReplyType=t.AnnotationMarkedState=t.AnnotationFlag=t.AnnotationFieldFlag=t.AnnotationBorderStyleType=t.AnnotationActionEventType=t.AbortException=void 0,n(3),t.IDENTITY_MATRIX=[1,0,0,1,0,0],t.FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0],t.PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},t.TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},t.ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},t.AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},t.AnnotationStateModelType={MARKED:"Marked",REVIEW:"Review"},t.AnnotationMarkedState={MARKED:"Marked",UNMARKED:"Unmarked"},t.AnnotationReviewState={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"},t.AnnotationReplyType={GROUP:"Group",REPLY:"R"},t.AnnotationFlag={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512},t.AnnotationFieldFlag={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864},t.AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},t.AnnotationActionEventType={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"},t.DocumentActionEventType={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"},t.PageActionEventType={O:"PageOpen",C:"PageClose"},t.StreamType={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"},t.FontType={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};var r={ERRORS:0,WARNINGS:1,INFOS:5};t.VerbosityLevel=r,t.CMapCompressionType={NONE:0,BINARY:1,STREAM:2},t.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},t.UNSUPPORTED_FEATURES={unknown:"unknown",forms:"forms",javaScript:"javaScript",smask:"smask",shadingPattern:"shadingPattern",font:"font",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent"},t.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};var i=r.WARNINGS;function a(e){i>=r.WARNINGS&&console.log("Warning: ".concat(e))}function o(e){throw new Error(e)}function s(e,t){e||o(t)}function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!1}),n}var l=function(){function e(t){this.constructor===e&&o("Cannot initialize BaseException."),this.message=t,this.name=this.constructor.name}return e.prototype=new Error,e.constructor=e,e}();t.BaseException=l,t.PasswordException=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).code=r,i}return n}(l),t.UnknownErrorException=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).details=r,i}return n}(l),t.InvalidPDFException=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return n}(l),t.MissingPDFException=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return n}(l),t.UnexpectedResponseException=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).status=r,i}return n}(l),t.FormatError=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return n}(l),t.AbortException=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return n}(l);var u=/\x00/g;function d(e){s("string"==typeof e,"Invalid argument for stringToBytes");for(var t=e.length,n=new Uint8Array(t),r=0;r<t;++r)n[r]=255&e.charCodeAt(r);return n}function h(e){return void 0!==e.length?e.length:(s(void 0!==e.byteLength,"arrayByteLength - invalid argument."),e.byteLength)}t.IsLittleEndianCached={get value(){return c(this,"value",((e=new Uint8Array(4))[0]=1,1===new Uint32Array(e.buffer,0,1)[0]));var e}},t.IsEvalSupportedCached={get value(){return c(this,"value",function(){try{return new Function(""),!0}catch(e){return!1}}())}};var f=_toConsumableArray(Array(256).keys()).map((function(e){return e.toString(16).padStart(2,"0")}));t.Util=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"makeHexColor",value:function(e,t,n){return"#".concat(f[e]).concat(f[t]).concat(f[n])}},{key:"transform",value:function(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}},{key:"applyTransform",value:function(e,t){return[e[0]*t[0]+e[1]*t[2]+t[4],e[0]*t[1]+e[1]*t[3]+t[5]]}},{key:"applyInverseTransform",value:function(e,t){var n=t[0]*t[3]-t[1]*t[2];return[(e[0]*t[3]-e[1]*t[2]+t[2]*t[5]-t[4]*t[3])/n,(-e[0]*t[1]+e[1]*t[0]+t[4]*t[1]-t[5]*t[0])/n]}},{key:"getAxialAlignedBoundingBox",value:function(t,n){var r=e.applyTransform(t,n),i=e.applyTransform(t.slice(2,4),n),a=e.applyTransform([t[0],t[3]],n),o=e.applyTransform([t[2],t[1]],n);return[Math.min(r[0],i[0],a[0],o[0]),Math.min(r[1],i[1],a[1],o[1]),Math.max(r[0],i[0],a[0],o[0]),Math.max(r[1],i[1],a[1],o[1])]}},{key:"inverseTransform",value:function(e){var t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}},{key:"apply3dTransform",value:function(e,t){return[e[0]*t[0]+e[1]*t[1]+e[2]*t[2],e[3]*t[0]+e[4]*t[1]+e[5]*t[2],e[6]*t[0]+e[7]*t[1]+e[8]*t[2]]}},{key:"singularValueDecompose2dScale",value:function(e){var t=[e[0],e[2],e[1],e[3]],n=e[0]*t[0]+e[1]*t[2],r=e[2]*t[1]+e[3]*t[3],i=(n+r)/2,a=Math.sqrt((n+r)*(n+r)-4*(n*r-(e[2]*t[0]+e[3]*t[2])*(e[0]*t[1]+e[1]*t[3])))/2,o=i-a||1;return[Math.sqrt(i+a||1),Math.sqrt(o)]}},{key:"normalizeRect",value:function(e){var t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}},{key:"intersect",value:function(t,n){function r(e,t){return e-t}var i=[t[0],t[2],n[0],n[2]].sort(r),a=[t[1],t[3],n[1],n[3]].sort(r),o=[];return t=e.normalizeRect(t),n=e.normalizeRect(n),i[0]===t[0]&&i[1]===n[0]||i[0]===n[0]&&i[1]===t[0]?(o[0]=i[1],o[2]=i[2],a[0]===t[1]&&a[1]===n[1]||a[0]===n[1]&&a[1]===t[1]?(o[1]=a[1],o[3]=a[2],o):null):null}}]),e}();var p,g=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364],m=(p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!n&&URL.createObjectURL){var r=new Blob([e],{type:t});return URL.createObjectURL(r)}for(var i="data:".concat(t,";base64,"),a=0,o=e.length;a<o;a+=3){var s=255&e[a],c=255&e[a+1],l=255&e[a+2],u=s>>2,d=(3&s)<<4|c>>4,h=a+1<o?(15&c)<<2|l>>6:64,f=a+2<o?63&l:64;i+=p[u]+p[d]+p[h]+p[f]}return i});t.createObjectURL=m;var v={60:"&lt;",62:"&gt;",38:"&amp;",34:"&quot;",39:"&apos;"}},function(e,t,n){n(4)},function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.isNodeJS=void 0;var n=!("object"!=typeof process||process+""!="[object process]"||process.versions.nw||process.versions.electron&&process.type&&"browser"!==process.type);t.isNodeJS=n},function(__unused_webpack_module,exports,__w_pdfjs_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.getDocument=getDocument,exports.setPDFNetworkStreamFactory=setPDFNetworkStreamFactory,exports.version=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultCMapReaderFactory=exports.DefaultCanvasFactory=exports.build=void 0;var _util=__w_pdfjs_require__(2),_display_utils=__w_pdfjs_require__(1),_font_loader=__w_pdfjs_require__(6),_node_utils=__w_pdfjs_require__(7),_annotation_storage=__w_pdfjs_require__(8),_api_compatibility=__w_pdfjs_require__(9),_canvas=__w_pdfjs_require__(10),_worker_options=__w_pdfjs_require__(12),_is_node=__w_pdfjs_require__(4),_message_handler=__w_pdfjs_require__(13),_metadata=__w_pdfjs_require__(14),_optional_content_config=__w_pdfjs_require__(16),_transport_stream=__w_pdfjs_require__(17),_webgl=__w_pdfjs_require__(18),DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DefaultCanvasFactory=_is_node.isNodeJS?_node_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;var DefaultCMapReaderFactory=_is_node.isNodeJS?_node_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory,createPDFNetworkStream;function setPDFNetworkStreamFactory(e){createPDFNetworkStream=e}function getDocument(e){var t,n=new PDFDocumentLoadingTask;if("string"==typeof e)t={url:e};else if((0,_util.isArrayBuffer)(e))t={data:e};else if(e instanceof PDFDataRangeTransport)t={range:e};else{if("object"!=typeof e)throw new Error("Invalid parameter in getDocument, need either Uint8Array, string or a parameter object");if(!e.url&&!e.data&&!e.range)throw new Error("Invalid parameter object: need either .data, .range or .url");t=e}var r=Object.create(null),i=null,a=null;for(var o in t)if("url"!==o||"undefined"==typeof window)if("range"!==o)if("worker"!==o)if("data"!==o||t[o]instanceof Uint8Array)r[o]=t[o];else{var s=t[o];if("string"==typeof s)r[o]=(0,_util.stringToBytes)(s);else if("object"!=typeof s||null===s||isNaN(s.length)){if(!(0,_util.isArrayBuffer)(s))throw new Error("Invalid PDF binary data: either typed array, string or array-like object is expected in the data property.");r[o]=new Uint8Array(s)}else r[o]=new Uint8Array(s)}else a=t[o];else i=t[o];else r[o]=new URL(t[o],window.location).href;if(r.rangeChunkSize=r.rangeChunkSize||DEFAULT_RANGE_CHUNK_SIZE,r.CMapReaderFactory=r.CMapReaderFactory||DefaultCMapReaderFactory,r.ignoreErrors=!0!==r.stopAtErrors,r.fontExtraProperties=!0===r.fontExtraProperties,r.pdfBug=!0===r.pdfBug,Number.isInteger(r.maxImageSize)||(r.maxImageSize=-1),"boolean"!=typeof r.isEvalSupported&&(r.isEvalSupported=!0),"boolean"!=typeof r.disableFontFace&&(r.disableFontFace=_api_compatibility.apiCompatibilityParams.disableFontFace||!1),void 0===r.ownerDocument&&(r.ownerDocument=globalThis.document),"boolean"!=typeof r.disableRange&&(r.disableRange=!1),"boolean"!=typeof r.disableStream&&(r.disableStream=!1),"boolean"!=typeof r.disableAutoFetch&&(r.disableAutoFetch=!1),(0,_util.setVerbosityLevel)(r.verbosity),!a){var c={verbosity:r.verbosity,port:_worker_options.GlobalWorkerOptions.workerPort};a=c.port?PDFWorker.fromPort(c):new PDFWorker(c),n._worker=a}var l=n.docId;return a.promise.then((function(){if(n.destroyed)throw new Error("Loading aborted");var e=_fetchDocument(a,r,i,l),t=new Promise((function(e){var t;i?t=new _transport_stream.PDFDataTransportStream({length:r.length,initialData:r.initialData,progressiveDone:r.progressiveDone,disableRange:r.disableRange,disableStream:r.disableStream},i):r.data||(t=createPDFNetworkStream({url:r.url,length:r.length,httpHeaders:r.httpHeaders,withCredentials:r.withCredentials,rangeChunkSize:r.rangeChunkSize,disableRange:r.disableRange,disableStream:r.disableStream})),e(t)}));return Promise.all([e,t]).then((function(e){var t=_slicedToArray(e,2),i=t[0],o=t[1];if(n.destroyed)throw new Error("Loading aborted");var s=new _message_handler.MessageHandler(l,i,a.port);s.postMessageTransfers=a.postMessageTransfers;var c=new WorkerTransport(s,n,o,r);n._transport=c,s.send("Ready",null)}))})).catch(n._capability.reject),n}function _fetchDocument(e,t,n,r){return e.destroyed?Promise.reject(new Error("Worker was destroyed")):(n&&(t.length=n.length,t.initialData=n.initialData,t.progressiveDone=n.progressiveDone),e.messageHandler.sendWithPromise("GetDocRequest",{docId:r,apiVersion:"2.7.570",source:{data:t.data,url:t.url,password:t.password,disableAutoFetch:t.disableAutoFetch,rangeChunkSize:t.rangeChunkSize,length:t.length},maxImageSize:t.maxImageSize,disableFontFace:t.disableFontFace,postMessageTransfers:e.postMessageTransfers,docBaseUrl:t.docBaseUrl,ignoreErrors:t.ignoreErrors,isEvalSupported:t.isEvalSupported,fontExtraProperties:t.fontExtraProperties}).then((function(t){if(e.destroyed)throw new Error("Worker was destroyed");return t})))}exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;var PDFDocumentLoadingTask=(nextDocumentId=0,function(){function e(){_classCallCheck(this,e),this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId="d"+nextDocumentId++,this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}return _createClass(e,[{key:"promise",get:function(){return this._capability.promise}},{key:"destroy",value:function(){var e=this;return this.destroyed=!0,(this._transport?this._transport.destroy():Promise.resolve()).then((function(){e._transport=null,e._worker&&(e._worker.destroy(),e._worker=null)}))}}]),e}()),nextDocumentId,PDFDataRangeTransport=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];_classCallCheck(this,e),this.length=t,this.initialData=n,this.progressiveDone=r,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}return _createClass(e,[{key:"addRangeListener",value:function(e){this._rangeListeners.push(e)}},{key:"addProgressListener",value:function(e){this._progressListeners.push(e)}},{key:"addProgressiveReadListener",value:function(e){this._progressiveReadListeners.push(e)}},{key:"addProgressiveDoneListener",value:function(e){this._progressiveDoneListeners.push(e)}},{key:"onDataRange",value:function(e,t){var n,r=_createForOfIteratorHelper(this._rangeListeners);try{for(r.s();!(n=r.n()).done;)(0,n.value)(e,t)}catch(i){r.e(i)}finally{r.f()}}},{key:"onDataProgress",value:function(e,t){var n=this;this._readyCapability.promise.then((function(){var r,i=_createForOfIteratorHelper(n._progressListeners);try{for(i.s();!(r=i.n()).done;)(0,r.value)(e,t)}catch(a){i.e(a)}finally{i.f()}}))}},{key:"onDataProgressiveRead",value:function(e){var t=this;this._readyCapability.promise.then((function(){var n,r=_createForOfIteratorHelper(t._progressiveReadListeners);try{for(r.s();!(n=r.n()).done;)(0,n.value)(e)}catch(i){r.e(i)}finally{r.f()}}))}},{key:"onDataProgressiveDone",value:function(){var e=this;this._readyCapability.promise.then((function(){var t,n=_createForOfIteratorHelper(e._progressiveDoneListeners);try{for(n.s();!(t=n.n()).done;)(0,t.value)()}catch(r){n.e(r)}finally{n.f()}}))}},{key:"transportReady",value:function(){this._readyCapability.resolve()}},{key:"requestDataRange",value:function(e,t){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}},{key:"abort",value:function(){}}]),e}();exports.PDFDataRangeTransport=PDFDataRangeTransport;var PDFDocumentProxy=function(){function e(t,n){_classCallCheck(this,e),this._pdfInfo=t,this._transport=n}return _createClass(e,[{key:"annotationStorage",get:function(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}},{key:"numPages",get:function(){return this._pdfInfo.numPages}},{key:"fingerprint",get:function(){return this._pdfInfo.fingerprint}},{key:"getPage",value:function(e){return this._transport.getPage(e)}},{key:"getPageIndex",value:function(e){return this._transport.getPageIndex(e)}},{key:"getDestinations",value:function(){return this._transport.getDestinations()}},{key:"getDestination",value:function(e){return this._transport.getDestination(e)}},{key:"getPageLabels",value:function(){return this._transport.getPageLabels()}},{key:"getPageLayout",value:function(){return this._transport.getPageLayout()}},{key:"getPageMode",value:function(){return this._transport.getPageMode()}},{key:"getViewerPreferences",value:function(){return this._transport.getViewerPreferences()}},{key:"getOpenAction",value:function(){return this._transport.getOpenAction()}},{key:"getAttachments",value:function(){return this._transport.getAttachments()}},{key:"getJavaScript",value:function(){return this._transport.getJavaScript()}},{key:"getJSActions",value:function(){return this._transport.getDocJSActions()}},{key:"getOutline",value:function(){return this._transport.getOutline()}},{key:"getOptionalContentConfig",value:function(){return this._transport.getOptionalContentConfig()}},{key:"getPermissions",value:function(){return this._transport.getPermissions()}},{key:"getMetadata",value:function(){return this._transport.getMetadata()}},{key:"getMarkInfo",value:function(){return this._transport.getMarkInfo()}},{key:"getData",value:function(){return this._transport.getData()}},{key:"getDownloadInfo",value:function(){return this._transport.downloadInfoCapability.promise}},{key:"getStats",value:function(){return this._transport.getStats()}},{key:"cleanup",value:function(){return this._transport.startCleanup()}},{key:"destroy",value:function(){return this.loadingTask.destroy()}},{key:"loadingParams",get:function(){return this._transport.loadingParams}},{key:"loadingTask",get:function(){return this._transport.loadingTask}},{key:"saveDocument",value:function(e){return this._transport.saveDocument(e)}},{key:"getFieldObjects",value:function(){return this._transport.getFieldObjects()}},{key:"hasJSActions",value:function(){return this._transport.hasJSActions()}},{key:"getCalculationOrderIds",value:function(){return this._transport.getCalculationOrderIds()}}]),e}();exports.PDFDocumentProxy=PDFDocumentProxy;var PDFPageProxy=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];_classCallCheck(this,e),this._pageIndex=t,this._pageInfo=n,this._ownerDocument=i,this._transport=r,this._stats=a?new _display_utils.StatTimer:null,this._pdfBug=a,this.commonObjs=r.commonObjs,this.objs=new PDFObjects,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this._intentStates=new Map,this.destroyed=!1}return _createClass(e,[{key:"pageNumber",get:function(){return this._pageIndex+1}},{key:"rotate",get:function(){return this._pageInfo.rotate}},{key:"ref",get:function(){return this._pageInfo.ref}},{key:"userUnit",get:function(){return this._pageInfo.userUnit}},{key:"view",get:function(){return this._pageInfo.view}},{key:"getViewport",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.scale,n=e.rotation,r=void 0===n?this.rotate:n,i=e.offsetX,a=void 0===i?0:i,o=e.offsetY,s=void 0===o?0:o,c=e.dontFlip,l=void 0!==c&&c;return new _display_utils.PageViewport({viewBox:this.view,scale:t,rotation:r,offsetX:a,offsetY:s,dontFlip:l})}},{key:"getAnnotations",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.intent,n=void 0===t?null:t;return this.annotationsPromise&&this.annotationsIntent===n||(this.annotationsPromise=this._transport.getAnnotations(this._pageIndex,n),this.annotationsIntent=n),this.annotationsPromise}},{key:"getJSActions",value:function(){return this._jsActionsPromise||(this._jsActionsPromise=this._transport.getPageJSActions(this._pageIndex))}},{key:"render",value:function(e){var t=this,n=e.canvasContext,r=e.viewport,i=e.intent,a=void 0===i?"display":i,o=e.enableWebGL,s=void 0!==o&&o,c=e.renderInteractiveForms,l=void 0!==c&&c,u=e.transform,d=void 0===u?null:u,h=e.imageLayer,f=void 0===h?null:h,p=e.canvasFactory,g=void 0===p?null:p,m=e.background,v=void 0===m?null:m,b=e.annotationStorage,_=void 0===b?null:b,y=e.optionalContentConfigPromise,x=void 0===y?null:y;this._stats&&this._stats.time("Overall");var C="print"===a?"print":"display";this.pendingCleanup=!1,x||(x=this._transport.getOptionalContentConfig());var P=this._intentStates.get(C);P||(P=Object.create(null),this._intentStates.set(C,P)),P.streamReaderCancelTimeout&&(clearTimeout(P.streamReaderCancelTimeout),P.streamReaderCancelTimeout=null);var k=g||new DefaultCanvasFactory({ownerDocument:this._ownerDocument}),w=new _webgl.WebGLContext({enable:s});P.displayReadyCapability||(P.displayReadyCapability=(0,_util.createPromiseCapability)(),P.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList({pageIndex:this._pageIndex,intent:C,renderInteractiveForms:!0===l,annotationStorage:(null==_?void 0:_.getAll())||null}));var A=function(e){var n=P.renderTasks.indexOf(S);n>=0&&P.renderTasks.splice(n,1),(t.cleanupAfterRender||"print"===C)&&(t.pendingCleanup=!0),t._tryCleanup(),e?(S.capability.reject(e),t._abortOperatorList({intentState:P,reason:e})):S.capability.resolve(),t._stats&&(t._stats.timeEnd("Rendering"),t._stats.timeEnd("Overall"))},S=new InternalRenderTask({callback:A,params:{canvasContext:n,viewport:r,transform:d,imageLayer:f,background:v},objs:this.objs,commonObjs:this.commonObjs,operatorList:P.operatorList,pageIndex:this._pageIndex,canvasFactory:k,webGLContext:w,useRequestAnimationFrame:"print"!==C,pdfBug:this._pdfBug});P.renderTasks||(P.renderTasks=[]),P.renderTasks.push(S);var M=S.task;return Promise.all([P.displayReadyCapability.promise,x]).then((function(e){var n=_slicedToArray(e,2),r=n[0],i=n[1];t.pendingCleanup?A():(t._stats&&t._stats.time("Rendering"),S.initializeGraphics({transparency:r,optionalContentConfig:i}),S.operatorListChanged())})).catch(A),M}},{key:"getOperatorList",value:function(){var e,t=this._intentStates.get("oplist");return t||(t=Object.create(null),this._intentStates.set("oplist",t)),t.opListReadCapability||((e=Object.create(null)).operatorListChanged=function(){if(t.operatorList.lastChunk){t.opListReadCapability.resolve(t.operatorList);var n=t.renderTasks.indexOf(e);n>=0&&t.renderTasks.splice(n,1)}},t.opListReadCapability=(0,_util.createPromiseCapability)(),t.renderTasks=[],t.renderTasks.push(e),t.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList({pageIndex:this._pageIndex,intent:"oplist"})),t.opListReadCapability.promise}},{key:"streamTextContent",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.normalizeWhitespace,n=void 0!==t&&t,r=e.disableCombineTextItems,i=void 0!==r&&r,a=100;return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,normalizeWhitespace:!0===n,combineTextItems:!0!==i},{highWaterMark:a,size:function(e){return e.items.length}})}},{key:"getTextContent",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.streamTextContent(e);return new Promise((function(e,n){var r=t.getReader(),i={items:[],styles:Object.create(null)};!function t(){r.read().then((function(n){var r,a=n.value;n.done?e(i):(Object.assign(i.styles,a.styles),(r=i.items).push.apply(r,_toConsumableArray(a.items)),t())}),n)}()}))}},{key:"_destroy",value:function(){this.destroyed=!0,this._transport.pageCache[this._pageIndex]=null;var e,t=[],n=_createForOfIteratorHelper(this._intentStates);try{for(n.s();!(e=n.n()).done;){var r=_slicedToArray(e.value,2),i=r[0],a=r[1];if(this._abortOperatorList({intentState:a,reason:new Error("Page was destroyed."),force:!0}),"oplist"!==i){var o,s=_createForOfIteratorHelper(a.renderTasks);try{for(s.s();!(o=s.n()).done;){var c=o.value;t.push(c.completed),c.cancel()}}catch(l){s.e(l)}finally{s.f()}}}}catch(l){n.e(l)}finally{n.f()}return this.objs.clear(),this.annotationsPromise=null,this._jsActionsPromise=null,this.pendingCleanup=!1,Promise.all(t)}},{key:"cleanup",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.pendingCleanup=!0,this._tryCleanup(e)}},{key:"_tryCleanup",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.pendingCleanup)return!1;var t,n=_createForOfIteratorHelper(this._intentStates.values());try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.renderTasks,a=r.operatorList;if(0!==i.length||!a.lastChunk)return!1}}catch(o){n.e(o)}finally{n.f()}return this._intentStates.clear(),this.objs.clear(),this.annotationsPromise=null,this._jsActionsPromise=null,e&&this._stats&&(this._stats=new _display_utils.StatTimer),this.pendingCleanup=!1,!0}},{key:"_startRenderPage",value:function(e,t){var n=this._intentStates.get(t);n&&(this._stats&&this._stats.timeEnd("Page Request"),n.displayReadyCapability&&n.displayReadyCapability.resolve(e))}},{key:"_renderPageChunk",value:function(e,t){for(var n=0,r=e.length;n<r;n++)t.operatorList.fnArray.push(e.fnArray[n]),t.operatorList.argsArray.push(e.argsArray[n]);t.operatorList.lastChunk=e.lastChunk;for(var i=0;i<t.renderTasks.length;i++)t.renderTasks[i].operatorListChanged();e.lastChunk&&this._tryCleanup()}},{key:"_pumpOperatorList",value:function(e){var t=this;(0,_util.assert)(e.intent,'PDFPageProxy._pumpOperatorList: Expected "intent" argument.');var n=this._transport.messageHandler.sendWithStream("GetOperatorList",e).getReader(),r=this._intentStates.get(e.intent);r.streamReader=n,function e(){n.read().then((function(n){var i=n.value;n.done?r.streamReader=null:t._transport.destroyed||(t._renderPageChunk(i,r),e())}),(function(e){if(r.streamReader=null,!t._transport.destroyed){if(r.operatorList){r.operatorList.lastChunk=!0;for(var n=0;n<r.renderTasks.length;n++)r.renderTasks[n].operatorListChanged();t._tryCleanup()}if(r.displayReadyCapability)r.displayReadyCapability.reject(e);else{if(!r.opListReadCapability)throw e;r.opListReadCapability.reject(e)}}}))}()}},{key:"_abortOperatorList",value:function(e){var t=this,n=e.intentState,r=e.reason,i=e.force,a=void 0!==i&&i;if((0,_util.assert)(r instanceof Error||"object"==typeof r&&null!==r,'PDFPageProxy._abortOperatorList: Expected "reason" argument.'),n.streamReader){if(!a){if(0!==n.renderTasks.length)return;if(r instanceof _display_utils.RenderingCancelledException)return void(n.streamReaderCancelTimeout=setTimeout((function(){t._abortOperatorList({intentState:n,reason:r,force:!0}),n.streamReaderCancelTimeout=null}),RENDERING_CANCELLED_TIMEOUT))}if(n.streamReader.cancel(new _util.AbortException(null==r?void 0:r.message)),n.streamReader=null,!this._transport.destroyed){var o,s=_createForOfIteratorHelper(this._intentStates);try{for(s.s();!(o=s.n()).done;){var c=_slicedToArray(o.value,2);if(c[1]===n){this._intentStates.delete(c[0]);break}}}catch(l){s.e(l)}finally{s.f()}this.cleanup()}}}},{key:"stats",get:function(){return this._stats}}]),e}();exports.PDFPageProxy=PDFPageProxy;var LoopbackPort=function(){function e(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];_classCallCheck(this,e),this._listeners=[],this._defer=t,this._deferred=Promise.resolve(void 0)}return _createClass(e,[{key:"postMessage",value:function(e,t){var n=this;if(this._defer){var r=new WeakMap,i={data:function e(n){if("object"!=typeof n||null===n)return n;if(r.has(n))return r.get(n);var i,a;if((i=n.buffer)&&(0,_util.isArrayBuffer)(i))return a=null!=t&&t.includes(i)?new n.constructor(i,n.byteOffset,n.byteLength):new n.constructor(n),r.set(n,a),a;for(var o in a=Array.isArray(n)?[]:{},r.set(n,a),n){for(var s=void 0,c=n;!(s=Object.getOwnPropertyDescriptor(c,o));)c=Object.getPrototypeOf(c);if(void 0!==s.value)if("function"!=typeof s.value)a[o]=e(s.value);else if(n.hasOwnProperty&&n.hasOwnProperty(o))throw new Error("LoopbackPort.postMessage - cannot clone: ".concat(n[o]))}return a}(e)};this._deferred.then((function(){n._listeners.forEach((function(e){e.call(n,i)}))}))}else this._listeners.forEach((function(t){t.call(n,{data:e})}))}},{key:"addEventListener",value:function(e,t){this._listeners.push(t)}},{key:"removeEventListener",value:function(e,t){var n=this._listeners.indexOf(t);this._listeners.splice(n,1)}},{key:"terminate",value:function(){this._listeners.length=0}}]),e}();exports.LoopbackPort=LoopbackPort;var PDFWorker=function PDFWorkerClosure(){var pdfWorkerPorts=new WeakMap,isWorkerDisabled=!1,fallbackWorkerSrc,nextFakeWorkerId=0,fakeWorkerCapability;if(_is_node.isNodeJS)isWorkerDisabled=!0,fallbackWorkerSrc="./pdf.worker.js";else if("object"==typeof document&&"currentScript"in document){var _document$currentScri,pdfjsFilePath=null===(_document$currentScri=document.currentScript)||void 0===_document$currentScri?void 0:_document$currentScri.src;pdfjsFilePath&&(fallbackWorkerSrc=pdfjsFilePath.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}function _getWorkerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(void 0!==fallbackWorkerSrc)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}function getMainThreadWorkerMessageHandler(){var e;try{var t;e=null===(t=globalThis.pdfjsWorker)||void 0===t?void 0:t.WorkerMessageHandler}catch(n){}return e||null}function setupFakeWorkerGlobal(){if(fakeWorkerCapability)return fakeWorkerCapability.promise;fakeWorkerCapability=(0,_util.createPromiseCapability)();var loader=function(){var _ref20=_asyncToGenerator(_regeneratorRuntime.mark((function _callee3(){var mainWorkerMessageHandler,worker;return _regeneratorRuntime.wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:if(mainWorkerMessageHandler=getMainThreadWorkerMessageHandler(),!mainWorkerMessageHandler){_context3.next=3;break}return _context3.abrupt("return",mainWorkerMessageHandler);case 3:if(!_is_node.isNodeJS){_context3.next=6;break}return worker=eval("require")(_getWorkerSrc()),_context3.abrupt("return",worker.WorkerMessageHandler);case 6:return _context3.next=8,(0,_display_utils.loadScript)(_getWorkerSrc());case 8:return _context3.abrupt("return",window.pdfjsWorker.WorkerMessageHandler);case 9:case"end":return _context3.stop()}}),_callee3)})));return function(){return _ref20.apply(this,arguments)}}();return loader().then(fakeWorkerCapability.resolve,fakeWorkerCapability.reject),fakeWorkerCapability.promise}function createCDNWrapper(e){return URL.createObjectURL(new Blob(["importScripts('"+e+"');"]))}var PDFWorker=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.name,r=void 0===n?null:n,i=t.port,a=void 0===i?null:i,o=t.verbosity,s=void 0===o?(0,_util.getVerbosityLevel)():o;if(_classCallCheck(this,e),a&&pdfWorkerPorts.has(a))throw new Error("Cannot use more than one PDFWorker per port");if(this.name=r,this.destroyed=!1,this.postMessageTransfers=!0,this.verbosity=s,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,a)return pdfWorkerPorts.set(a,this),void this._initializeFromPort(a);this._initialize()}return _createClass(e,[{key:"promise",get:function(){return this._readyCapability.promise}},{key:"port",get:function(){return this._port}},{key:"messageHandler",get:function(){return this._messageHandler}},{key:"_initializeFromPort",value:function(e){this._port=e,this._messageHandler=new _message_handler.MessageHandler("main","worker",e),this._messageHandler.on("ready",(function(){})),this._readyCapability.resolve()}},{key:"_initialize",value:function(){var e=this;if("undefined"!=typeof Worker&&!isWorkerDisabled&&!getMainThreadWorkerMessageHandler()){var t=_getWorkerSrc();try{(0,_util.isSameOrigin)(window.location.href,t)||(t=createCDNWrapper(new URL(t,window.location).href));var n=new Worker(t),r=new _message_handler.MessageHandler("main","worker",n),i=function(){n.removeEventListener("error",a),r.destroy(),n.terminate(),e.destroyed?e._readyCapability.reject(new Error("Worker was destroyed")):e._setupFakeWorker()},a=function(){e._webWorker||i()};n.addEventListener("error",a),r.on("test",(function(t){n.removeEventListener("error",a),e.destroyed?i():t?(e._messageHandler=r,e._port=n,e._webWorker=n,t.supportTransfers||(e.postMessageTransfers=!1),e._readyCapability.resolve(),r.send("configure",{verbosity:e.verbosity})):(e._setupFakeWorker(),r.destroy(),n.terminate())})),r.on("ready",(function(t){if(n.removeEventListener("error",a),e.destroyed)i();else try{o()}catch(r){e._setupFakeWorker()}}));var o=function(){var t=new Uint8Array([e.postMessageTransfers?255:0]);try{r.send("test",t,[t.buffer])}catch(n){(0,_util.warn)("Cannot use postMessage transfers."),t[0]=0,r.send("test",t)}};return void o()}catch(s){(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}},{key:"_setupFakeWorker",value:function(){var e=this;isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),isWorkerDisabled=!0),setupFakeWorkerGlobal().then((function(t){if(e.destroyed)e._readyCapability.reject(new Error("Worker was destroyed"));else{var n=new LoopbackPort;e._port=n;var r="fake"+nextFakeWorkerId++,i=new _message_handler.MessageHandler(r+"_worker",r,n);t.setup(i,n);var a=new _message_handler.MessageHandler(r,r+"_worker",n);e._messageHandler=a,e._readyCapability.resolve(),a.send("configure",{verbosity:e.verbosity})}})).catch((function(t){e._readyCapability.reject(new Error('Setting up fake worker failed: "'.concat(t.message,'".')))}))}},{key:"destroy",value:function(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),pdfWorkerPorts.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}}],[{key:"fromPort",value:function(t){if(!t||!t.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return pdfWorkerPorts.has(t.port)?pdfWorkerPorts.get(t.port):new e(t)}},{key:"getWorkerSrc",value:function(){return _getWorkerSrc()}}]),e}();return PDFWorker}();exports.PDFWorker=PDFWorker;var WorkerTransport=function(){function e(t,n,r,i){_classCallCheck(this,e),this.messageHandler=t,this.loadingTask=n,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({docId:n.docId,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),ownerDocument:i.ownerDocument}),this._params=i,this.CMapReaderFactory=new i.CMapReaderFactory({baseUrl:i.cMapUrl,isCompressed:i.cMapPacked}),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=r,this._fullReader=null,this._lastProgress=null,this.pageCache=[],this.pagePromises=[],this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}return _createClass(e,[{key:"loadingTaskSettled",get:function(){return this.loadingTask._capability.settled}},{key:"destroy",value:function(){var e=this;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));var t=[];this.pageCache.forEach((function(e){e&&t.push(e._destroy())})),this.pageCache.length=0,this.pagePromises.length=0;var n=this.messageHandler.sendWithPromise("Terminate",null);if(t.push(n),this.loadingTaskSettled){var r=this.loadingTask.promise.then((function(e){e.hasOwnProperty("annotationStorage")&&e.annotationStorage.resetModified()})).catch((function(){}));t.push(r)}return Promise.all(t).then((function(){e.commonObjs.clear(),e.fontLoader.clear(),e._hasJSActionsPromise=null,e._networkStream&&e._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),e.messageHandler&&(e.messageHandler.destroy(),e.messageHandler=null),e.destroyCapability.resolve()}),this.destroyCapability.reject),this.destroyCapability.promise}},{key:"setupMessageHandler",value:function(){var e=this,t=this.messageHandler,n=this.loadingTask;t.on("GetReader",(function(t,n){(0,_util.assert)(e._networkStream,"GetReader - no `IPDFStream` instance available."),e._fullReader=e._networkStream.getFullReader(),e._fullReader.onProgress=function(t){e._lastProgress={loaded:t.loaded,total:t.total}},n.onPull=function(){e._fullReader.read().then((function(e){var t=e.value;e.done?n.close():((0,_util.assert)((0,_util.isArrayBuffer)(t),"GetReader - expected an ArrayBuffer."),n.enqueue(new Uint8Array(t),1,[t]))})).catch((function(e){n.error(e)}))},n.onCancel=function(t){e._fullReader.cancel(t),n.ready.catch((function(t){if(!e.destroyed)throw t}))}})),t.on("ReaderHeadersReady",(function(t){var r=(0,_util.createPromiseCapability)(),i=e._fullReader;return i.headersReady.then((function(){i.isStreamingSupported&&i.isRangeSupported||(e._lastProgress&&n.onProgress&&n.onProgress(e._lastProgress),i.onProgress=function(e){n.onProgress&&n.onProgress({loaded:e.loaded,total:e.total})}),r.resolve({isStreamingSupported:i.isStreamingSupported,isRangeSupported:i.isRangeSupported,contentLength:i.contentLength})}),r.reject),r.promise})),t.on("GetRangeReader",(function(t,n){(0,_util.assert)(e._networkStream,"GetRangeReader - no `IPDFStream` instance available.");var r=e._networkStream.getRangeReader(t.begin,t.end);r?(n.onPull=function(){r.read().then((function(e){var t=e.value;e.done?n.close():((0,_util.assert)((0,_util.isArrayBuffer)(t),"GetRangeReader - expected an ArrayBuffer."),n.enqueue(new Uint8Array(t),1,[t]))})).catch((function(e){n.error(e)}))},n.onCancel=function(t){r.cancel(t),n.ready.catch((function(t){if(!e.destroyed)throw t}))}):n.close()})),t.on("GetDoc",(function(t){var r=t.pdfInfo;e._numPages=r.numPages,n._capability.resolve(new PDFDocumentProxy(r,e))})),t.on("DocException",(function(e){var t;switch(e.name){case"PasswordException":t=new _util.PasswordException(e.message,e.code);break;case"InvalidPDFException":t=new _util.InvalidPDFException(e.message);break;case"MissingPDFException":t=new _util.MissingPDFException(e.message);break;case"UnexpectedResponseException":t=new _util.UnexpectedResponseException(e.message,e.status);break;case"UnknownErrorException":t=new _util.UnknownErrorException(e.message,e.details)}t instanceof Error||(0,_util.warn)("DocException - expected a valid Error."),n._capability.reject(t)})),t.on("PasswordRequest",(function(t){if(e._passwordCapability=(0,_util.createPromiseCapability)(),n.onPassword)try{n.onPassword((function(t){e._passwordCapability.resolve({password:t})}),t.code)}catch(r){e._passwordCapability.reject(r)}else e._passwordCapability.reject(new _util.PasswordException(t.message,t.code));return e._passwordCapability.promise})),t.on("DataLoaded",(function(t){n.onProgress&&n.onProgress({loaded:t.length,total:t.length}),e.downloadInfoCapability.resolve(t)})),t.on("StartRenderPage",(function(t){e.destroyed||e.pageCache[t.pageIndex]._startRenderPage(t.transparency,t.intent)})),t.on("commonobj",(function(n){var r;if(!e.destroyed){var i=_slicedToArray(n,3),a=i[0],o=i[1],s=i[2];if(!e.commonObjs.has(a))switch(o){case"Font":var c=e._params;if("error"in s){var l=s.error;(0,_util.warn)("Error during font loading: ".concat(l)),e.commonObjs.resolve(a,l);break}var u=null;c.pdfBug&&null!==(r=globalThis.FontInspector)&&void 0!==r&&r.enabled&&(u={registerFont:function(e,t){globalThis.FontInspector.fontAdded(e,t)}});var d=new _font_loader.FontFaceObject(s,{isEvalSupported:c.isEvalSupported,disableFontFace:c.disableFontFace,ignoreErrors:c.ignoreErrors,onUnsupportedFeature:e._onUnsupportedFeature.bind(e),fontRegistry:u});e.fontLoader.bind(d).catch((function(e){return t.sendWithPromise("FontFallback",{id:a})})).finally((function(){!c.fontExtraProperties&&d.data&&(d.data=null),e.commonObjs.resolve(a,d)}));break;case"FontPath":case"Image":e.commonObjs.resolve(a,s);break;default:throw new Error("Got unknown common object type ".concat(o))}}})),t.on("obj",(function(t){var n;if(!e.destroyed){var r=_slicedToArray(t,4),i=r[0],a=r[2],o=r[3],s=e.pageCache[r[1]];if(!s.objs.has(i))switch(a){case"Image":s.objs.resolve(i,o),(null==o||null===(n=o.data)||void 0===n?void 0:n.length)>8e6&&(s.cleanupAfterRender=!0);break;default:throw new Error("Got unknown object type ".concat(a))}}})),t.on("DocProgress",(function(t){e.destroyed||n.onProgress&&n.onProgress({loaded:t.loaded,total:t.total})})),t.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),t.on("FetchBuiltInCMap",(function(t,n){if(e.destroyed)n.error(new Error("Worker was destroyed"));else{var r=!1;n.onPull=function(){r?n.close():(r=!0,e.CMapReaderFactory.fetch(t).then((function(e){n.enqueue(e,1,[e.cMapData.buffer])})).catch((function(e){n.error(e)})))}}}))}},{key:"_onUnsupportedFeature",value:function(e){this.destroyed||this.loadingTask.onUnsupportedFeature&&this.loadingTask.onUnsupportedFeature(e.featureId)}},{key:"getData",value:function(){return this.messageHandler.sendWithPromise("GetData",null)}},{key:"getPage",value:function(e){var t=this;if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request"));var n=e-1;if(n in this.pagePromises)return this.pagePromises[n];var r=this.messageHandler.sendWithPromise("GetPage",{pageIndex:n}).then((function(e){if(t.destroyed)throw new Error("Transport destroyed");var r=new PDFPageProxy(n,e,t,t._params.ownerDocument,t._params.pdfBug);return t.pageCache[n]=r,r}));return this.pagePromises[n]=r,r}},{key:"getPageIndex",value:function(e){return this.messageHandler.sendWithPromise("GetPageIndex",{ref:e}).catch((function(e){return Promise.reject(new Error(e))}))}},{key:"getAnnotations",value:function(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}},{key:"saveDocument",value:function(e){var t,n;return this.messageHandler.sendWithPromise("SaveDocument",{numPages:this._numPages,annotationStorage:(null==e?void 0:e.getAll())||null,filename:null!==(t=null===(n=this._fullReader)||void 0===n?void 0:n.filename)&&void 0!==t?t:null}).finally((function(){e&&e.resetModified()}))}},{key:"getFieldObjects",value:function(){return this.messageHandler.sendWithPromise("GetFieldObjects",null)}},{key:"hasJSActions",value:function(){return this._hasJSActionsPromise||(this._hasJSActionsPromise=this.messageHandler.sendWithPromise("HasJSActions",null))}},{key:"getCalculationOrderIds",value:function(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}},{key:"getDestinations",value:function(){return this.messageHandler.sendWithPromise("GetDestinations",null)}},{key:"getDestination",value:function(e){return"string"!=typeof e?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}},{key:"getPageLabels",value:function(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}},{key:"getPageLayout",value:function(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}},{key:"getPageMode",value:function(){return this.messageHandler.sendWithPromise("GetPageMode",null)}},{key:"getViewerPreferences",value:function(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}},{key:"getOpenAction",value:function(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}},{key:"getAttachments",value:function(){return this.messageHandler.sendWithPromise("GetAttachments",null)}},{key:"getJavaScript",value:function(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}},{key:"getDocJSActions",value:function(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}},{key:"getPageJSActions",value:function(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}},{key:"getOutline",value:function(){return this.messageHandler.sendWithPromise("GetOutline",null)}},{key:"getOptionalContentConfig",value:function(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then((function(e){return new _optional_content_config.OptionalContentConfig(e)}))}},{key:"getPermissions",value:function(){return this.messageHandler.sendWithPromise("GetPermissions",null)}},{key:"getMetadata",value:function(){var e=this;return this.messageHandler.sendWithPromise("GetMetadata",null).then((function(t){var n,r,i,a;return{info:t[0],metadata:t[1]?new _metadata.Metadata(t[1]):null,contentDispositionFilename:null!==(n=null===(r=e._fullReader)||void 0===r?void 0:r.filename)&&void 0!==n?n:null,contentLength:null!==(i=null===(a=e._fullReader)||void 0===a?void 0:a.contentLength)&&void 0!==i?i:null}}))}},{key:"getMarkInfo",value:function(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}},{key:"getStats",value:function(){return this.messageHandler.sendWithPromise("GetStats",null)}},{key:"startCleanup",value:function(){var e=this;return this.messageHandler.sendWithPromise("Cleanup",null).then((function(){for(var t=0,n=e.pageCache.length;t<n;t++){var r=e.pageCache[t];if(r&&!r.cleanup())throw new Error("startCleanup: Page ".concat(t+1," is currently rendering."))}e.commonObjs.clear(),e.fontLoader.clear(),e._hasJSActionsPromise=null}))}},{key:"loadingParams",get:function(){var e=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:e.disableAutoFetch,disableFontFace:e.disableFontFace})}}]),e}(),PDFObjects=function(){function e(){_classCallCheck(this,e),this._objs=Object.create(null)}return _createClass(e,[{key:"_ensureObj",value:function(e){return this._objs[e]?this._objs[e]:this._objs[e]={capability:(0,_util.createPromiseCapability)(),data:null,resolved:!1}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(t)return this._ensureObj(e).capability.promise.then(t),null;var n=this._objs[e];if(!n||!n.resolved)throw new Error("Requesting object that isn't resolved yet ".concat(e,"."));return n.data}},{key:"has",value:function(e){var t=this._objs[e];return(null==t?void 0:t.resolved)||!1}},{key:"resolve",value:function(e,t){var n=this._ensureObj(e);n.resolved=!0,n.data=t,n.capability.resolve(t)}},{key:"clear",value:function(){this._objs=Object.create(null)}}]),e}(),RenderTask=function(){function e(t){_classCallCheck(this,e),this._internalRenderTask=t,this.onContinue=null}return _createClass(e,[{key:"promise",get:function(){return this._internalRenderTask.capability.promise}},{key:"cancel",value:function(){this._internalRenderTask.cancel()}}]),e}(),InternalRenderTask=(canvasInRendering=new WeakSet,function(){function e(t){var n=t.callback,r=t.params,i=t.objs,a=t.commonObjs,o=t.operatorList,s=t.pageIndex,c=t.canvasFactory,l=t.webGLContext,u=t.useRequestAnimationFrame,d=void 0!==u&&u,h=t.pdfBug,f=void 0!==h&&h;_classCallCheck(this,e),this.callback=n,this.params=r,this.objs=i,this.commonObjs=a,this.operatorListIdx=null,this.operatorList=o,this._pageIndex=s,this.canvasFactory=c,this.webGLContext=l,this._pdfBug=f,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===d&&"undefined"!=typeof window,this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=r.canvasContext.canvas}var t;return _createClass(e,[{key:"completed",get:function(){return this.capability.promise.catch((function(){}))}},{key:"initializeGraphics",value:function(e){var t,n=e.transparency,r=void 0!==n&&n,i=e.optionalContentConfig;if(!this.cancelled){if(this._canvas){if(canvasInRendering.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");canvasInRendering.add(this._canvas)}this._pdfBug&&null!==(t=globalThis.StepperManager)&&void 0!==t&&t.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());var a=this.params,o=a.viewport,s=a.transform,c=a.background;this.gfx=new _canvas.CanvasGraphics(a.canvasContext,this.commonObjs,this.objs,this.canvasFactory,this.webGLContext,a.imageLayer,i),this.gfx.beginDrawing({transform:s,viewport:o,transparency:r,background:c}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}}},{key:"cancel",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.running=!1,this.cancelled=!0,this.gfx&&this.gfx.endDrawing(),this._canvas&&canvasInRendering.delete(this._canvas),this.callback(e||new _display_utils.RenderingCancelledException("Rendering cancelled, page ".concat(this._pageIndex+1),"canvas"))}},{key:"operatorListChanged",value:function(){this.graphicsReady?(this.stepper&&this.stepper.updateOperatorList(this.operatorList),this.running||this._continue()):this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound)}},{key:"_continue",value:function(){this.running=!0,this.cancelled||(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}},{key:"_scheduleNext",value:function(){var e=this;this._useRequestAnimationFrame?window.requestAnimationFrame((function(){e._nextBound().catch(e.cancel.bind(e))})):Promise.resolve().then(this._nextBound).catch(this.cancel.bind(this))}},{key:"_next",value:(t=_asyncToGenerator(_regeneratorRuntime.mark((function e(){return _regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.cancelled){e.next=2;break}return e.abrupt("return");case 2:this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),this._canvas&&canvasInRendering.delete(this._canvas),this.callback()));case 4:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),e}()),canvasInRendering,version="2.7.570";exports.version=version;var build="f2c7338b0";exports.build=build},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.FontLoader=t.FontFaceObject=void 0;var r,i=n(2),a=function(){function e(t){var n=t.docId,r=t.onUnsupportedFeature,a=t.ownerDocument,o=void 0===a?globalThis.document:a;_classCallCheck(this,e),this.constructor===e&&(0,i.unreachable)("Cannot initialize BaseFontLoader."),this.docId=n,this._onUnsupportedFeature=r,this._document=o,this.nativeFontFaces=[],this.styleElement=null}var t;return _createClass(e,[{key:"addNativeFontFace",value:function(e){this.nativeFontFaces.push(e),this._document.fonts.add(e)}},{key:"insertRule",value:function(e){var t=this.styleElement;t||((t=this.styleElement=this._document.createElement("style")).id="PDFJS_FONT_STYLE_TAG_".concat(this.docId),this._document.documentElement.getElementsByTagName("head")[0].appendChild(t));var n=t.sheet;n.insertRule(e,n.cssRules.length)}},{key:"clear",value:function(){var e=this;this.nativeFontFaces.forEach((function(t){e._document.fonts.delete(t)})),this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}},{key:"bind",value:(t=_asyncToGenerator(_regeneratorRuntime.mark((function e(t){var n,r,a=this;return _regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.attached&&!t.missingFile){e.next=2;break}return e.abrupt("return");case 2:if(t.attached=!0,!this.isFontLoadingAPISupported){e.next=19;break}if(!(n=t.createNativeFontFace())){e.next=18;break}return this.addNativeFontFace(n),e.prev=7,e.next=10,n.loaded;case 10:e.next=18;break;case 12:throw e.prev=12,e.t0=e.catch(7),this._onUnsupportedFeature({featureId:i.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,i.warn)("Failed to load font '".concat(n.family,"': '").concat(e.t0,"'.")),t.disableFontFace=!0,e.t0;case 18:return e.abrupt("return");case 19:if(!(r=t.createFontFaceRule())){e.next=26;break}if(this.insertRule(r),!this.isSyncFontLoadingSupported){e.next=24;break}return e.abrupt("return");case 24:return e.next=26,new Promise((function(e){var n=a._queueLoadingCallback(e);a._prepareFontLoadEvent([r],[t],n)}));case 26:case"end":return e.stop()}}),e,this,[[7,12]])}))),function(e){return t.apply(this,arguments)})},{key:"_queueLoadingCallback",value:function(e){(0,i.unreachable)("Abstract method `_queueLoadingCallback`.")}},{key:"isFontLoadingAPISupported",get:function(){var e;return(0,i.shadow)(this,"isFontLoadingAPISupported",!(null===(e=this._document)||void 0===e||!e.fonts))}},{key:"isSyncFontLoadingSupported",get:function(){(0,i.unreachable)("Abstract method `isSyncFontLoadingSupported`.")}},{key:"_loadTestFont",get:function(){(0,i.unreachable)("Abstract method `_loadTestFont`.")}},{key:"_prepareFontLoadEvent",value:function(e,t,n){(0,i.unreachable)("Abstract method `_prepareFontLoadEvent`.")}}]),e}();t.FontLoader=r,t.FontLoader=r=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this,e)).loadingContext={requests:[],nextRequestId:0},r.loadTestFontId=0,r}return _createClass(n,[{key:"isSyncFontLoadingSupported",get:function(){var e=!1;if("undefined"==typeof navigator)e=!0;else{var t=/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent);(null==t?void 0:t[1])>=14&&(e=!0)}return(0,i.shadow)(this,"isSyncFontLoadingSupported",e)}},{key:"_queueLoadingCallback",value:function(e){var t=this.loadingContext,n={id:"pdfjs-font-loading-".concat(t.nextRequestId++),done:!1,complete:function(){for((0,i.assert)(!n.done,"completeRequest() cannot be called twice."),n.done=!0;t.requests.length>0&&t.requests[0].done;){var e=t.requests.shift();setTimeout(e.callback,0)}},callback:e};return t.requests.push(n),n}},{key:"_loadTestFont",get:function(){return(0,i.shadow)(this,"_loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))}},{key:"_prepareFontLoadEvent",value:function(e,t,n){var r,a,o=this;function s(e,t){return e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|255&e.charCodeAt(t+3)}function c(e,t,n,r){return e.substring(0,t)+r+e.substring(t+n)}var l=this._document.createElement("canvas");l.width=1,l.height=1;var u=l.getContext("2d"),d=0,h="lt".concat(Date.now()).concat(this.loadTestFontId++),f=this._loadTestFont,p=s(f=c(f,976,h.length,h),16);for(r=0,a=h.length-3;r<a;r+=4)p=p-1482184792+s(h,r)|0;r<h.length&&(p=p-1482184792+s(h+"XXX",r)|0),f=c(f,16,4,(0,i.string32)(p));var g="url(data:font/opentype;base64,".concat(btoa(f),");"),m='@font-face {font-family:"'.concat(h,'";src:').concat(g,"}");this.insertRule(m);var v=[];for(r=0,a=t.length;r<a;r++)v.push(t[r].loadedName);v.push(h);var b=this._document.createElement("div");for(b.style.visibility="hidden",b.style.width=b.style.height="10px",b.style.position="absolute",b.style.top=b.style.left="0px",r=0,a=v.length;r<a;++r){var _=this._document.createElement("span");_.textContent="Hi",_.style.fontFamily=v[r],b.appendChild(_)}this._document.body.appendChild(b),function e(t,n){if(++d>30)return(0,i.warn)("Load test font never loaded."),void n();u.font="30px "+t,u.fillText(".",0,20),u.getImageData(0,0,1,1).data[3]>0?n():setTimeout(e.bind(null,t,n))}(h,(function(){o._document.body.removeChild(b),n.complete()}))}}]),n}(a),t.FontFaceObject=function(){function e(t,n){var r=n.isEvalSupported,i=void 0===r||r,a=n.disableFontFace,o=void 0!==a&&a,s=n.ignoreErrors,c=void 0!==s&&s,l=n.onUnsupportedFeature,u=void 0===l?null:l,d=n.fontRegistry,h=void 0===d?null:d;for(var f in _classCallCheck(this,e),this.compiledGlyphs=Object.create(null),t)this[f]=t[f];this.isEvalSupported=!1!==i,this.disableFontFace=!0===o,this.ignoreErrors=!0===c,this._onUnsupportedFeature=u,this.fontRegistry=h}return _createClass(e,[{key:"createNativeFontFace",value:function(){if(!this.data||this.disableFontFace)return null;var e=new FontFace(this.loadedName,this.data,{});return this.fontRegistry&&this.fontRegistry.registerFont(this),e}},{key:"createFontFaceRule",value:function(){if(!this.data||this.disableFontFace)return null;var e=(0,i.bytesToString)(new Uint8Array(this.data)),t="url(data:".concat(this.mimetype,";base64,").concat(btoa(e),");"),n='@font-face {font-family:"'.concat(this.loadedName,'";src:').concat(t,"}");return this.fontRegistry&&this.fontRegistry.registerFont(this,t),n}},{key:"getPathGenerator",value:function(e,t){if(void 0!==this.compiledGlyphs[t])return this.compiledGlyphs[t];var n,r;try{n=e.get(this.loadedName+"_path_"+t)}catch(l){if(!this.ignoreErrors)throw l;return this._onUnsupportedFeature&&this._onUnsupportedFeature({featureId:i.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,i.warn)('getPathGenerator - ignoring character: "'.concat(l,'".')),this.compiledGlyphs[t]=function(e,t){}}if(this.isEvalSupported&&i.IsEvalSupportedCached.value){for(var a,o="",s=0,c=n.length;s<c;s++)a=void 0!==(r=n[s]).args?r.args.join(","):"",o+="c."+r.cmd+"("+a+");\n";return this.compiledGlyphs[t]=new Function("c","size",o)}return this.compiledGlyphs[t]=function(e,t){for(var i=0,a=n.length;i<a;i++)"scale"===(r=n[i]).cmd&&(r.args=[t,-t]),e[r.cmd].apply(e,r.args)}}}]),e}()},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.NodeCMapReaderFactory=t.NodeCanvasFactory=void 0;var r=n(1),i=n(4),a=n(2),o=function e(){_classCallCheck(this,e),(0,a.unreachable)("Not implemented: NodeCanvasFactory")};t.NodeCanvasFactory=o;var s=function e(){_classCallCheck(this,e),(0,a.unreachable)("Not implemented: NodeCMapReaderFactory")};t.NodeCMapReaderFactory=s,i.isNodeJS&&(t.NodeCanvasFactory=o=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"create",value:function(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");var n=__webpack_require__(10).createCanvas(e,t);return{canvas:n,context:n.getContext("2d")}}}]),n}(r.BaseCanvasFactory),t.NodeCMapReaderFactory=s=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"_fetchData",value:function(e,t){return new Promise((function(n,r){__webpack_require__(9).readFile(e,(function(e,i){!e&&i?n({cMapData:new Uint8Array(i),compressionType:t}):r(new Error(e))}))}))}}]),n}(r.BaseCMapReaderFactory))},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.AnnotationStorage=void 0;var r=n(2);t.AnnotationStorage=function(){function e(){_classCallCheck(this,e),this._storage=new Map,this._modified=!1,this.onSetModified=null,this.onResetModified=null}return _createClass(e,[{key:"getOrCreateValue",value:function(e,t){return this._storage.has(e)?this._storage.get(e):(this._storage.set(e,t),t)}},{key:"setValue",value:function(e,t){var n=this._storage.get(e),r=!1;if(void 0!==n)for(var i=0,a=Object.entries(t);i<a.length;i++){var o=_slicedToArray(a[i],2),s=o[0],c=o[1];n[s]!==c&&(r=!0,n[s]=c)}else this._storage.set(e,t),r=!0;r&&this._setModified()}},{key:"getAll",value:function(){return 0===this._storage.size?null:(0,r.objectFromEntries)(this._storage)}},{key:"size",get:function(){return this._storage.size}},{key:"_setModified",value:function(){this._modified||(this._modified=!0,"function"==typeof this.onSetModified&&this.onSetModified())}},{key:"resetModified",value:function(){this._modified&&(this._modified=!1,"function"==typeof this.onResetModified&&this.onResetModified())}}]),e}()},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.apiCompatibilityParams=void 0;var r=n(4),i=Object.create(null);r.isNodeJS&&(i.disableFontFace=!0);var a=Object.freeze(i);t.apiCompatibilityParams=a},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.CanvasGraphics=void 0;var r=n(2),i=n(11);function a(e){e.mozCurrentTransform||(e._originalSave=e.save,e._originalRestore=e.restore,e._originalRotate=e.rotate,e._originalScale=e.scale,e._originalTranslate=e.translate,e._originalTransform=e.transform,e._originalSetTransform=e.setTransform,e._transformMatrix=e._transformMatrix||[1,0,0,1,0,0],e._transformStack=[],Object.defineProperty(e,"mozCurrentTransform",{get:function(){return this._transformMatrix}}),Object.defineProperty(e,"mozCurrentTransformInverse",{get:function(){var e=this._transformMatrix,t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],o=e[5],s=t*i-n*r,c=n*r-t*i;return[i/s,n/c,r/c,t/s,(i*a-r*o)/c,(n*a-t*o)/s]}}),e.save=function(){var e=this._transformMatrix;this._transformStack.push(e),this._transformMatrix=e.slice(0,6),this._originalSave()},e.restore=function(){var e=this._transformStack.pop();e&&(this._transformMatrix=e,this._originalRestore())},e.translate=function(e,t){var n=this._transformMatrix;n[4]=n[0]*e+n[2]*t+n[4],n[5]=n[1]*e+n[3]*t+n[5],this._originalTranslate(e,t)},e.scale=function(e,t){var n=this._transformMatrix;n[0]=n[0]*e,n[1]=n[1]*e,n[2]=n[2]*t,n[3]=n[3]*t,this._originalScale(e,t)},e.transform=function(t,n,r,i,a,o){var s=this._transformMatrix;this._transformMatrix=[s[0]*t+s[2]*n,s[1]*t+s[3]*n,s[0]*r+s[2]*i,s[1]*r+s[3]*i,s[0]*a+s[2]*o+s[4],s[1]*a+s[3]*o+s[5]],e._originalTransform(t,n,r,i,a,o)},e.setTransform=function(t,n,r,i,a,o){this._transformMatrix=[t,n,r,i,a,o],e._originalSetTransform(t,n,r,i,a,o)},e.rotate=function(e){var t=Math.cos(e),n=Math.sin(e),r=this._transformMatrix;this._transformMatrix=[r[0]*t+r[2]*n,r[1]*t+r[3]*n,r[0]*-n+r[2]*t,r[1]*-n+r[3]*t,r[4],r[5]],this._originalRotate(e)})}var o=function(){function e(e){this.canvasFactory=e,this.cache=Object.create(null)}return e.prototype={getCanvas:function(e,t,n,r){var i;return void 0!==this.cache[e]?(this.canvasFactory.reset(i=this.cache[e],t,n),i.context.setTransform(1,0,0,1,0,0)):(i=this.canvasFactory.create(t,n),this.cache[e]=i),r&&a(i.context),i},clear:function(){for(var e in this.cache)this.canvasFactory.destroy(this.cache[e]),delete this.cache[e]}},e}(),s=function(){function e(){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=r.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=r.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=r.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.resumeSMaskCtx=null,this.transferMaps=null}return e.prototype={clone:function(){return Object.create(this)},setCurrentPoint:function(e,t){this.x=e,this.y=t}},e}(),c=function(){function e(e,t,n,r,i,c,l){this.ctx=e,this.current=new s,this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=n,this.canvasFactory=r,this.webGLContext=i,this.imageLayer=c,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.contentVisible=!0,this.markedContentStack=[],this.optionalContentConfig=l,this.cachedCanvases=new o(this.canvasFactory),e&&a(e),this._cachedGetSinglePixelWidth=null}function t(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if("undefined"!=typeof ImageData&&t instanceof ImageData)e.putImageData(t,0,0);else{var i,a,o,s,c,l,u,d,h,f=t.height,p=t.width,g=f%16,m=(f-g)/16,v=0===g?m:m+1,b=e.createImageData(p,16),_=0,y=t.data,x=b.data;if(n)switch(n.length){case 1:l=n[0],u=n[0],d=n[0],h=n[0];break;case 4:l=n[0],u=n[1],d=n[2],h=n[3]}if(t.kind===r.ImageKind.GRAYSCALE_1BPP){var C=y.byteLength,P=new Uint32Array(x.buffer,0,x.byteLength>>2),k=P.length,w=p+7>>3,A=4294967295,S=r.IsLittleEndianCached.value?4278190080:255;if(h&&255===h[0]&&0===h[255]){var M=[S,A];A=M[0],S=M[1]}for(a=0;a<v;a++){for(s=a<m?16:g,i=0,o=0;o<s;o++){for(var O=C-_,L=0,T=O>w?p:8*O-7,R=-8&T,I=0,E=0;L<R;L+=8)E=y[_++],P[i++]=128&E?A:S,P[i++]=64&E?A:S,P[i++]=32&E?A:S,P[i++]=16&E?A:S,P[i++]=8&E?A:S,P[i++]=4&E?A:S,P[i++]=2&E?A:S,P[i++]=1&E?A:S;for(;L<T;L++)0===I&&(E=y[_++],I=128),P[i++]=E&I?A:S,I>>=1}for(;i<k;)P[i++]=0;e.putImageData(b,0,16*a)}}else if(t.kind===r.ImageKind.RGBA_32BPP){var F=!!(l||u||d);for(o=0,c=16*p*4,a=0;a<m;a++){if(x.set(y.subarray(_,_+c)),_+=c,F)for(var N=0;N<c;N+=4)l&&(x[N+0]=l[x[N+0]]),u&&(x[N+1]=u[x[N+1]]),d&&(x[N+2]=d[x[N+2]]);e.putImageData(b,0,o),o+=16}if(a<v){if(x.set(y.subarray(_,_+(c=p*g*4))),F)for(var D=0;D<c;D+=4)l&&(x[D+0]=l[x[D+0]]),u&&(x[D+1]=u[x[D+1]]),d&&(x[D+2]=d[x[D+2]]);e.putImageData(b,0,o)}}else{if(t.kind!==r.ImageKind.RGB_24BPP)throw new Error("bad image kind: ".concat(t.kind));var U=!!(l||u||d);for(c=p*(s=16),a=0;a<v;a++){for(a>=m&&(c=p*(s=g)),i=0,o=c;o--;)x[i++]=y[_++],x[i++]=y[_++],x[i++]=y[_++],x[i++]=255;if(U)for(var z=0;z<i;z+=4)l&&(x[z+0]=l[x[z+0]]),u&&(x[z+1]=u[x[z+1]]),d&&(x[z+2]=d[x[z+2]]);e.putImageData(b,0,16*a)}}}}function n(e,t){for(var n=t.height,r=t.width,i=n%16,a=(n-i)/16,o=0===i?a:a+1,s=e.createImageData(r,16),c=0,l=t.data,u=s.data,d=0;d<o;d++){for(var h=d<a?16:i,f=3,p=0;p<h;p++)for(var g=void 0,m=0,v=0;v<r;v++)m||(g=l[c++],m=128),u[f]=g&m?0:255,f+=4,m>>=1;e.putImageData(s,0,16*d)}}function c(e,t){for(var n=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"],r=0,i=n.length;r<i;r++){var a=n[r];void 0!==e[a]&&(t[a]=e[a])}void 0!==e.setLineDash&&(t.setLineDash(e.getLineDash()),t.lineDashOffset=e.lineDashOffset)}function l(e){e.strokeStyle="#000000",e.fillStyle="#000000",e.fillRule="nonzero",e.globalAlpha=1,e.lineWidth=1,e.lineCap="butt",e.lineJoin="miter",e.miterLimit=10,e.globalCompositeOperation="source-over",e.font="10px sans-serif",void 0!==e.setLineDash&&(e.setLineDash([]),e.lineDashOffset=0)}function u(e,t,n,r){for(var i=e.length,a=3;a<i;a+=4){var o=e[a];if(0===o)e[a-3]=t,e[a-2]=n,e[a-1]=r;else if(o<255){var s=255-o;e[a-3]=e[a-3]*o+t*s>>8,e[a-2]=e[a-2]*o+n*s>>8,e[a-1]=e[a-1]*o+r*s>>8}}}function d(e,t,n){for(var r=e.length,i=3;i<r;i+=4)t[i]=t[i]*(n?n[e[i]]:e[i])*(1/255)|0}function h(e,t,n){for(var r=e.length,i=3;i<r;i+=4){var a=77*e[i-3]+152*e[i-2]+28*e[i-1];t[i]=n?t[i]*n[a>>8]>>8:t[i]*a>>16}}function f(e,t,n,r){var i=t.canvas,a=t.context;e.setTransform(t.scaleX,0,0,t.scaleY,t.offsetX,t.offsetY);var o=t.backdrop||null;if(!t.transferMap&&r.isEnabled){var s=r.composeSMask({layer:n.canvas,mask:i,properties:{subtype:t.subtype,backdrop:o}});return e.setTransform(1,0,0,1,0,0),void e.drawImage(s,t.offsetX,t.offsetY)}!function(e,t,n,r,i,a,o){var s,c=!!a,l=c?a[0]:0,f=c?a[1]:0,p=c?a[2]:0;s="Luminosity"===i?h:d;for(var g=Math.min(r,Math.ceil(1048576/n)),m=0;m<r;m+=g){var v=Math.min(g,r-m),b=e.getImageData(0,m,n,v),_=t.getImageData(0,m,n,v);c&&u(b.data,l,f,p),s(b.data,_.data,o),e.putImageData(_,0,m)}}(a,n,i.width,i.height,t.subtype,o,t.transferMap),e.drawImage(i,0,0)}var p=["butt","round","square"],g=["miter","round","bevel"],m={},v={};for(var b in e.prototype={beginDrawing:function(e){var t=e.transform,n=e.viewport,r=e.transparency,i=void 0!==r&&r,a=e.background,o=void 0===a?null:a,s=this.ctx.canvas.width,c=this.ctx.canvas.height;if(this.ctx.save(),this.ctx.fillStyle=o||"rgb(255, 255, 255)",this.ctx.fillRect(0,0,s,c),this.ctx.restore(),i){var u=this.cachedCanvases.getCanvas("transparent",s,c,!0);this.compositeCtx=this.ctx,this.transparentCanvas=u.canvas,this.ctx=u.context,this.ctx.save(),this.ctx.transform.apply(this.ctx,this.compositeCtx.mozCurrentTransform)}this.ctx.save(),l(this.ctx),t&&this.ctx.transform.apply(this.ctx,t),this.ctx.transform.apply(this.ctx,n.transform),this.baseTransform=this.ctx.mozCurrentTransform.slice(),this._combinedScaleFactor=Math.hypot(this.baseTransform[0],this.baseTransform[2]),this.imageLayer&&this.imageLayer.beginLayout()},executeOperatorList:function(e,t,n,i){var a=e.argsArray,o=e.fnArray,s=t||0,c=a.length;if(c===s)return s;for(var l,u=c-s>10&&"function"==typeof n,d=u?Date.now()+15:0,h=0,f=this.commonObjs,p=this.objs;;){if(void 0!==i&&s===i.nextBreakPoint)return i.breakIt(s,n),s;if((l=o[s])!==r.OPS.dependency)this[l].apply(this,a[s]);else{var g,m=_createForOfIteratorHelper(a[s]);try{for(m.s();!(g=m.n()).done;){var v=g.value,b=v.startsWith("g_")?f:p;if(!b.has(v))return b.get(v,n),s}}catch(_){m.e(_)}finally{m.f()}}if(++s===c)return s;if(u&&++h>10){if(Date.now()>d)return n(),s;h=0}}},endDrawing:function(){for(;this.stateStack.length||null!==this.current.activeSMask;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null),this.cachedCanvases.clear(),this.webGLContext.clear(),this.imageLayer&&this.imageLayer.endLayout()},setLineWidth:function(e){this.current.lineWidth=e,this.ctx.lineWidth=e},setLineCap:function(e){this.ctx.lineCap=p[e]},setLineJoin:function(e){this.ctx.lineJoin=g[e]},setMiterLimit:function(e){this.ctx.miterLimit=e},setDash:function(e,t){var n=this.ctx;void 0!==n.setLineDash&&(n.setLineDash(e),n.lineDashOffset=t)},setRenderingIntent:function(e){},setFlatness:function(e){},setGState:function(e){for(var t=0,n=e.length;t<n;t++){var r=e[t],i=r[1];switch(r[0]){case"LW":this.setLineWidth(i);break;case"LC":this.setLineCap(i);break;case"LJ":this.setLineJoin(i);break;case"ML":this.setMiterLimit(i);break;case"D":this.setDash(i[0],i[1]);break;case"RI":this.setRenderingIntent(i);break;case"FL":this.setFlatness(i);break;case"Font":this.setFont(i[0],i[1]);break;case"CA":this.current.strokeAlpha=r[1];break;case"ca":this.current.fillAlpha=r[1],this.ctx.globalAlpha=r[1];break;case"BM":this.ctx.globalCompositeOperation=i;break;case"SMask":this.current.activeSMask&&(this.stateStack.length>0&&this.stateStack[this.stateStack.length-1].activeSMask===this.current.activeSMask?this.suspendSMaskGroup():this.endSMaskGroup()),this.current.activeSMask=i?this.tempSMask:null,this.current.activeSMask&&this.beginSMaskGroup(),this.tempSMask=null;break;case"TR":this.current.transferMaps=i}}},beginSMaskGroup:function(){var e=this.current.activeSMask,t=this.cachedCanvases.getCanvas("smaskGroupAt"+this.groupLevel,e.canvas.width,e.canvas.height,!0),n=this.ctx,r=n.mozCurrentTransform;this.ctx.save();var i=t.context;i.scale(1/e.scaleX,1/e.scaleY),i.translate(-e.offsetX,-e.offsetY),i.transform.apply(i,r),e.startTransformInverse=i.mozCurrentTransformInverse,c(n,i),this.ctx=i,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(n),this.groupLevel++},suspendSMaskGroup:function(){var e=this.ctx;this.groupLevel--,this.ctx=this.groupStack.pop(),f(this.ctx,this.current.activeSMask,e,this.webGLContext),this.ctx.restore(),this.ctx.save(),c(e,this.ctx),this.current.resumeSMaskCtx=e;var t=r.Util.transform(this.current.activeSMask.startTransformInverse,e.mozCurrentTransform);this.ctx.transform.apply(this.ctx,t),e.save(),e.setTransform(1,0,0,1,0,0),e.clearRect(0,0,e.canvas.width,e.canvas.height),e.restore()},resumeSMaskGroup:function(){var e=this.ctx;this.ctx=this.current.resumeSMaskCtx,this.groupStack.push(e),this.groupLevel++},endSMaskGroup:function(){var e=this.ctx;this.groupLevel--,this.ctx=this.groupStack.pop(),f(this.ctx,this.current.activeSMask,e,this.webGLContext),this.ctx.restore(),c(e,this.ctx);var t=r.Util.transform(this.current.activeSMask.startTransformInverse,e.mozCurrentTransform);this.ctx.transform.apply(this.ctx,t)},save:function(){this.ctx.save();var e=this.current;this.stateStack.push(e),this.current=e.clone(),this.current.resumeSMaskCtx=null},restore:function(){this.current.resumeSMaskCtx&&this.resumeSMaskGroup(),null===this.current.activeSMask||0!==this.stateStack.length&&this.stateStack[this.stateStack.length-1].activeSMask===this.current.activeSMask||this.endSMaskGroup(),0!==this.stateStack.length?(this.current=this.stateStack.pop(),this.ctx.restore(),this.pendingClip=null,this._cachedGetSinglePixelWidth=null):this.current.activeSMask=null},transform:function(e,t,n,r,i,a){this.ctx.transform(e,t,n,r,i,a),this._cachedGetSinglePixelWidth=null},constructPath:function(e,t){for(var n=this.ctx,i=this.current,a=i.x,o=i.y,s=0,c=0,l=e.length;s<l;s++)switch(0|e[s]){case r.OPS.rectangle:a=t[c++],o=t[c++];var u=t[c++],d=t[c++],h=a+u,f=o+d;n.moveTo(a,o),0===u||0===d?n.lineTo(h,f):(n.lineTo(h,o),n.lineTo(h,f),n.lineTo(a,f)),n.closePath();break;case r.OPS.moveTo:a=t[c++],o=t[c++],n.moveTo(a,o);break;case r.OPS.lineTo:a=t[c++],o=t[c++],n.lineTo(a,o);break;case r.OPS.curveTo:n.bezierCurveTo(t[c],t[c+1],t[c+2],t[c+3],a=t[c+4],o=t[c+5]),c+=6;break;case r.OPS.curveTo2:n.bezierCurveTo(a,o,t[c],t[c+1],t[c+2],t[c+3]),a=t[c+2],o=t[c+3],c+=4;break;case r.OPS.curveTo3:n.bezierCurveTo(t[c],t[c+1],a=t[c+2],o=t[c+3],a,o),c+=4;break;case r.OPS.closePath:n.closePath()}i.setCurrentPoint(a,o)},closePath:function(){this.ctx.closePath()},stroke:function(e){e=void 0===e||e;var t=this.ctx,n=this.current.strokeColor;if(t.globalAlpha=this.current.strokeAlpha,this.contentVisible)if("object"==typeof n&&null!=n&&n.getPattern){t.save();var i=r.Util.singularValueDecompose2dScale(t.mozCurrentTransform)[0];t.strokeStyle=n.getPattern(t,this);var a=this.getSinglePixelWidth(),o=this.current.lineWidth*i;a<0&&-a>=o?(t.resetTransform(),t.lineWidth=Math.round(this._combinedScaleFactor)):t.lineWidth=Math.max(a,o),t.stroke(),t.restore()}else{var s=this.getSinglePixelWidth();s<0&&-s>=this.current.lineWidth?(t.save(),t.resetTransform(),t.lineWidth=Math.round(this._combinedScaleFactor),t.stroke(),t.restore()):(t.lineWidth=Math.max(s,this.current.lineWidth),t.stroke())}e&&this.consumePath(),t.globalAlpha=this.current.fillAlpha},closeStroke:function(){this.closePath(),this.stroke()},fill:function(e){e=void 0===e||e;var t=this.ctx,n=this.current.fillColor,r=!1;this.current.patternFill&&(t.save(),this.baseTransform&&t.setTransform.apply(t,this.baseTransform),t.fillStyle=n.getPattern(t,this),r=!0),this.contentVisible&&(this.pendingEOFill?(t.fill("evenodd"),this.pendingEOFill=!1):t.fill()),r&&t.restore(),e&&this.consumePath()},eoFill:function(){this.pendingEOFill=!0,this.fill()},fillStroke:function(){this.fill(!1),this.stroke(!1),this.consumePath()},eoFillStroke:function(){this.pendingEOFill=!0,this.fillStroke()},closeFillStroke:function(){this.closePath(),this.fillStroke()},closeEOFillStroke:function(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()},endPath:function(){this.consumePath()},clip:function(){this.pendingClip=m},eoClip:function(){this.pendingClip=v},beginText:function(){this.current.textMatrix=r.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0},endText:function(){var e=this.pendingTextPaths,t=this.ctx;if(void 0!==e){t.save(),t.beginPath();for(var n=0;n<e.length;n++){var r=e[n];t.setTransform.apply(t,r.transform),t.translate(r.x,r.y),r.addToPath(t,r.fontSize)}t.restore(),t.clip(),t.beginPath(),delete this.pendingTextPaths}else t.beginPath()},setCharSpacing:function(e){this.current.charSpacing=e},setWordSpacing:function(e){this.current.wordSpacing=e},setHScale:function(e){this.current.textHScale=e/100},setLeading:function(e){this.current.leading=-e},setFont:function(e,t){var n=this.commonObjs.get(e),i=this.current;if(!n)throw new Error("Can't find font for ".concat(e));if(i.fontMatrix=n.fontMatrix||r.FONT_IDENTITY_MATRIX,0!==i.fontMatrix[0]&&0!==i.fontMatrix[3]||(0,r.warn)("Invalid font matrix for font "+e),t<0?(t=-t,i.fontDirection=-1):i.fontDirection=1,this.current.font=n,this.current.fontSize=t,!n.isType3Font){var a="normal";n.black?a="900":n.bold&&(a="bold");var o=n.italic?"italic":"normal",s='"'.concat(n.loadedName||"sans-serif",'", ').concat(n.fallbackName),c=t;t<16?c=16:t>100&&(c=100),this.current.fontSizeScale=t/c,this.ctx.font="".concat(o," ").concat(a," ").concat(c,"px ").concat(s)}},setTextRenderingMode:function(e){this.current.textRenderingMode=e},setTextRise:function(e){this.current.textRise=e},moveText:function(e,t){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=t},setLeadingMoveText:function(e,t){this.setLeading(-t),this.moveText(e,t)},setTextMatrix:function(e,t,n,r,i,a){this.current.textMatrix=[e,t,n,r,i,a],this.current.textMatrixScale=Math.sqrt(e*e+t*t),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0},nextLine:function(){this.moveText(0,this.current.leading)},paintChar:function(e,t,n,i,a){var o,s=this.ctx,c=this.current,l=c.font,u=c.textRenderingMode,d=c.fontSize/c.fontSizeScale,h=u&r.TextRenderingMode.FILL_STROKE_MASK,f=!!(u&r.TextRenderingMode.ADD_TO_PATH_FLAG),p=c.patternFill&&!l.missingFile;(l.disableFontFace||f||p)&&(o=l.getPathGenerator(this.commonObjs,e)),l.disableFontFace||p?(s.save(),s.translate(t,n),s.beginPath(),o(s,d),i&&s.setTransform.apply(s,i),h!==r.TextRenderingMode.FILL&&h!==r.TextRenderingMode.FILL_STROKE||s.fill(),h!==r.TextRenderingMode.STROKE&&h!==r.TextRenderingMode.FILL_STROKE||(a&&(s.resetTransform(),s.lineWidth=Math.round(this._combinedScaleFactor)),s.stroke()),s.restore()):(h!==r.TextRenderingMode.FILL&&h!==r.TextRenderingMode.FILL_STROKE||s.fillText(e,t,n),h!==r.TextRenderingMode.STROKE&&h!==r.TextRenderingMode.FILL_STROKE||(a?(s.save(),s.moveTo(t,n),s.resetTransform(),s.lineWidth=Math.round(this._combinedScaleFactor),s.strokeText(e,0,0),s.restore()):s.strokeText(e,t,n))),f&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:s.mozCurrentTransform,x:t,y:n,fontSize:d,addToPath:o})},get isFontSubpixelAAEnabled(){var e=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10).context;e.scale(1.5,1),e.fillText("I",0,10);for(var t=e.getImageData(0,0,10,10).data,n=!1,i=3;i<t.length;i+=4)if(t[i]>0&&t[i]<255){n=!0;break}return(0,r.shadow)(this,"isFontSubpixelAAEnabled",n)},showText:function(e){var t=this.current,n=t.font;if(n.isType3Font)return this.showType3Text(e);var i=t.fontSize;if(0!==i){var a,o=this.ctx,s=t.fontSizeScale,c=t.charSpacing,l=t.wordSpacing,u=t.fontDirection,d=t.textHScale*u,h=e.length,f=n.vertical,p=f?1:-1,g=n.defaultVMetrics,m=i*t.fontMatrix[0],v=t.textRenderingMode===r.TextRenderingMode.FILL&&!n.disableFontFace&&!t.patternFill;if(o.save(),t.patternFill){o.save();var b=t.fillColor.getPattern(o,this);a=o.mozCurrentTransform,o.restore(),o.fillStyle=b}o.transform.apply(o,t.textMatrix),o.translate(t.x,t.y+t.textRise),o.scale(d,u>0?-1:1);var _=t.lineWidth,y=!1,x=t.textMatrixScale;if(0===x||0===_){var C=t.textRenderingMode&r.TextRenderingMode.FILL_STROKE_MASK;C!==r.TextRenderingMode.STROKE&&C!==r.TextRenderingMode.FILL_STROKE||(this._cachedGetSinglePixelWidth=null,y=(_=this.getSinglePixelWidth())<0)}else _/=x;1!==s&&(o.scale(s,s),_/=s),o.lineWidth=_;var P,k=0;for(P=0;P<h;++P){var w=e[P];if((0,r.isNum)(w))k+=p*w*i/1e3;else{var A=!1,S=(w.isSpace?l:0)+c,M=w.fontChar,O=w.accent,L=void 0,T=void 0,R=w.width;if(f){var I=w.vmetric||g,E=-(w.vmetric?I[1]:.5*R)*m;R=I?-I[0]:R,L=E/s,T=(k+I[2]*m)/s}else L=k/s,T=0;if(n.remeasure&&R>0){var F=1e3*o.measureText(M).width/i*s;if(R<F&&this.isFontSubpixelAAEnabled){var N=R/F;A=!0,o.save(),o.scale(N,1),L/=N}else R!==F&&(L+=(R-F)/2e3*i/s)}this.contentVisible&&(w.isInFont||n.missingFile)&&(v&&!O?o.fillText(M,L,T):(this.paintChar(M,L,T,a,y),O&&this.paintChar(O.fontChar,L+i*O.offset.x/s,T-i*O.offset.y/s,a,y))),k+=f?R*m-S*u:R*m+S*u,A&&o.restore()}}f?t.y-=k:t.x+=k*d,o.restore()}},showType3Text:function(e){var t,n,i,a,o=this.ctx,s=this.current,c=s.font,l=s.fontSize,u=s.fontDirection,d=c.vertical?1:-1,h=s.charSpacing,f=s.wordSpacing,p=s.textHScale*u,g=s.fontMatrix||r.FONT_IDENTITY_MATRIX,m=e.length;if(s.textRenderingMode!==r.TextRenderingMode.INVISIBLE&&0!==l){for(this._cachedGetSinglePixelWidth=null,o.save(),o.transform.apply(o,s.textMatrix),o.translate(s.x,s.y),o.scale(p,u),t=0;t<m;++t)if((0,r.isNum)(n=e[t]))this.ctx.translate(a=d*n*l/1e3,0),s.x+=a*p;else{var v=(n.isSpace?f:0)+h,b=c.charProcOperatorList[n.operatorListId];if(b){this.contentVisible&&(this.processingType3=n,this.save(),o.scale(l,l),o.transform.apply(o,g),this.executeOperatorList(b),this.restore());var _=r.Util.applyTransform([n.width,0],g);o.translate(i=_[0]*l+v,0),s.x+=i*p}else(0,r.warn)('Type3 character "'.concat(n.operatorListId,'" is not available.'))}o.restore(),this.processingType3=null}},setCharWidth:function(e,t){},setCharWidthAndBounds:function(e,t,n,r,i,a){this.ctx.rect(n,r,i-n,a-r),this.clip(),this.endPath()},getColorN_Pattern:function(t){var n,r=this;if("TilingPattern"===t[0]){var a=t[1],o=this.baseTransform||this.ctx.mozCurrentTransform.slice();n=new i.TilingPattern(t,a,this.ctx,{createCanvasGraphics:function(t){return new e(t,r.commonObjs,r.objs,r.canvasFactory,r.webGLContext)}},o)}else n=(0,i.getShadingPatternFromIR)(t);return n},setStrokeColorN:function(){this.current.strokeColor=this.getColorN_Pattern(arguments)},setFillColorN:function(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0},setStrokeRGBColor:function(e,t,n){var i=r.Util.makeHexColor(e,t,n);this.ctx.strokeStyle=i,this.current.strokeColor=i},setFillRGBColor:function(e,t,n){var i=r.Util.makeHexColor(e,t,n);this.ctx.fillStyle=i,this.current.fillColor=i,this.current.patternFill=!1},shadingFill:function(e){if(this.contentVisible){var t=this.ctx;this.save();var n=(0,i.getShadingPatternFromIR)(e);t.fillStyle=n.getPattern(t,this,!0);var a=t.mozCurrentTransformInverse;if(a){var o=t.canvas,s=o.width,c=o.height,l=r.Util.applyTransform([0,0],a),u=r.Util.applyTransform([0,c],a),d=r.Util.applyTransform([s,0],a),h=r.Util.applyTransform([s,c],a),f=Math.min(l[0],u[0],d[0],h[0]),p=Math.min(l[1],u[1],d[1],h[1]),g=Math.max(l[0],u[0],d[0],h[0]),m=Math.max(l[1],u[1],d[1],h[1]);this.ctx.fillRect(f,p,g-f,m-p)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.restore()}},beginInlineImage:function(){(0,r.unreachable)("Should not call beginInlineImage")},beginImageData:function(){(0,r.unreachable)("Should not call beginImageData")},paintFormXObjectBegin:function(e,t){this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(e)&&6===e.length&&this.transform.apply(this,e),this.baseTransform=this.ctx.mozCurrentTransform,t&&(this.ctx.rect(t[0],t[1],t[2]-t[0],t[3]-t[1]),this.clip(),this.endPath()))},paintFormXObjectEnd:function(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())},beginGroup:function(e){if(this.contentVisible){this.save();var t=this.ctx;e.isolated||(0,r.info)("TODO: Support non-isolated groups."),e.knockout&&(0,r.warn)("Knockout groups not supported.");var n=t.mozCurrentTransform;if(e.matrix&&t.transform.apply(t,e.matrix),!e.bbox)throw new Error("Bounding box is required.");var i=r.Util.getAxialAlignedBoundingBox(e.bbox,t.mozCurrentTransform);i=r.Util.intersect(i,[0,0,t.canvas.width,t.canvas.height])||[0,0,0,0];var a=Math.floor(i[0]),o=Math.floor(i[1]),s=Math.max(Math.ceil(i[2])-a,1),l=Math.max(Math.ceil(i[3])-o,1),u=1,d=1;s>4096&&(u=s/4096,s=4096),l>4096&&(d=l/4096,l=4096);var h="groupAt"+this.groupLevel;e.smask&&(h+="_smask_"+this.smaskCounter++%2);var f=this.cachedCanvases.getCanvas(h,s,l,!0),p=f.context;p.scale(1/u,1/d),p.translate(-a,-o),p.transform.apply(p,n),e.smask?this.smaskStack.push({canvas:f.canvas,context:p,offsetX:a,offsetY:o,scaleX:u,scaleY:d,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(t.setTransform(1,0,0,1,0,0),t.translate(a,o),t.scale(u,d)),c(t,p),this.ctx=p,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(t),this.groupLevel++,this.current.activeSMask=null}},endGroup:function(e){if(this.contentVisible){this.groupLevel--;var t=this.ctx;this.ctx=this.groupStack.pop(),void 0!==this.ctx.imageSmoothingEnabled?this.ctx.imageSmoothingEnabled=!1:this.ctx.mozImageSmoothingEnabled=!1,e.smask?this.tempSMask=this.smaskStack.pop():this.ctx.drawImage(t.canvas,0,0),this.restore()}},beginAnnotations:function(){this.save(),this.baseTransform&&this.ctx.setTransform.apply(this.ctx,this.baseTransform)},endAnnotations:function(){this.restore()},beginAnnotation:function(e,t,n){this.save(),l(this.ctx),this.current=new s,Array.isArray(e)&&4===e.length&&(this.ctx.rect(e[0],e[1],e[2]-e[0],e[3]-e[1]),this.clip(),this.endPath()),this.transform.apply(this,t),this.transform.apply(this,n)},endAnnotation:function(){this.restore()},paintImageMaskXObject:function(e){if(this.contentVisible){var t=this.ctx,r=e.width,i=e.height,a=this.current.fillColor,o=this.current.patternFill,s=this.processingType3;if(s&&void 0===s.compiled&&(s.compiled=r<=1e3&&i<=1e3?function(e){var t,n,r,i,a=e.width,o=e.height,s=a+1,c=new Uint8Array(s*(o+1)),l=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),u=a+7&-8,d=e.data,h=new Uint8Array(u*o),f=0;for(t=0,n=d.length;t<n;t++)for(var p=d[t],g=128;g>0;)h[f++]=p&g?0:255,g>>=1;var m=0;for(0!==h[f=0]&&(c[0]=1,++m),r=1;r<a;r++)h[f]!==h[f+1]&&(c[r]=h[f]?2:1,++m),f++;for(0!==h[f]&&(c[r]=2,++m),t=1;t<o;t++){i=t*s,h[(f=t*u)-u]!==h[f]&&(c[i]=h[f]?1:8,++m);var v=(h[f]?4:0)+(h[f-u]?8:0);for(r=1;r<a;r++)l[v=(v>>2)+(h[f+1]?4:0)+(h[f-u+1]?8:0)]&&(c[i+r]=l[v],++m),f++;if(h[f-u]!==h[f]&&(c[i+r]=h[f]?2:4,++m),m>1e3)return null}for(i=t*s,0!==h[f=u*(o-1)]&&(c[i]=8,++m),r=1;r<a;r++)h[f]!==h[f+1]&&(c[i+r]=h[f]?4:8,++m),f++;if(0!==h[f]&&(c[i+r]=4,++m),m>1e3)return null;var b=new Int32Array([0,s,-1,0,-s,0,0,0,1]),_=[];for(t=0;m&&t<=o;t++){for(var y=t*s,x=y+a;y<x&&!c[y];)y++;if(y!==x){var C=[y%s,t],P=y,k=c[y];do{var w=b[k];do{y+=w}while(!c[y]);var A=c[y];5!==A&&10!==A?(k=A,c[y]=0):c[y]&=(k=A&51*k>>4)>>2|k<<2,C.push(y%s),C.push(y/s|0),c[y]||--m}while(P!==y);_.push(C),--t}}return function(e){e.save(),e.scale(1/a,-1/o),e.translate(0,-o),e.beginPath();for(var t=0,n=_.length;t<n;t++){var r=_[t];e.moveTo(r[0],r[1]);for(var i=2,s=r.length;i<s;i+=2)e.lineTo(r[i],r[i+1])}e.fill(),e.beginPath(),e.restore()}}({data:e.data,width:r,height:i}):null),null!=s&&s.compiled)s.compiled(t);else{var c=this.cachedCanvases.getCanvas("maskCanvas",r,i),l=c.context;l.save(),n(l,e),l.globalCompositeOperation="source-in",l.fillStyle=o?a.getPattern(l,this):a,l.fillRect(0,0,r,i),l.restore(),this.paintInlineImageXObject(c.canvas)}}},paintImageMaskXObjectRepeat:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4?arguments[4]:void 0,o=arguments.length>5?arguments[5]:void 0;if(this.contentVisible){var s=e.width,c=e.height,l=this.current.fillColor,u=this.current.patternFill,d=this.cachedCanvases.getCanvas("maskCanvas",s,c),h=d.context;h.save(),n(h,e),h.globalCompositeOperation="source-in",h.fillStyle=u?l.getPattern(h,this):l,h.fillRect(0,0,s,c),h.restore();for(var f=this.ctx,p=0,g=o.length;p<g;p+=2)f.save(),f.transform(t,r,i,a,o[p],o[p+1]),f.scale(1,-1),f.drawImage(d.canvas,0,0,s,c,0,-1,1,1),f.restore()}},paintImageMaskXObjectGroup:function(e){if(this.contentVisible)for(var t=this.ctx,r=this.current.fillColor,i=this.current.patternFill,a=0,o=e.length;a<o;a++){var s=e[a],c=s.width,l=s.height,u=this.cachedCanvases.getCanvas("maskCanvas",c,l),d=u.context;d.save(),n(d,s),d.globalCompositeOperation="source-in",d.fillStyle=i?r.getPattern(d,this):r,d.fillRect(0,0,c,l),d.restore(),t.save(),t.transform.apply(t,s.transform),t.scale(1,-1),t.drawImage(u.canvas,0,0,c,l,0,-1,1,1),t.restore()}},paintImageXObject:function(e){if(this.contentVisible){var t=e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e);t?this.paintInlineImageXObject(t):(0,r.warn)("Dependent image isn't ready yet")}},paintImageXObjectRepeat:function(e,t,n,i){if(this.contentVisible){var a=e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e);if(a){for(var o=a.width,s=a.height,c=[],l=0,u=i.length;l<u;l+=2)c.push({transform:[t,0,0,n,i[l],i[l+1]],x:0,y:0,w:o,h:s});this.paintInlineImageXObjectGroup(a,c)}else(0,r.warn)("Dependent image isn't ready yet")}},paintInlineImageXObject:function(e){if(this.contentVisible){var n=e.width,r=e.height,i=this.ctx;this.save(),i.scale(1/n,-1/r);var a,o,s,c=i.mozCurrentTransformInverse,l=c[0],u=c[1],d=Math.max(Math.sqrt(l*l+u*u),1),h=c[2],f=c[3],p=Math.max(Math.sqrt(h*h+f*f),1);"function"==typeof HTMLElement&&e instanceof HTMLElement||!e.data?a=e:(t(s=(o=this.cachedCanvases.getCanvas("inlineImage",n,r)).context,e,this.current.transferMaps),a=o.canvas);for(var g=n,m=r,v="prescale1";d>2&&g>1||p>2&&m>1;){var b=g,_=m;d>2&&g>1&&(d/=g/(b=Math.ceil(g/2))),p>2&&m>1&&(p/=m/(_=Math.ceil(m/2))),(s=(o=this.cachedCanvases.getCanvas(v,b,_)).context).clearRect(0,0,b,_),s.drawImage(a,0,0,g,m,0,0,b,_),a=o.canvas,g=b,m=_,v="prescale1"===v?"prescale2":"prescale1"}if(i.drawImage(a,0,0,g,m,0,-r,n,r),this.imageLayer){var y=this.getCanvasPosition(0,-r);this.imageLayer.appendImage({imgData:e,left:y[0],top:y[1],width:n/c[0],height:r/c[3]})}this.restore()}},paintInlineImageXObjectGroup:function(e,n){if(this.contentVisible){var r=this.ctx,i=e.width,a=e.height,o=this.cachedCanvases.getCanvas("inlineImage",i,a);t(o.context,e,this.current.transferMaps);for(var s=0,c=n.length;s<c;s++){var l=n[s];if(r.save(),r.transform.apply(r,l.transform),r.scale(1,-1),r.drawImage(o.canvas,l.x,l.y,l.w,l.h,0,-1,1,1),this.imageLayer){var u=this.getCanvasPosition(l.x,l.y);this.imageLayer.appendImage({imgData:e,left:u[0],top:u[1],width:i,height:a})}r.restore()}}},paintSolidColorImageMask:function(){this.contentVisible&&this.ctx.fillRect(0,0,1,1)},markPoint:function(e){},markPointProps:function(e,t){},beginMarkedContent:function(e){this.markedContentStack.push({visible:!0})},beginMarkedContentProps:function(e,t){this.markedContentStack.push("OC"===e?{visible:this.optionalContentConfig.isVisible(t)}:{visible:!0}),this.contentVisible=this.isContentVisible()},endMarkedContent:function(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()},beginCompat:function(){},endCompat:function(){},consumePath:function(){var e=this.ctx;this.pendingClip&&(this.pendingClip===v?e.clip("evenodd"):e.clip(),this.pendingClip=null),e.beginPath()},getSinglePixelWidth:function(){if(null===this._cachedGetSinglePixelWidth){var e=this.ctx.mozCurrentTransform,t=Math.abs(e[0]*e[3]-e[2]*e[1]),n=Math.pow(e[0],2)+Math.pow(e[2],2),r=Math.pow(e[1],2)+Math.pow(e[3],2),i=Math.sqrt(Math.max(n,r))/t;this._cachedGetSinglePixelWidth=n!==r&&this._combinedScaleFactor*i>1?-this._combinedScaleFactor*i:t>Number.EPSILON?1.0000001*i:1}return this._cachedGetSinglePixelWidth},getCanvasPosition:function(e,t){var n=this.ctx.mozCurrentTransform;return[n[0]*e+n[2]*t+n[4],n[1]*e+n[3]*t+n[5]]},isContentVisible:function(){for(var e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}},r.OPS)e.prototype[r.OPS[b]]=e.prototype[b];return e}();t.CanvasGraphics=c},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.getShadingPatternFromIR=function(e){var t=i[e[0]];if(!t)throw new Error("Unknown IR type: ".concat(e[0]));return t.fromIR(e)},t.TilingPattern=void 0;var r=n(2),i={};function a(e,t){if(t&&"undefined"!=typeof Path2D){var n=t[2]-t[0],r=t[3]-t[1],i=new Path2D;i.rect(t[0],t[1],n,r),e.clip(i)}}i.RadialAxial={fromIR:function(e){var t=e[1],n=e[2],r=e[3],i=e[4],o=e[5],s=e[6],c=e[7];return{getPattern:function(e){var l;a(e,n),"axial"===t?l=e.createLinearGradient(i[0],i[1],o[0],o[1]):"radial"===t&&(l=e.createRadialGradient(i[0],i[1],s,o[0],o[1],c));for(var u=0,d=r.length;u<d;++u){var h=r[u];l.addColorStop(h[0],h[1])}return l}}}};var o=function(){function e(e,t,n,r,i,a,o,s){var c,l=t.coords,u=t.colors,d=e.data,h=4*e.width;l[n+1]>l[r+1]&&(c=n,n=r,r=c,c=a,a=o,o=c),l[r+1]>l[i+1]&&(c=r,r=i,i=c,c=o,o=s,s=c),l[n+1]>l[r+1]&&(c=n,n=r,r=c,c=a,a=o,o=c);var f=(l[n]+t.offsetX)*t.scaleX,p=(l[n+1]+t.offsetY)*t.scaleY,g=(l[r]+t.offsetX)*t.scaleX,m=(l[r+1]+t.offsetY)*t.scaleY,v=(l[i]+t.offsetX)*t.scaleX,b=(l[i+1]+t.offsetY)*t.scaleY;if(!(p>=b))for(var _,y,x,C,P,k,w,A,S=u[a],M=u[a+1],O=u[a+2],L=u[o],T=u[o+1],R=u[o+2],I=u[s],E=u[s+1],F=u[s+2],N=Math.round(p),D=Math.round(b),U=N;U<=D;U++){var z,W;if(U<m)_=f-(f-g)*(z=U<p?0:p===m?1:(p-U)/(p-m)),y=S-(S-L)*z,x=M-(M-T)*z,C=O-(O-R)*z;else _=g-(g-v)*(W=U>b?1:m===b?0:(m-U)/(m-b)),y=L-(L-I)*W,x=T-(T-E)*W,C=R-(R-F)*W;var V=void 0;P=f-(f-v)*(V=U<p?0:U>b?1:(p-U)/(p-b)),k=S-(S-I)*V,w=M-(M-E)*V,A=O-(O-F)*V;for(var j=Math.round(Math.min(_,P)),H=Math.round(Math.max(_,P)),B=h*U+4*j,G=j;G<=H;G++)(V=(_-G)/(_-P))<0?V=0:V>1&&(V=1),d[B++]=y-(y-k)*V|0,d[B++]=x-(x-w)*V|0,d[B++]=C-(C-A)*V|0,d[B++]=255}}function t(t,n,r){var i,a,o=n.coords,s=n.colors;switch(n.type){case"lattice":var c=n.verticesPerRow,l=Math.floor(o.length/c)-1,u=c-1;for(i=0;i<l;i++)for(var d=i*c,h=0;h<u;h++,d++)e(t,r,o[d],o[d+1],o[d+c],s[d],s[d+1],s[d+c]),e(t,r,o[d+c+1],o[d+1],o[d+c],s[d+c+1],s[d+1],s[d+c]);break;case"triangles":for(i=0,a=o.length;i<a;i+=3)e(t,r,o[i],o[i+1],o[i+2],s[i],s[i+1],s[i+2]);break;default:throw new Error("illegal figure")}}return function(e,n,r,i,a,o,s,c){var l,u,d,h,f=Math.floor(e[0]),p=Math.floor(e[1]),g=Math.ceil(e[2])-f,m=Math.ceil(e[3])-p,v=Math.min(Math.ceil(Math.abs(g*n[0]*1.1)),3e3),b=Math.min(Math.ceil(Math.abs(m*n[1]*1.1)),3e3),_=g/v,y=m/b,x={coords:r,colors:i,offsetX:-f,offsetY:-p,scaleX:1/_,scaleY:1/y},C=v+4,P=b+4;if(c.isEnabled)l=c.drawFigures({width:v,height:b,backgroundColor:o,figures:a,context:x}),(u=s.getCanvas("mesh",C,P,!1)).context.drawImage(l,2,2),l=u.canvas;else{var k=(u=s.getCanvas("mesh",C,P,!1)).context,w=k.createImageData(v,b);if(o){var A=w.data;for(d=0,h=A.length;d<h;d+=4)A[d]=o[0],A[d+1]=o[1],A[d+2]=o[2],A[d+3]=255}for(d=0;d<a.length;d++)t(w,a[d],x);k.putImageData(w,2,2),l=u.canvas}return{canvas:l,offsetX:f-2*_,offsetY:p-2*y,scaleX:_,scaleY:y}}}();i.Mesh={fromIR:function(e){var t=e[2],n=e[3],i=e[4],s=e[5],c=e[6],l=e[7],u=e[8];return{getPattern:function(e,d,h){var f;if(a(e,l),h)f=r.Util.singularValueDecompose2dScale(e.mozCurrentTransform);else if(f=r.Util.singularValueDecompose2dScale(d.baseTransform),c){var p=r.Util.singularValueDecompose2dScale(c);f=[f[0]*p[0],f[1]*p[1]]}var g=o(s,f,t,n,i,h?null:u,d.cachedCanvases,d.webGLContext);return h||(e.setTransform.apply(e,d.baseTransform),c&&e.transform.apply(e,c)),e.translate(g.offsetX,g.offsetY),e.scale(g.scaleX,g.scaleY),e.createPattern(g.canvas,"no-repeat")}}}},i.Dummy={fromIR:function(){return{getPattern:function(){return"hotpink"}}}};var s=function(){function e(e,t,n,r,i){this.operatorList=e[2],this.matrix=e[3]||[1,0,0,1,0,0],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.color=t,this.canvasGraphicsFactory=r,this.baseTransform=i,this.ctx=n}return e.prototype={createPatternCanvas:function(e){var t=this.operatorList,n=this.bbox,i=this.xstep,a=this.ystep,o=this.paintType,s=this.color,c=this.canvasGraphicsFactory;(0,r.info)("TilingType: "+this.tilingType);var l=n[0],u=n[1],d=n[2],h=n[3],f=r.Util.singularValueDecompose2dScale(this.matrix),p=r.Util.singularValueDecompose2dScale(this.baseTransform),g=[f[0]*p[0],f[1]*p[1]],m=this.getSizeAndScale(i,this.ctx.canvas.width,g[0]),v=this.getSizeAndScale(a,this.ctx.canvas.height,g[1]),b=e.cachedCanvases.getCanvas("pattern",m.size,v.size,!0),_=c.createCanvasGraphics(b.context);return _.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(_,o,s),_.transform(m.scale,0,0,v.scale,0,0),_.transform(1,0,0,1,-l,-u),this.clipBbox(_,n,l,u,d,h),_.executeOperatorList(t),this.ctx.transform(1,0,0,1,l,u),this.ctx.scale(1/m.scale,1/v.scale),b.canvas},getSizeAndScale:function(e,t,n){e=Math.abs(e);var r=Math.max(3e3,t),i=Math.ceil(e*n);return i>=r?i=r:n=i/e,{scale:n,size:i}},clipBbox:function(e,t,n,r,i,a){Array.isArray(t)&&4===t.length&&(e.ctx.rect(n,r,i-n,a-r),e.clip(),e.endPath())},setFillAndStrokeStyleToContext:function(e,t,n){var i=e.ctx,a=e.current;switch(t){case 1:var o=this.ctx;i.fillStyle=o.fillStyle,i.strokeStyle=o.strokeStyle,a.fillColor=o.fillStyle,a.strokeColor=o.strokeStyle;break;case 2:var s=r.Util.makeHexColor(n[0],n[1],n[2]);i.fillStyle=s,i.strokeStyle=s,a.fillColor=s,a.strokeColor=s;break;default:throw new r.FormatError("Unsupported paint type: ".concat(t))}},getPattern:function(e,t){(e=this.ctx).setTransform.apply(e,this.baseTransform),e.transform.apply(e,this.matrix);var n=this.createPatternCanvas(t);return e.createPattern(n,"repeat")}},e}();t.TilingPattern=s},function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.GlobalWorkerOptions=void 0;var n=Object.create(null);t.GlobalWorkerOptions=n,n.workerPort=void 0===n.workerPort?null:n.workerPort,n.workerSrc=void 0===n.workerSrc?"":n.workerSrc},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.MessageHandler=void 0;var r=n(2);function i(e){if("object"!=typeof e||null===e)return e;switch(e.name){case"AbortException":return new r.AbortException(e.message);case"MissingPDFException":return new r.MissingPDFException(e.message);case"UnexpectedResponseException":return new r.UnexpectedResponseException(e.message,e.status);case"UnknownErrorException":return new r.UnknownErrorException(e.message,e.details);default:return new r.UnknownErrorException(e.message,e.toString())}}t.MessageHandler=function(){function e(t,n,r){var a=this;_classCallCheck(this,e),this.sourceName=t,this.targetName=n,this.comObj=r,this.callbackId=1,this.streamId=1,this.postMessageTransfers=!0,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=function(e){var t=e.data;if(t.targetName===a.sourceName)if(t.stream)a._processStreamMessage(t);else if(t.callback){var n=t.callbackId,o=a.callbackCapabilities[n];if(!o)throw new Error("Cannot resolve callback ".concat(n));if(delete a.callbackCapabilities[n],1===t.callback)o.resolve(t.data);else{if(2!==t.callback)throw new Error("Unexpected callback case");o.reject(i(t.reason))}}else{var s=a.actionHandler[t.action];if(!s)throw new Error("Unknown action from worker: ".concat(t.action));if(t.callbackId){var c=a.sourceName,l=t.sourceName;new Promise((function(e){e(s(t.data))})).then((function(e){r.postMessage({sourceName:c,targetName:l,callback:1,callbackId:t.callbackId,data:e})}),(function(e){r.postMessage({sourceName:c,targetName:l,callback:2,callbackId:t.callbackId,reason:i(e)})}))}else t.streamId?a._createStreamSink(t):s(t.data)}},r.addEventListener("message",this._onComObjOnMessage)}var t;return _createClass(e,[{key:"on",value:function(e,t){var n=this.actionHandler;if(n[e])throw new Error('There is already an actionName called "'.concat(e,'"'));n[e]=t}},{key:"send",value:function(e,t,n){this._postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},n)}},{key:"sendWithPromise",value:function(e,t,n){var i=this.callbackId++,a=(0,r.createPromiseCapability)();this.callbackCapabilities[i]=a;try{this._postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:i,data:t},n)}catch(o){a.reject(o)}return a.promise}},{key:"sendWithStream",value:function(e,t,n,a){var o=this,s=this.streamId++,c=this.sourceName,l=this.targetName,u=this.comObj;return new ReadableStream({start:function(n){var i=(0,r.createPromiseCapability)();return o.streamControllers[s]={controller:n,startCall:i,pullCall:null,cancelCall:null,isClosed:!1},o._postMessage({sourceName:c,targetName:l,action:e,streamId:s,data:t,desiredSize:n.desiredSize},a),i.promise},pull:function(e){var t=(0,r.createPromiseCapability)();return o.streamControllers[s].pullCall=t,u.postMessage({sourceName:c,targetName:l,stream:6,streamId:s,desiredSize:e.desiredSize}),t.promise},cancel:function(e){(0,r.assert)(e instanceof Error,"cancel must have a valid reason");var t=(0,r.createPromiseCapability)();return o.streamControllers[s].cancelCall=t,o.streamControllers[s].isClosed=!0,u.postMessage({sourceName:c,targetName:l,stream:1,streamId:s,reason:i(e)}),t.promise}},n)}},{key:"_createStreamSink",value:function(e){var t=this,n=this.actionHandler[e.action],a=e.streamId,o=this.sourceName,s=e.sourceName,c=this.comObj,l={enqueue:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2?arguments[2]:void 0;if(!this.isCancelled){var c=this.desiredSize;this.desiredSize-=n,c>0&&this.desiredSize<=0&&(this.sinkCapability=(0,r.createPromiseCapability)(),this.ready=this.sinkCapability.promise),t._postMessage({sourceName:o,targetName:s,stream:4,streamId:a,chunk:e},i)}},close:function(){this.isCancelled||(this.isCancelled=!0,c.postMessage({sourceName:o,targetName:s,stream:3,streamId:a}),delete t.streamSinks[a])},error:function(e){(0,r.assert)(e instanceof Error,"error must have a valid reason"),this.isCancelled||(this.isCancelled=!0,c.postMessage({sourceName:o,targetName:s,stream:5,streamId:a,reason:i(e)}))},sinkCapability:(0,r.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};l.sinkCapability.resolve(),l.ready=l.sinkCapability.promise,this.streamSinks[a]=l,new Promise((function(t){t(n(e.data,l))})).then((function(){c.postMessage({sourceName:o,targetName:s,stream:8,streamId:a,success:!0})}),(function(e){c.postMessage({sourceName:o,targetName:s,stream:8,streamId:a,reason:i(e)})}))}},{key:"_processStreamMessage",value:function(e){var t=e.streamId,n=this.sourceName,a=e.sourceName,o=this.comObj;switch(e.stream){case 8:e.success?this.streamControllers[t].startCall.resolve():this.streamControllers[t].startCall.reject(i(e.reason));break;case 7:e.success?this.streamControllers[t].pullCall.resolve():this.streamControllers[t].pullCall.reject(i(e.reason));break;case 6:if(!this.streamSinks[t]){o.postMessage({sourceName:n,targetName:a,stream:7,streamId:t,success:!0});break}this.streamSinks[t].desiredSize<=0&&e.desiredSize>0&&this.streamSinks[t].sinkCapability.resolve(),this.streamSinks[t].desiredSize=e.desiredSize;var s=this.streamSinks[e.streamId].onPull;new Promise((function(e){e(s&&s())})).then((function(){o.postMessage({sourceName:n,targetName:a,stream:7,streamId:t,success:!0})}),(function(e){o.postMessage({sourceName:n,targetName:a,stream:7,streamId:t,reason:i(e)})}));break;case 4:if((0,r.assert)(this.streamControllers[t],"enqueue should have stream controller"),this.streamControllers[t].isClosed)break;this.streamControllers[t].controller.enqueue(e.chunk);break;case 3:if((0,r.assert)(this.streamControllers[t],"close should have stream controller"),this.streamControllers[t].isClosed)break;this.streamControllers[t].isClosed=!0,this.streamControllers[t].controller.close(),this._deleteStreamController(t);break;case 5:(0,r.assert)(this.streamControllers[t],"error should have stream controller"),this.streamControllers[t].controller.error(i(e.reason)),this._deleteStreamController(t);break;case 2:e.success?this.streamControllers[t].cancelCall.resolve():this.streamControllers[t].cancelCall.reject(i(e.reason)),this._deleteStreamController(t);break;case 1:if(!this.streamSinks[t])break;var c=this.streamSinks[e.streamId].onCancel;new Promise((function(t){t(c&&c(i(e.reason)))})).then((function(){o.postMessage({sourceName:n,targetName:a,stream:2,streamId:t,success:!0})}),(function(e){o.postMessage({sourceName:n,targetName:a,stream:2,streamId:t,reason:i(e)})})),this.streamSinks[t].sinkCapability.reject(i(e.reason)),this.streamSinks[t].isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}}},{key:"_deleteStreamController",value:(t=_asyncToGenerator(_regeneratorRuntime.mark((function e(t){return _regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.allSettled([this.streamControllers[t].startCall,this.streamControllers[t].pullCall,this.streamControllers[t].cancelCall].map((function(e){return e&&e.promise})));case 2:delete this.streamControllers[t];case 3:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"_postMessage",value:function(e,t){t&&this.postMessageTransfers?this.comObj.postMessage(e,t):this.comObj.postMessage(e)}},{key:"destroy",value:function(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}]),e}()},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Metadata=void 0;var r=n(2),i=n(15);t.Metadata=function(){function e(t){_classCallCheck(this,e),(0,r.assert)("string"==typeof t,"Metadata: input is not a string"),t=this._repair(t);var n=new i.SimpleXMLParser({lowerCaseName:!0}).parseFromString(t);this._metadataMap=new Map,n&&this._parse(n),this._data=t}return _createClass(e,[{key:"_repair",value:function(e){return e.replace(/^[^<]+/,"").replace(/>\\376\\377([^<]+)/g,(function(e,t){for(var n=t.replace(/\\([0-3])([0-7])([0-7])/g,(function(e,t,n,r){return String.fromCharCode(64*t+8*n+1*r)})).replace(/&(amp|apos|gt|lt|quot);/g,(function(e,t){switch(t){case"amp":return"&";case"apos":return"'";case"gt":return">";case"lt":return"<";case"quot":return'"'}throw new Error("_repair: ".concat(t," isn't defined."))})),r="",i=0,a=n.length;i<a;i+=2){var o=256*n.charCodeAt(i)+n.charCodeAt(i+1);r+=o>=32&&o<127&&60!==o&&62!==o&&38!==o?String.fromCharCode(o):"&#x"+(65536+o).toString(16).substring(1)+";"}return">"+r}))}},{key:"_getSequence",value:function(e){var t=e.nodeName;return"rdf:bag"!==t&&"rdf:seq"!==t&&"rdf:alt"!==t?null:e.childNodes.filter((function(e){return"rdf:li"===e.nodeName}))}},{key:"_getCreators",value:function(e){if("dc:creator"!==e.nodeName)return!1;if(!e.hasChildNodes())return!0;var t=this._getSequence(e.childNodes[0])||[];return this._metadataMap.set(e.nodeName,t.map((function(e){return e.textContent.trim()}))),!0}},{key:"_parse",value:function(e){var t=e.documentElement;if("rdf:rdf"!==t.nodeName)for(t=t.firstChild;t&&"rdf:rdf"!==t.nodeName;)t=t.nextSibling;if(t&&"rdf:rdf"===t.nodeName&&t.hasChildNodes()){var n,r=_createForOfIteratorHelper(t.childNodes);try{for(r.s();!(n=r.n()).done;){var i=n.value;if("rdf:description"===i.nodeName){var a,o=_createForOfIteratorHelper(i.childNodes);try{for(o.s();!(a=o.n()).done;){var s=a.value,c=s.nodeName;"#text"!==c&&(this._getCreators(s)||this._metadataMap.set(c,s.textContent.trim()))}}catch(l){o.e(l)}finally{o.f()}}}}catch(l){r.e(l)}finally{r.f()}}}},{key:"getRaw",value:function(){return this._data}},{key:"get",value:function(e){var t;return null!==(t=this._metadataMap.get(e))&&void 0!==t?t:null}},{key:"getAll",value:function(){return(0,r.objectFromEntries)(this._metadataMap)}},{key:"has",value:function(e){return this._metadataMap.has(e)}}]),e}()},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.SimpleXMLParser=t.SimpleDOMNode=void 0;var r=n(2);function i(e,t){var n=e[t];return" "===n||"\n"===n||"\r"===n||"\t"===n}var a=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"_resolveEntities",value:function(e){var t=this;return e.replace(/&([^;]+);/g,(function(e,n){if("#x"===n.substring(0,2))return String.fromCodePoint(parseInt(n.substring(2),16));if("#"===n.substring(0,1))return String.fromCodePoint(parseInt(n.substring(1),10));switch(n){case"lt":return"<";case"gt":return">";case"amp":return"&";case"quot":return'"'}return t.onResolveEntity(n)}))}},{key:"_parseContent",value:function(e,t){var n=[],r=t;function a(){for(;r<e.length&&i(e,r);)++r}for(;r<e.length&&!i(e,r)&&">"!==e[r]&&"/"!==e[r];)++r;var o=e.substring(t,r);for(a();r<e.length&&">"!==e[r]&&"/"!==e[r]&&"?"!==e[r];){a();for(var s,c="";r<e.length&&!i(e,r)&&"="!==e[r];)c+=e[r],++r;if(a(),"="!==e[r])return null;++r,a();var l=e[r];if('"'!==l&&"'"!==l)return null;var u=e.indexOf(l,++r);if(u<0)return null;s=e.substring(r,u),n.push({name:c,value:this._resolveEntities(s)}),r=u+1,a()}return{name:o,attributes:n,parsed:r-t}}},{key:"_parseProcessingInstruction",value:function(e,t){for(var n=t;n<e.length&&!i(e,n)&&">"!==e[n]&&"/"!==e[n];)++n;var r=e.substring(t,n);!function(){for(;n<e.length&&i(e,n);)++n}();for(var a=n;n<e.length&&("?"!==e[n]||">"!==e[n+1]);)++n;return{name:r,value:e.substring(a,n),parsed:n-t}}},{key:"parseXml",value:function(e){for(var t=0;t<e.length;){var n=t;if("<"===e[t]){var r=void 0;switch(e[++n]){case"/":if(++n,(r=e.indexOf(">",n))<0)return void this.onError(-9);this.onEndElement(e.substring(n,r)),n=r+1;break;case"?":++n;var i=this._parseProcessingInstruction(e,n);if("?>"!==e.substring(n+i.parsed,n+i.parsed+2))return void this.onError(-3);this.onPi(i.name,i.value),n+=i.parsed+2;break;case"!":if("--"===e.substring(n+1,n+3)){if((r=e.indexOf("--\x3e",n+3))<0)return void this.onError(-5);this.onComment(e.substring(n+3,r)),n=r+3}else if("[CDATA["===e.substring(n+1,n+8)){if((r=e.indexOf("]]>",n+8))<0)return void this.onError(-2);this.onCdata(e.substring(n+8,r)),n=r+3}else{if("DOCTYPE"!==e.substring(n+1,n+8))return void this.onError(-6);var a=e.indexOf("[",n+8),o=!1;if((r=e.indexOf(">",n+8))<0)return void this.onError(-4);if(a>0&&r>a){if((r=e.indexOf("]>",n+8))<0)return void this.onError(-4);o=!0}var s=e.substring(n+8,r+(o?1:0));this.onDoctype(s),n=r+(o?2:1)}break;default:var c=this._parseContent(e,n);if(null===c)return void this.onError(-6);var l=!1;if("/>"===e.substring(n+c.parsed,n+c.parsed+2))l=!0;else if(">"!==e.substring(n+c.parsed,n+c.parsed+1))return void this.onError(-9);this.onBeginElement(c.name,c.attributes,l),n+=c.parsed+(l?2:1)}}else{for(;n<e.length&&"<"!==e[n];)n++;var u=e.substring(t,n);this.onText(this._resolveEntities(u))}t=n}}},{key:"onResolveEntity",value:function(e){return"&".concat(e,";")}},{key:"onPi",value:function(e,t){}},{key:"onComment",value:function(e){}},{key:"onCdata",value:function(e){}},{key:"onDoctype",value:function(e){}},{key:"onText",value:function(e){}},{key:"onBeginElement",value:function(e,t,n){}},{key:"onEndElement",value:function(e){}},{key:"onError",value:function(e){}}]),e}(),o=function(){function e(t,n){_classCallCheck(this,e),this.nodeName=t,this.nodeValue=n,Object.defineProperty(this,"parentNode",{value:null,writable:!0})}return _createClass(e,[{key:"firstChild",get:function(){return this.childNodes&&this.childNodes[0]}},{key:"nextSibling",get:function(){var e=this.parentNode.childNodes;if(e){var t=e.indexOf(this);if(-1!==t)return e[t+1]}}},{key:"textContent",get:function(){return this.childNodes?this.childNodes.map((function(e){return e.textContent})).join(""):this.nodeValue||""}},{key:"hasChildNodes",value:function(){return this.childNodes&&this.childNodes.length>0}},{key:"searchNode",value:function(e,t){if(t>=e.length)return this;for(var n=e[t],r=[],i=this;;){if(n.name===i.nodeName){if(0!==n.pos){if(0===r.length)return null;var a,o=r.pop(),s=_slicedToArray(o,1),c=0,l=_createForOfIteratorHelper(s[0].childNodes);try{for(l.s();!(a=l.n()).done;){var u=a.value;if(n.name===u.nodeName){if(c===n.pos)return u.searchNode(e,t+1);c++}}}catch(m){l.e(m)}finally{l.f()}return i.searchNode(e,t+1)}var d=i.searchNode(e,t+1);if(null!==d)return d}if(i.childNodes&&0!==i.childNodes.length)r.push([i,0]),i=i.childNodes[0];else{if(0===r.length)return null;for(;0!==r.length;){var h=r.pop(),f=_slicedToArray(h,2),p=f[0],g=f[1]+1;if(g<p.childNodes.length){r.push([p,g]),i=p.childNodes[g];break}}if(0===r.length)return null}}}},{key:"dump",value:function(e){if("#text"!==this.nodeName){if(e.push("<".concat(this.nodeName)),this.attributes){var t,n=_createForOfIteratorHelper(this.attributes);try{for(n.s();!(t=n.n()).done;){var i=t.value;e.push(" ".concat(i.name,'="').concat((0,r.encodeToXmlString)(i.value),'"'))}}catch(s){n.e(s)}finally{n.f()}}if(this.hasChildNodes()){e.push(">");var a,o=_createForOfIteratorHelper(this.childNodes);try{for(o.s();!(a=o.n()).done;)a.value.dump(e)}catch(s){o.e(s)}finally{o.f()}e.push("</".concat(this.nodeName,">"))}else e.push(this.nodeValue?">".concat((0,r.encodeToXmlString)(this.nodeValue),"</").concat(this.nodeName,">"):"/>")}else e.push((0,r.encodeToXmlString)(this.nodeValue))}}]),e}();t.SimpleDOMNode=o,t.SimpleXMLParser=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r,i=e.hasAttributes,a=void 0!==i&&i,o=e.lowerCaseName,s=void 0!==o&&o;return _classCallCheck(this,n),(r=t.call(this))._currentFragment=null,r._stack=null,r._errorCode=0,r._hasAttributes=a,r._lowerCaseName=s,r}return _createClass(n,[{key:"parseFromString",value:function(e){if(this._currentFragment=[],this._stack=[],this._errorCode=0,this.parseXml(e),0===this._errorCode){var t=_slicedToArray(this._currentFragment,1)[0];if(t)return{documentElement:t}}}},{key:"onResolveEntity",value:function(e){switch(e){case"apos":return"'"}return _get(_getPrototypeOf(n.prototype),"onResolveEntity",this).call(this,e)}},{key:"onText",value:function(e){if(!function(e){for(var t=0,n=e.length;t<n;t++)if(!i(e,t))return!1;return!0}(e)){var t=new o("#text",e);this._currentFragment.push(t)}}},{key:"onCdata",value:function(e){var t=new o("#text",e);this._currentFragment.push(t)}},{key:"onBeginElement",value:function(e,t,n){this._lowerCaseName&&(e=e.toLowerCase());var r=new o(e);r.childNodes=[],this._hasAttributes&&(r.attributes=t),this._currentFragment.push(r),n||(this._stack.push(this._currentFragment),this._currentFragment=r.childNodes)}},{key:"onEndElement",value:function(e){this._currentFragment=this._stack.pop()||[];var t=this._currentFragment[this._currentFragment.length-1];if(t)for(var n=0,r=t.childNodes.length;n<r;n++)t.childNodes[n].parentNode=t}},{key:"onError",value:function(e){this._errorCode=e}}]),n}(a)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.OptionalContentConfig=void 0;var r=n(2),i=function e(t,n){_classCallCheck(this,e),this.visible=!0,this.name=t,this.intent=n};t.OptionalContentConfig=function(){function e(t){if(_classCallCheck(this,e),this.name=null,this.creator=null,this._order=null,this._groups=new Map,null!==t){this.name=t.name,this.creator=t.creator,this._order=t.order;var n,r=_createForOfIteratorHelper(t.groups);try{for(r.s();!(n=r.n()).done;){var a=n.value;this._groups.set(a.id,new i(a.name,a.intent))}}catch(h){r.e(h)}finally{r.f()}if("OFF"===t.baseState){var o,s=_createForOfIteratorHelper(this._groups);try{for(s.s();!(o=s.n()).done;)o.value.visible=!1}catch(h){s.e(h)}finally{s.f()}}var c,l=_createForOfIteratorHelper(t.on);try{for(l.s();!(c=l.n()).done;)this._groups.get(c.value).visible=!0}catch(h){l.e(h)}finally{l.f()}var u,d=_createForOfIteratorHelper(t.off);try{for(d.s();!(u=d.n()).done;)this._groups.get(u.value).visible=!1}catch(h){d.e(h)}finally{d.f()}}}return _createClass(e,[{key:"isVisible",value:function(e){if("OCG"===e.type)return this._groups.has(e.id)?this._groups.get(e.id).visible:((0,r.warn)("Optional content group not found: ".concat(e.id)),!0);if("OCMD"===e.type){if(e.expression&&(0,r.warn)("Visibility expression not supported yet."),!e.policy||"AnyOn"===e.policy){var t,n=_createForOfIteratorHelper(e.ids);try{for(n.s();!(t=n.n()).done;){var i=t.value;if(!this._groups.has(i))return(0,r.warn)("Optional content group not found: ".concat(i)),!0;if(this._groups.get(i).visible)return!0}}catch(p){n.e(p)}finally{n.f()}return!1}if("AllOn"===e.policy){var a,o=_createForOfIteratorHelper(e.ids);try{for(o.s();!(a=o.n()).done;){var s=a.value;if(!this._groups.has(s))return(0,r.warn)("Optional content group not found: ".concat(s)),!0;if(!this._groups.get(s).visible)return!1}}catch(p){o.e(p)}finally{o.f()}return!0}if("AnyOff"===e.policy){var c,l=_createForOfIteratorHelper(e.ids);try{for(l.s();!(c=l.n()).done;){var u=c.value;if(!this._groups.has(u))return(0,r.warn)("Optional content group not found: ".concat(u)),!0;if(!this._groups.get(u).visible)return!0}}catch(p){l.e(p)}finally{l.f()}return!1}if("AllOff"===e.policy){var d,h=_createForOfIteratorHelper(e.ids);try{for(h.s();!(d=h.n()).done;){var f=d.value;if(!this._groups.has(f))return(0,r.warn)("Optional content group not found: ".concat(f)),!0;if(this._groups.get(f).visible)return!1}}catch(p){h.e(p)}finally{h.f()}return!0}return(0,r.warn)("Unknown optional content policy ".concat(e.policy,".")),!0}return(0,r.warn)("Unknown group type ".concat(e.type,".")),!0}},{key:"setVisibility",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this._groups.has(e)?this._groups.get(e).visible=!!t:(0,r.warn)("Optional content group not found: ".concat(e))}},{key:"getOrder",value:function(){return this._groups.size?this._order?this._order.slice():Array.from(this._groups.keys()):null}},{key:"getGroups",value:function(){return this._groups.size?(0,r.objectFromEntries)(this._groups):null}},{key:"getGroup",value:function(e){return this._groups.get(e)||null}}]),e}()},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.PDFDataTransportStream=void 0;var r=n(2);t.PDFDataTransportStream=function(){function e(t,n){var i=this;_classCallCheck(this,e),(0,r.assert)(n,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=t.progressiveDone||!1;var a=t.initialData;if((null==a?void 0:a.length)>0){var o=new Uint8Array(a).buffer;this._queuedChunks.push(o)}this._pdfDataRangeTransport=n,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._contentLength=t.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((function(e,t){i._onReceiveData({begin:e,chunk:t})})),this._pdfDataRangeTransport.addProgressListener((function(e,t){i._onProgress({loaded:e,total:t})})),this._pdfDataRangeTransport.addProgressiveReadListener((function(e){i._onReceiveData({chunk:e})})),this._pdfDataRangeTransport.addProgressiveDoneListener((function(){i._onProgressiveDone()})),this._pdfDataRangeTransport.transportReady()}return _createClass(e,[{key:"_onReceiveData",value:function(e){var t=new Uint8Array(e.chunk).buffer;if(void 0===e.begin)this._fullRequestReader?this._fullRequestReader._enqueue(t):this._queuedChunks.push(t);else{var n=this._rangeReaders.some((function(n){return n._begin===e.begin&&(n._enqueue(t),!0)}));(0,r.assert)(n,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}},{key:"_progressiveDataLength",get:function(){var e,t;return null!==(e=null===(t=this._fullRequestReader)||void 0===t?void 0:t._loaded)&&void 0!==e?e:0}},{key:"_onProgress",value:function(e){if(void 0===e.total){var t=this._rangeReaders[0];null!=t&&t.onProgress&&t.onProgress({loaded:e.loaded})}else{var n=this._fullRequestReader;null!=n&&n.onProgress&&n.onProgress({loaded:e.loaded,total:e.total})}}},{key:"_onProgressiveDone",value:function(){this._fullRequestReader&&this._fullRequestReader.progressiveDone(),this._progressiveDone=!0}},{key:"_removeRangeReader",value:function(e){var t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}},{key:"getFullReader",value:function(){(0,r.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");var e=this._queuedChunks;return this._queuedChunks=null,new i(this,e,this._progressiveDone)}},{key:"getRangeReader",value:function(e,t){if(t<=this._progressiveDataLength)return null;var n=new a(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(n),n}},{key:"cancelAllRequests",value:function(e){this._fullRequestReader&&this._fullRequestReader.cancel(e),this._rangeReaders.slice(0).forEach((function(t){t.cancel(e)})),this._pdfDataRangeTransport.abort()}}]),e}();var i=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];_classCallCheck(this,e),this._stream=t,this._done=r||!1,this._filename=null,this._queuedChunks=n||[],this._loaded=0;var i,a=_createForOfIteratorHelper(this._queuedChunks);try{for(a.s();!(i=a.n()).done;){var o=i.value;this._loaded+=o.byteLength}}catch(s){a.e(s)}finally{a.f()}this._requests=[],this._headersReady=Promise.resolve(),t._fullRequestReader=this,this.onProgress=null}var t;return _createClass(e,[{key:"_enqueue",value:function(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}},{key:"headersReady",get:function(){return this._headersReady}},{key:"filename",get:function(){return this._filename}},{key:"isRangeSupported",get:function(){return this._stream._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._stream._isStreamingSupported}},{key:"contentLength",get:function(){return this._stream._contentLength}},{key:"read",value:(t=_asyncToGenerator(_regeneratorRuntime.mark((function e(){var t,n;return _regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this._queuedChunks.length>0)){e.next=3;break}return t=this._queuedChunks.shift(),e.abrupt("return",{value:t,done:!1});case 3:if(!this._done){e.next=5;break}return e.abrupt("return",{value:void 0,done:!0});case 5:return n=(0,r.createPromiseCapability)(),this._requests.push(n),e.abrupt("return",n.promise);case 8:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"cancel",value:function(e){this._done=!0,this._requests.forEach((function(e){e.resolve({value:void 0,done:!0})})),this._requests=[]}},{key:"progressiveDone",value:function(){this._done||(this._done=!0)}}]),e}(),a=function(){function e(t,n,r){_classCallCheck(this,e),this._stream=t,this._begin=n,this._end=r,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}var t;return _createClass(e,[{key:"_enqueue",value:function(e){this._done||(0===this._requests.length?this._queuedChunk=e:(this._requests.shift().resolve({value:e,done:!1}),this._requests.forEach((function(e){e.resolve({value:void 0,done:!0})})),this._requests=[]),this._done=!0,this._stream._removeRangeReader(this))}},{key:"isStreamingSupported",get:function(){return!1}},{key:"read",value:(t=_asyncToGenerator(_regeneratorRuntime.mark((function e(){var t,n;return _regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._queuedChunk){e.next=4;break}return t=this._queuedChunk,this._queuedChunk=null,e.abrupt("return",{value:t,done:!1});case 4:if(!this._done){e.next=6;break}return e.abrupt("return",{value:void 0,done:!0});case 6:return n=(0,r.createPromiseCapability)(),this._requests.push(n),e.abrupt("return",n.promise);case 9:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"cancel",value:function(e){this._done=!0,this._requests.forEach((function(e){e.resolve({value:void 0,done:!0})})),this._requests=[],this._stream._removeRangeReader(this)}}]),e}()},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.WebGLContext=void 0;var r=n(2);t.WebGLContext=function(){function e(t){var n=t.enable,r=void 0!==n&&n;_classCallCheck(this,e),this._enabled=!0===r}return _createClass(e,[{key:"isEnabled",get:function(){var e=this._enabled;return e&&(e=i.tryInitGL()),(0,r.shadow)(this,"isEnabled",e)}},{key:"composeSMask",value:function(e){return i.composeSMask(e.layer,e.mask,e.properties)}},{key:"drawFigures",value:function(e){return i.drawFigures(e.width,e.height,e.backgroundColor,e.figures,e.context)}},{key:"clear",value:function(){i.cleanup()}}]),e}();var i=function(){function e(e,t,n){var r=e.createShader(n);if(e.shaderSource(r,t),e.compileShader(r),!e.getShaderParameter(r,e.COMPILE_STATUS)){var i=e.getShaderInfoLog(r);throw new Error("Error during shader compilation: "+i)}return r}function t(t,n){return e(t,n,t.VERTEX_SHADER)}function n(t,n){return e(t,n,t.FRAGMENT_SHADER)}function r(e,t){for(var n=e.createProgram(),r=0,i=t.length;r<i;++r)e.attachShader(n,t[r]);if(e.linkProgram(n),!e.getProgramParameter(n,e.LINK_STATUS)){var a=e.getProgramInfoLog(n);throw new Error("Error during program linking: "+a)}return n}function i(e,t,n){e.activeTexture(n);var r=e.createTexture();return e.bindTexture(e.TEXTURE_2D,r),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,t),r}var a,o;function s(){a||(o=document.createElement("canvas"),a=o.getContext("webgl",{premultipliedalpha:!1}))}var c=null,l=null;return{tryInitGL:function(){try{return s(),!!a}catch(e){}return!1},composeSMask:function(e,l,u){var d=e.width,h=e.height;c||function(){s();var e=o;o=null;var i=a;a=null;var l=r(i,[t(i,"  attribute vec2 a_position;                                      attribute vec2 a_texCoord;                                                                                                      uniform vec2 u_resolution;                                                                                                      varying vec2 v_texCoord;                                                                                                        void main() {                                                     vec2 clipSpace = (a_position / u_resolution) * 2.0 - 1.0;       gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);                                                                              v_texCoord = a_texCoord;                                      }                                                             "),n(i,"  precision mediump float;                                                                                                        uniform vec4 u_backdrop;                                        uniform int u_subtype;                                          uniform sampler2D u_image;                                      uniform sampler2D u_mask;                                                                                                       varying vec2 v_texCoord;                                                                                                        void main() {                                                     vec4 imageColor = texture2D(u_image, v_texCoord);               vec4 maskColor = texture2D(u_mask, v_texCoord);                 if (u_backdrop.a > 0.0) {                                         maskColor.rgb = maskColor.rgb * maskColor.a +                                   u_backdrop.rgb * (1.0 - maskColor.a);         }                                                               float lum;                                                      if (u_subtype == 0) {                                             lum = maskColor.a;                                            } else {                                                          lum = maskColor.r * 0.3 + maskColor.g * 0.59 +                        maskColor.b * 0.11;                                     }                                                               imageColor.a *= lum;                                            imageColor.rgb *= imageColor.a;                                 gl_FragColor = imageColor;                                    }                                                             ")]);i.useProgram(l);var u={};u.gl=i,u.canvas=e,u.resolutionLocation=i.getUniformLocation(l,"u_resolution"),u.positionLocation=i.getAttribLocation(l,"a_position"),u.backdropLocation=i.getUniformLocation(l,"u_backdrop"),u.subtypeLocation=i.getUniformLocation(l,"u_subtype");var d=i.getAttribLocation(l,"a_texCoord"),h=i.getUniformLocation(l,"u_image"),f=i.getUniformLocation(l,"u_mask"),p=i.createBuffer();i.bindBuffer(i.ARRAY_BUFFER,p),i.bufferData(i.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),i.STATIC_DRAW),i.enableVertexAttribArray(d),i.vertexAttribPointer(d,2,i.FLOAT,!1,0,0),i.uniform1i(h,0),i.uniform1i(f,1),c=u}();var f=c,p=f.canvas,g=f.gl;p.width=d,p.height=h,g.viewport(0,0,g.drawingBufferWidth,g.drawingBufferHeight),g.uniform2f(f.resolutionLocation,d,h),u.backdrop?g.uniform4f(f.resolutionLocation,u.backdrop[0],u.backdrop[1],u.backdrop[2],1):g.uniform4f(f.resolutionLocation,0,0,0,0),g.uniform1i(f.subtypeLocation,"Luminosity"===u.subtype?1:0);var m=i(g,e,g.TEXTURE0),v=i(g,l,g.TEXTURE1),b=g.createBuffer();return g.bindBuffer(g.ARRAY_BUFFER,b),g.bufferData(g.ARRAY_BUFFER,new Float32Array([0,0,d,0,0,h,0,h,d,0,d,h]),g.STATIC_DRAW),g.enableVertexAttribArray(f.positionLocation),g.vertexAttribPointer(f.positionLocation,2,g.FLOAT,!1,0,0),g.clearColor(0,0,0,0),g.enable(g.BLEND),g.blendFunc(g.ONE,g.ONE_MINUS_SRC_ALPHA),g.clear(g.COLOR_BUFFER_BIT),g.drawArrays(g.TRIANGLES,0,6),g.flush(),g.deleteTexture(m),g.deleteTexture(v),g.deleteBuffer(b),p},drawFigures:function(e,i,c,u,d){l||function(){s();var e=o;o=null;var i=a;a=null;var c=r(i,[t(i,"  attribute vec2 a_position;                                      attribute vec3 a_color;                                                                                                         uniform vec2 u_resolution;                                      uniform vec2 u_scale;                                           uniform vec2 u_offset;                                                                                                          varying vec4 v_color;                                                                                                           void main() {                                                     vec2 position = (a_position + u_offset) * u_scale;              vec2 clipSpace = (position / u_resolution) * 2.0 - 1.0;         gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);                                                                              v_color = vec4(a_color / 255.0, 1.0);                         }                                                             "),n(i,"  precision mediump float;                                                                                                        varying vec4 v_color;                                                                                                           void main() {                                                     gl_FragColor = v_color;                                       }                                                             ")]);i.useProgram(c);var u={};u.gl=i,u.canvas=e,u.resolutionLocation=i.getUniformLocation(c,"u_resolution"),u.scaleLocation=i.getUniformLocation(c,"u_scale"),u.offsetLocation=i.getUniformLocation(c,"u_offset"),u.positionLocation=i.getAttribLocation(c,"a_position"),u.colorLocation=i.getAttribLocation(c,"a_color"),l=u}();var h=l,f=h.canvas,p=h.gl;f.width=e,f.height=i,p.viewport(0,0,p.drawingBufferWidth,p.drawingBufferHeight),p.uniform2f(h.resolutionLocation,e,i);for(var g=0,m=0,v=u.length;m<v;m++)switch(u[m].type){case"lattice":g+=((u[m].coords.length/u[m].verticesPerRow|0)-1)*(u[m].verticesPerRow-1)*6;break;case"triangles":g+=u[m].coords.length}for(var b=new Float32Array(2*g),_=new Uint8Array(3*g),y=d.coords,x=d.colors,C=0,P=0,k=0,w=u.length;k<w;k++){var A=u[k],S=A.coords,M=A.colors;switch(A.type){case"lattice":for(var O=A.verticesPerRow,L=S.length/O|0,T=1;T<L;T++)for(var R=T*O+1,I=1;I<O;I++,R++)b[C]=y[S[R-O-1]],b[C+1]=y[S[R-O-1]+1],b[C+2]=y[S[R-O]],b[C+3]=y[S[R-O]+1],b[C+4]=y[S[R-1]],b[C+5]=y[S[R-1]+1],_[P]=x[M[R-O-1]],_[P+1]=x[M[R-O-1]+1],_[P+2]=x[M[R-O-1]+2],_[P+3]=x[M[R-O]],_[P+4]=x[M[R-O]+1],_[P+5]=x[M[R-O]+2],_[P+6]=x[M[R-1]],_[P+7]=x[M[R-1]+1],_[P+8]=x[M[R-1]+2],b[C+6]=b[C+2],b[C+7]=b[C+3],b[C+8]=b[C+4],b[C+9]=b[C+5],b[C+10]=y[S[R]],b[C+11]=y[S[R]+1],_[P+9]=_[P+3],_[P+10]=_[P+4],_[P+11]=_[P+5],_[P+12]=_[P+6],_[P+13]=_[P+7],_[P+14]=_[P+8],_[P+15]=x[M[R]],_[P+16]=x[M[R]+1],_[P+17]=x[M[R]+2],C+=12,P+=18;break;case"triangles":for(var E=0,F=S.length;E<F;E++)b[C]=y[S[E]],b[C+1]=y[S[E]+1],_[P]=x[M[E]],_[P+1]=x[M[E]+1],_[P+2]=x[M[E]+2],C+=2,P+=3}}c?p.clearColor(c[0]/255,c[1]/255,c[2]/255,1):p.clearColor(0,0,0,0),p.clear(p.COLOR_BUFFER_BIT);var N=p.createBuffer();p.bindBuffer(p.ARRAY_BUFFER,N),p.bufferData(p.ARRAY_BUFFER,b,p.STATIC_DRAW),p.enableVertexAttribArray(h.positionLocation),p.vertexAttribPointer(h.positionLocation,2,p.FLOAT,!1,0,0);var D=p.createBuffer();return p.bindBuffer(p.ARRAY_BUFFER,D),p.bufferData(p.ARRAY_BUFFER,_,p.STATIC_DRAW),p.enableVertexAttribArray(h.colorLocation),p.vertexAttribPointer(h.colorLocation,3,p.UNSIGNED_BYTE,!1,0,0),p.uniform2f(h.scaleLocation,d.scaleX,d.scaleY),p.uniform2f(h.offsetLocation,d.offsetX,d.offsetY),p.drawArrays(p.TRIANGLES,0,g),p.flush(),p.deleteBuffer(N),p.deleteBuffer(D),f},cleanup:function(){var e,t;null!==(e=c)&&void 0!==e&&e.canvas&&(c.canvas.width=0,c.canvas.height=0),null!==(t=l)&&void 0!==t&&t.canvas&&(l.canvas.width=0,l.canvas.height=0),c=null,l=null}}}()},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.AnnotationLayer=void 0;var r=n(1),i=n(2),a=n(8),o=n(20),s=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"create",value:function(e){switch(e.data.annotationType){case i.AnnotationType.LINK:return new l(e);case i.AnnotationType.TEXT:return new u(e);case i.AnnotationType.WIDGET:switch(e.data.fieldType){case"Tx":return new h(e);case"Btn":return e.data.radioButton?new p(e):e.data.checkBox?new f(e):new g(e);case"Ch":return new m(e)}return new d(e);case i.AnnotationType.POPUP:return new v(e);case i.AnnotationType.FREETEXT:return new _(e);case i.AnnotationType.LINE:return new y(e);case i.AnnotationType.SQUARE:return new x(e);case i.AnnotationType.CIRCLE:return new C(e);case i.AnnotationType.POLYLINE:return new P(e);case i.AnnotationType.CARET:return new w(e);case i.AnnotationType.INK:return new A(e);case i.AnnotationType.POLYGON:return new k(e);case i.AnnotationType.HIGHLIGHT:return new S(e);case i.AnnotationType.UNDERLINE:return new M(e);case i.AnnotationType.SQUIGGLY:return new O(e);case i.AnnotationType.STRIKEOUT:return new L(e);case i.AnnotationType.STAMP:return new T(e);case i.AnnotationType.FILEATTACHMENT:return new R(e);default:return new c(e)}}}]),e}(),c=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.isRenderable,i=void 0!==r&&r,a=n.ignoreBorder,o=void 0!==a&&a,s=n.createQuadrilaterals,c=void 0!==s&&s;_classCallCheck(this,e),this.isRenderable=i,this.data=t.data,this.layer=t.layer,this.page=t.page,this.viewport=t.viewport,this.linkService=t.linkService,this.downloadManager=t.downloadManager,this.imageResourcesPath=t.imageResourcesPath,this.renderInteractiveForms=t.renderInteractiveForms,this.svgFactory=t.svgFactory,this.annotationStorage=t.annotationStorage,this.enableScripting=t.enableScripting,this.hasJSActions=t.hasJSActions,this._mouseState=t.mouseState,i&&(this.container=this._createContainer(o)),c&&(this.quadrilaterals=this._createQuadrilaterals(o))}return _createClass(e,[{key:"_createContainer",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.data,n=this.page,r=this.viewport,a=document.createElement("section"),o=t.rect[2]-t.rect[0],s=t.rect[3]-t.rect[1];a.setAttribute("data-annotation-id",t.id);var c=i.Util.normalizeRect([t.rect[0],n.view[3]-t.rect[1]+n.view[1],t.rect[2],n.view[3]-t.rect[3]+n.view[1]]);if(a.style.transform="matrix(".concat(r.transform.join(","),")"),a.style.transformOrigin="".concat(-c[0],"px ").concat(-c[1],"px"),!e&&t.borderStyle.width>0){a.style.borderWidth="".concat(t.borderStyle.width,"px"),t.borderStyle.style!==i.AnnotationBorderStyleType.UNDERLINE&&(o-=2*t.borderStyle.width,s-=2*t.borderStyle.width);var l=t.borderStyle.horizontalCornerRadius,u=t.borderStyle.verticalCornerRadius;if(l>0||u>0){var d="".concat(l,"px / ").concat(u,"px");a.style.borderRadius=d}switch(t.borderStyle.style){case i.AnnotationBorderStyleType.SOLID:a.style.borderStyle="solid";break;case i.AnnotationBorderStyleType.DASHED:a.style.borderStyle="dashed";break;case i.AnnotationBorderStyleType.BEVELED:(0,i.warn)("Unimplemented border style: beveled");break;case i.AnnotationBorderStyleType.INSET:(0,i.warn)("Unimplemented border style: inset");break;case i.AnnotationBorderStyleType.UNDERLINE:a.style.borderBottomStyle="solid"}t.color?a.style.borderColor=i.Util.makeHexColor(0|t.color[0],0|t.color[1],0|t.color[2]):a.style.borderWidth=0}return a.style.left="".concat(c[0],"px"),a.style.top="".concat(c[1],"px"),a.style.width="".concat(o,"px"),a.style.height="".concat(s,"px"),a}},{key:"_createQuadrilaterals",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.data.quadPoints)return null;var t,n=[],r=this.data.rect,i=_createForOfIteratorHelper(this.data.quadPoints);try{for(i.s();!(t=i.n()).done;){var a=t.value;this.data.rect=[a[2].x,a[2].y,a[1].x,a[1].y],n.push(this._createContainer(e))}}catch(o){i.e(o)}finally{i.f()}return this.data.rect=r,n}},{key:"_createPopup",value:function(e,t){var n=this.container;this.quadrilaterals&&(e=e||this.quadrilaterals,n=this.quadrilaterals[0]),e||((e=document.createElement("div")).style.height=n.style.height,e.style.width=n.style.width,n.appendChild(e));var r=new b({container:n,trigger:e,color:t.color,title:t.title,modificationDate:t.modificationDate,contents:t.contents,hideWrapper:!0}).render();r.style.left=n.style.width,n.appendChild(r)}},{key:"_renderQuadrilaterals",value:function(e){return this.quadrilaterals.forEach((function(t){t.className=e})),this.quadrilaterals}},{key:"render",value:function(){(0,i.unreachable)("Abstract method `AnnotationElement.render` called")}}]),e}(),l=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e,{isRenderable:!!(e.data.url||e.data.dest||e.data.action||e.data.isTooltipOnly||e.data.actions&&(e.data.actions.Action||e.data.actions["Mouse Up"]||e.data.actions["Mouse Down"])),createQuadrilaterals:!0})}return _createClass(n,[{key:"render",value:function(){var e=this.data,t=this.linkService,n=document.createElement("a");return e.url?(0,r.addLinkAttributes)(n,{url:e.url,target:e.newWindow?r.LinkTarget.BLANK:t.externalLinkTarget,rel:t.externalLinkRel,enabled:t.externalLinkEnabled}):e.action?this._bindNamedAction(n,e.action):e.dest?this._bindLink(n,e.dest):e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions?this._bindJSAction(n,e):this._bindLink(n,""),this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map((function(e,t){var r=0===t?n:n.cloneNode();return e.appendChild(r),e})):(this.container.className="linkAnnotation",this.container.appendChild(n),this.container)}},{key:"_bindLink",value:function(e,t){var n=this;e.href=this.linkService.getDestinationHash(t),e.onclick=function(){return t&&n.linkService.goToDestination(t),!1},(t||""===t)&&(e.className="internalLink")}},{key:"_bindNamedAction",value:function(e,t){var n=this;e.href=this.linkService.getAnchorUrl(""),e.onclick=function(){return n.linkService.executeNamedAction(t),!1},e.className="internalLink"}},{key:"_bindJSAction",value:function(e,t){var n=this;e.href=this.linkService.getAnchorUrl("");for(var r=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]),i=function(){var i=o[a],s=r.get(i);if(!s)return"continue";e[s]=function(){var e;return null===(e=n.linkService.eventBus)||void 0===e||e.dispatch("dispatcheventinsandbox",{source:n,detail:{id:t.id,name:i}}),!1}},a=0,o=Object.keys(t.actions);a<o.length;a++)i();e.className="internalLink"}}]),n}(c),u=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e,{isRenderable:!!(e.data.hasPopup||e.data.title||e.data.contents)})}return _createClass(n,[{key:"render",value:function(){this.container.className="textAnnotation";var e=document.createElement("img");return e.style.height=this.container.style.height,e.style.width=this.container.style.width,e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.alt="[{{type}} Annotation]",e.dataset.l10nId="text_annotation_type",e.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(e,this.data),this.container.appendChild(e),this.container}}]),n}(c),d=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"render",value:function(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}},{key:"_getKeyModifier",value:function(e){return navigator.platform.includes("Win")&&e.ctrlKey||navigator.platform.includes("Mac")&&e.metaKey}},{key:"_setEventListener",value:function(e,t,n,r){var i=this;t.includes("mouse")?e.addEventListener(t,(function(e){var t;null===(t=i.linkService.eventBus)||void 0===t||t.dispatch("dispatcheventinsandbox",{source:i,detail:{id:i.data.id,name:n,value:r(e),shift:e.shiftKey,modifier:i._getKeyModifier(e)}})})):e.addEventListener(t,(function(e){var t;null===(t=i.linkService.eventBus)||void 0===t||t.dispatch("dispatcheventinsandbox",{source:i,detail:{id:i.data.id,name:n,value:e.target.checked}})}))}},{key:"_setEventListeners",value:function(e,t,n){var r,i=_createForOfIteratorHelper(t);try{for(i.s();!(r=i.n()).done;){var a,o=_slicedToArray(r.value,2),s=o[1];("Action"===s||null!==(a=this.data.actions)&&void 0!==a&&a[s])&&this._setEventListener(e,o[0],s,n)}}catch(c){i.e(c)}finally{i.f()}}}]),n}(c),h=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e,{isRenderable:e.renderInteractiveForms||!e.data.hasAppearance&&!!e.data.fieldValue})}return _createClass(n,[{key:"render",value:function(){var e=this,t=this.annotationStorage,n=this.data.id;this.container.className="textWidgetAnnotation";var r=null;if(this.renderInteractiveForms){var i=t.getOrCreateValue(n,{value:this.data.fieldValue}).value,a={userValue:null,formattedValue:null,beforeInputSelectionRange:null,beforeInputValue:null};this.data.multiLine?(r=document.createElement("textarea")).textContent=i:((r=document.createElement("input")).type="text",r.setAttribute("value",i)),a.userValue=i,r.setAttribute("id",n),r.addEventListener("input",(function(e){t.setValue(n,{value:e.target.value})}));var s=function(e){a.formattedValue&&(e.target.value=a.formattedValue),e.target.setSelectionRange(0,0),a.beforeInputSelectionRange=null};if(this.enableScripting&&this.hasJSActions&&(r.addEventListener("focus",(function(e){a.userValue&&(e.target.value=a.userValue)})),r.addEventListener("updatefromsandbox",(function(e){var r=e.detail,i={value:function(){a.userValue=r.value||"",t.setValue(n,{value:a.userValue.toString()}),a.formattedValue||(e.target.value=a.userValue)},valueAsString:function(){a.formattedValue=r.valueAsString||"",e.target!==document.activeElement&&(e.target.value=a.formattedValue),t.setValue(n,{formattedValue:a.formattedValue})},focus:function(){setTimeout((function(){return e.target.focus({preventScroll:!1})}),0)},userName:function(){e.target.title=r.userName},hidden:function(){e.target.style.visibility=r.hidden?"hidden":"visible",t.setValue(n,{hidden:r.hidden})},editable:function(){e.target.disabled=!r.editable},selRange:function(){var t=_slicedToArray(r.selRange,2),n=t[0],i=t[1];n>=0&&i<e.target.value.length&&e.target.setSelectionRange(n,i)},strokeColor:function(){var t=r.strokeColor;e.target.style.color=o.ColorConverters["".concat(t[0],"_HTML")](t.slice(1))}};Object.keys(r).filter((function(e){return e in i})).forEach((function(e){return i[e]()}))})),this.data.actions)){r.addEventListener("keydown",(function(t){var r;a.beforeInputValue=t.target.value;var i=-1;"Escape"===t.key?i=0:"Enter"===t.key?i=2:"Tab"===t.key&&(i=3),-1!==i&&(a.userValue=t.target.value,null===(r=e.linkService.eventBus)||void 0===r||r.dispatch("dispatcheventinsandbox",{source:e,detail:{id:n,name:"Keystroke",value:t.target.value,willCommit:!0,commitKey:i,selStart:t.target.selectionStart,selEnd:t.target.selectionEnd}}))}));var c=s;s=null,r.addEventListener("blur",(function(t){var r;e._mouseState.isDown&&(a.userValue=t.target.value,null===(r=e.linkService.eventBus)||void 0===r||r.dispatch("dispatcheventinsandbox",{source:e,detail:{id:n,name:"Keystroke",value:t.target.value,willCommit:!0,commitKey:1,selStart:t.target.selectionStart,selEnd:t.target.selectionEnd}})),c(t)})),r.addEventListener("mousedown",(function(e){a.beforeInputValue=e.target.value,a.beforeInputSelectionRange=null})),r.addEventListener("keyup",(function(e){e.target.selectionStart===e.target.selectionEnd&&(a.beforeInputSelectionRange=null)})),r.addEventListener("select",(function(e){a.beforeInputSelectionRange=[e.target.selectionStart,e.target.selectionEnd]})),"Keystroke"in this.data.actions&&r.addEventListener("input",(function(t){var r,i=-1,o=-1;if(a.beforeInputSelectionRange){var s=_slicedToArray(a.beforeInputSelectionRange,2);i=s[0],o=s[1]}null===(r=e.linkService.eventBus)||void 0===r||r.dispatch("dispatcheventinsandbox",{source:e,detail:{id:n,name:"Keystroke",value:a.beforeInputValue,change:t.data,willCommit:!1,selStart:i,selEnd:o}})})),this._setEventListeners(r,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],(function(e){return e.target.value}))}if(s&&r.addEventListener("blur",s),r.disabled=this.data.readOnly,r.name=this.data.fieldName,null!==this.data.maxLen&&(r.maxLength=this.data.maxLen),this.data.comb){var l=(this.data.rect[2]-this.data.rect[0])/this.data.maxLen;r.classList.add("comb"),r.style.letterSpacing="calc(".concat(l,"px - 1ch)")}}else(r=document.createElement("div")).textContent=this.data.fieldValue,r.style.verticalAlign="middle",r.style.display="table-cell";return this._setTextStyle(r),this.container.appendChild(r),this.container}},{key:"_setTextStyle",value:function(e){var t=this.data.defaultAppearanceData,n=t.fontSize,r=t.fontColor,a=e.style;n&&(a.fontSize="".concat(n,"px")),a.color=i.Util.makeHexColor(r[0],r[1],r[2]),null!==this.data.textAlignment&&(a.textAlign=["left","center","right"][this.data.textAlignment])}}]),n}(d),f=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e,{isRenderable:e.renderInteractiveForms})}return _createClass(n,[{key:"render",value:function(){var e=this.annotationStorage,t=this.data,n=t.id,r=e.getOrCreateValue(n,{value:t.fieldValue&&"Off"!==t.fieldValue}).value;this.container.className="buttonWidgetAnnotation checkBox";var i=document.createElement("input");return i.disabled=t.readOnly,i.type="checkbox",i.name=this.data.fieldName,r&&i.setAttribute("checked",!0),i.setAttribute("id",n),i.addEventListener("change",(function(t){var r,i=_createForOfIteratorHelper(document.getElementsByName(t.target.name));try{for(i.s();!(r=i.n()).done;){var a=r.value;a!==t.target&&(a.checked=!1,e.setValue(a.parentNode.getAttribute("data-annotation-id"),{value:!1}))}}catch(o){i.e(o)}finally{i.f()}e.setValue(n,{value:t.target.checked})})),this.enableScripting&&this.hasJSActions&&(i.addEventListener("updatefromsandbox",(function(t){var r=t.detail,i={value:function(){t.target.checked="Off"!==r.value,e.setValue(n,{value:t.target.checked})},focus:function(){setTimeout((function(){return t.target.focus({preventScroll:!1})}),0)},hidden:function(){t.target.style.visibility=r.hidden?"hidden":"visible",e.setValue(n,{hidden:r.hidden})},editable:function(){t.target.disabled=!r.editable}};Object.keys(r).filter((function(e){return e in i})).forEach((function(e){return i[e]()}))})),this._setEventListeners(i,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],(function(e){return e.target.checked}))),this.container.appendChild(i),this.container}}]),n}(d),p=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e,{isRenderable:e.renderInteractiveForms})}return _createClass(n,[{key:"render",value:function(){this.container.className="buttonWidgetAnnotation radioButton";var e=this.annotationStorage,t=this.data,n=t.id,r=e.getOrCreateValue(n,{value:t.fieldValue===t.buttonValue}).value,i=document.createElement("input");return i.disabled=t.readOnly,i.type="radio",i.name=t.fieldName,r&&i.setAttribute("checked",!0),i.setAttribute("pdfButtonValue",t.buttonValue),i.setAttribute("id",n),i.addEventListener("change",(function(t){var r,i=t.target,a=_createForOfIteratorHelper(document.getElementsByName(i.name));try{for(a.s();!(r=a.n()).done;){var o=r.value;o!==i&&e.setValue(o.getAttribute("id"),{value:!1})}}catch(s){a.e(s)}finally{a.f()}e.setValue(n,{value:i.checked})})),this.enableScripting&&this.hasJSActions&&(i.addEventListener("updatefromsandbox",(function(t){var r=t.detail,i={value:function(){var n,i=r.value,a=_createForOfIteratorHelper(document.getElementsByName(t.target.name));try{for(a.s();!(n=a.n()).done;){var o=n.value,s=o.getAttribute("id");i===o.getAttribute("pdfButtonValue")?(o.setAttribute("checked",!0),e.setValue(s,{value:!0})):e.setValue(s,{value:!1})}}catch(c){a.e(c)}finally{a.f()}},focus:function(){setTimeout((function(){return t.target.focus({preventScroll:!1})}),0)},hidden:function(){t.target.style.visibility=r.hidden?"hidden":"visible",e.setValue(n,{hidden:r.hidden})},editable:function(){t.target.disabled=!r.editable}};Object.keys(r).filter((function(e){return e in i})).forEach((function(e){return i[e]()}))})),this._setEventListeners(i,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],(function(e){return e.target.checked}))),this.container.appendChild(i),this.container}}]),n}(d),g=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"render",value:function(){var e=_get(_getPrototypeOf(n.prototype),"render",this).call(this);return e.className="buttonWidgetAnnotation pushButton",this.data.alternativeText&&(e.title=this.data.alternativeText),e}}]),n}(l),m=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e,{isRenderable:e.renderInteractiveForms})}return _createClass(n,[{key:"render",value:function(){var e=this;this.container.className="choiceWidgetAnnotation";var t=this.annotationStorage,n=this.data.id;t.getOrCreateValue(n,{value:this.data.fieldValue.length>0?this.data.fieldValue[0]:void 0});var r=document.createElement("select");r.disabled=this.data.readOnly,r.name=this.data.fieldName,r.setAttribute("id",n),this.data.combo||(r.size=this.data.options.length,this.data.multiSelect&&(r.multiple=!0));var i,a=_createForOfIteratorHelper(this.data.options);try{for(a.s();!(i=a.n()).done;){var o=i.value,s=document.createElement("option");s.textContent=o.displayValue,s.value=o.exportValue,this.data.fieldValue.includes(o.exportValue)&&s.setAttribute("selected",!0),r.appendChild(s)}}catch(l){a.e(l)}finally{a.f()}function c(e){var t=e.target.options;return t[t.selectedIndex].value}return this.enableScripting&&this.hasJSActions?(r.addEventListener("updatefromsandbox",(function(e){var r=e.detail,i={value:function(){var i=e.target.options,a=r.value,o=i.indexOf(a);-1!==o&&(i.selectedIndex=o,t.setValue(n,{value:a}))},focus:function(){setTimeout((function(){return e.target.focus({preventScroll:!1})}),0)},hidden:function(){e.target.style.visibility=r.hidden?"hidden":"visible",t.setValue(n,{hidden:r.hidden})},editable:function(){e.target.disabled=!r.editable}};Object.keys(r).filter((function(e){return e in i})).forEach((function(e){return i[e]()}))})),r.addEventListener("input",(function(r){var i,a=c(r);t.setValue(n,{value:a}),null===(i=e.linkService.eventBus)||void 0===i||i.dispatch("dispatcheventinsandbox",{source:e,detail:{id:n,name:"Keystroke",changeEx:a,willCommit:!0,commitKey:1,keyDown:!1}})})),this._setEventListeners(r,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],(function(e){return e.target.checked}))):r.addEventListener("input",(function(e){t.setValue(n,{value:c(e)})})),this.container.appendChild(r),this.container}}]),n}(d),v=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e,{isRenderable:!(!e.data.title&&!e.data.contents)})}return _createClass(n,[{key:"render",value:function(){if(this.container.className="popupAnnotation",["Line","Square","Circle","PolyLine","Polygon","Ink"].includes(this.data.parentType))return this.container;var e='[data-annotation-id="'.concat(this.data.parentId,'"]'),t=this.layer.querySelectorAll(e);if(0===t.length)return this.container;var n=new b({container:this.container,trigger:Array.from(t),color:this.data.color,title:this.data.title,modificationDate:this.data.modificationDate,contents:this.data.contents}),r=this.page,a=i.Util.normalizeRect([this.data.parentRect[0],r.view[3]-this.data.parentRect[1]+r.view[1],this.data.parentRect[2],r.view[3]-this.data.parentRect[3]+r.view[1]]),o=a[0]+this.data.parentRect[2]-this.data.parentRect[0],s=a[1];return this.container.style.transformOrigin="".concat(-o,"px ").concat(-s,"px"),this.container.style.left="".concat(o,"px"),this.container.style.top="".concat(s,"px"),this.container.appendChild(n.render()),this.container}}]),n}(c),b=function(){function e(t){_classCallCheck(this,e),this.container=t.container,this.trigger=t.trigger,this.color=t.color,this.title=t.title,this.modificationDate=t.modificationDate,this.contents=t.contents,this.hideWrapper=t.hideWrapper||!1,this.pinned=!1}return _createClass(e,[{key:"render",value:function(){var e=this,t=document.createElement("div");t.className="popupWrapper",this.hideElement=this.hideWrapper?t:this.container,this.hideElement.setAttribute("hidden",!0);var n=document.createElement("div");n.className="popup";var a=this.color;a&&(n.style.backgroundColor=i.Util.makeHexColor(0|.7*(255-a[0])+a[0],0|.7*(255-a[1])+a[1],0|.7*(255-a[2])+a[2]));var o=document.createElement("h1");o.textContent=this.title,n.appendChild(o);var s=r.PDFDateString.toDateObject(this.modificationDate);if(s){var c=document.createElement("span");c.textContent="{{date}}, {{time}}",c.dataset.l10nId="annotation_date_string",c.dataset.l10nArgs=JSON.stringify({date:s.toLocaleDateString(),time:s.toLocaleTimeString()}),n.appendChild(c)}var l=this._formatContents(this.contents);return n.appendChild(l),Array.isArray(this.trigger)||(this.trigger=[this.trigger]),this.trigger.forEach((function(t){t.addEventListener("click",e._toggle.bind(e)),t.addEventListener("mouseover",e._show.bind(e,!1)),t.addEventListener("mouseout",e._hide.bind(e,!1))})),n.addEventListener("click",this._hide.bind(this,!0)),t.appendChild(n),t}},{key:"_formatContents",value:function(e){for(var t=document.createElement("p"),n=e.split(/(?:\r\n?|\n)/),r=0,i=n.length;r<i;++r)t.appendChild(document.createTextNode(n[r])),r<i-1&&t.appendChild(document.createElement("br"));return t}},{key:"_toggle",value:function(){this.pinned?this._hide(!0):this._show(!0)}},{key:"_show",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e&&(this.pinned=!0),this.hideElement.hasAttribute("hidden")&&(this.hideElement.removeAttribute("hidden"),this.container.style.zIndex+=1)}},{key:"_hide",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];e&&(this.pinned=!1),this.hideElement.hasAttribute("hidden")||this.pinned||(this.hideElement.setAttribute("hidden",!0),this.container.style.zIndex-=1)}}]),e}(),_=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e,{isRenderable:!!(e.data.hasPopup||e.data.title||e.data.contents),ignoreBorder:!0})}return _createClass(n,[{key:"render",value:function(){return this.container.className="freeTextAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}]),n}(c),y=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e,{isRenderable:!!(e.data.hasPopup||e.data.title||e.data.contents),ignoreBorder:!0})}return _createClass(n,[{key:"render",value:function(){this.container.className="lineAnnotation";var e=this.data,t=this.svgFactory.create(e.rect[2]-e.rect[0],e.rect[3]-e.rect[1]),n=this.svgFactory.createElement("svg:line");return n.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),n.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),n.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),n.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),n.setAttribute("stroke-width",e.borderStyle.width||1),n.setAttribute("stroke","transparent"),t.appendChild(n),this.container.append(t),this._createPopup(n,e),this.container}}]),n}(c),x=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e,{isRenderable:!!(e.data.hasPopup||e.data.title||e.data.contents),ignoreBorder:!0})}return _createClass(n,[{key:"render",value:function(){this.container.className="squareAnnotation";var e=this.data,t=e.rect[2]-e.rect[0],n=e.rect[3]-e.rect[1],r=this.svgFactory.create(t,n),i=e.borderStyle.width,a=this.svgFactory.createElement("svg:rect");return a.setAttribute("x",i/2),a.setAttribute("y",i/2),a.setAttribute("width",t-i),a.setAttribute("height",n-i),a.setAttribute("stroke-width",i||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","none"),r.appendChild(a),this.container.append(r),this._createPopup(a,e),this.container}}]),n}(c),C=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e,{isRenderable:!!(e.data.hasPopup||e.data.title||e.data.contents),ignoreBorder:!0})}return _createClass(n,[{key:"render",value:function(){this.container.className="circleAnnotation";var e=this.data,t=e.rect[2]-e.rect[0],n=e.rect[3]-e.rect[1],r=this.svgFactory.create(t,n),i=e.borderStyle.width,a=this.svgFactory.createElement("svg:ellipse");return a.setAttribute("cx",t/2),a.setAttribute("cy",n/2),a.setAttribute("rx",t/2-i/2),a.setAttribute("ry",n/2-i/2),a.setAttribute("stroke-width",i||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","none"),r.appendChild(a),this.container.append(r),this._createPopup(a,e),this.container}}]),n}(c),P=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this,e,{isRenderable:!!(e.data.hasPopup||e.data.title||e.data.contents),ignoreBorder:!0})).containerClassName="polylineAnnotation",r.svgElementName="svg:polyline",r}return _createClass(n,[{key:"render",value:function(){this.container.className=this.containerClassName;var e,t=this.data,n=this.svgFactory.create(t.rect[2]-t.rect[0],t.rect[3]-t.rect[1]),r=[],i=_createForOfIteratorHelper(t.vertices);try{for(i.s();!(e=i.n()).done;){var a=e.value;r.push(a.x-t.rect[0]+","+(t.rect[3]-a.y))}}catch(s){i.e(s)}finally{i.f()}r=r.join(" ");var o=this.svgFactory.createElement(this.svgElementName);return o.setAttribute("points",r),o.setAttribute("stroke-width",t.borderStyle.width||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","none"),n.appendChild(o),this.container.append(n),this._createPopup(o,t),this.container}}]),n}(c),k=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this,e)).containerClassName="polygonAnnotation",r.svgElementName="svg:polygon",r}return n}(P),w=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e,{isRenderable:!!(e.data.hasPopup||e.data.title||e.data.contents),ignoreBorder:!0})}return _createClass(n,[{key:"render",value:function(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}]),n}(c),A=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this,e,{isRenderable:!!(e.data.hasPopup||e.data.title||e.data.contents),ignoreBorder:!0})).containerClassName="inkAnnotation",r.svgElementName="svg:polyline",r}return _createClass(n,[{key:"render",value:function(){this.container.className=this.containerClassName;var e,t=this.data,n=this.svgFactory.create(t.rect[2]-t.rect[0],t.rect[3]-t.rect[1]),r=_createForOfIteratorHelper(t.inkLists);try{for(r.s();!(e=r.n()).done;){var i,a=[],o=_createForOfIteratorHelper(e.value);try{for(o.s();!(i=o.n()).done;){var s=i.value,c=t.rect[3]-s.y;a.push("".concat(s.x-t.rect[0],",").concat(c))}}catch(u){o.e(u)}finally{o.f()}a=a.join(" ");var l=this.svgFactory.createElement(this.svgElementName);l.setAttribute("points",a),l.setAttribute("stroke-width",t.borderStyle.width||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","none"),this._createPopup(l,t),n.appendChild(l)}}catch(u){r.e(u)}finally{r.f()}return this.container.append(n),this.container}}]),n}(c),S=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e,{isRenderable:!!(e.data.hasPopup||e.data.title||e.data.contents),ignoreBorder:!0,createQuadrilaterals:!0})}return _createClass(n,[{key:"render",value:function(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.className="highlightAnnotation",this.container)}}]),n}(c),M=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e,{isRenderable:!!(e.data.hasPopup||e.data.title||e.data.contents),ignoreBorder:!0,createQuadrilaterals:!0})}return _createClass(n,[{key:"render",value:function(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.className="underlineAnnotation",this.container)}}]),n}(c),O=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e,{isRenderable:!!(e.data.hasPopup||e.data.title||e.data.contents),ignoreBorder:!0,createQuadrilaterals:!0})}return _createClass(n,[{key:"render",value:function(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.className="squigglyAnnotation",this.container)}}]),n}(c),L=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e,{isRenderable:!!(e.data.hasPopup||e.data.title||e.data.contents),ignoreBorder:!0,createQuadrilaterals:!0})}return _createClass(n,[{key:"render",value:function(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.className="strikeoutAnnotation",this.container)}}]),n}(c),T=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e,{isRenderable:!!(e.data.hasPopup||e.data.title||e.data.contents),ignoreBorder:!0})}return _createClass(n,[{key:"render",value:function(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}]),n}(c),R=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var a,o;_classCallCheck(this,n);var s=(o=t.call(this,e,{isRenderable:!0})).data.file,c=s.filename,l=s.content;return o.filename=(0,r.getFilenameFromUrl)(c),o.content=l,null===(a=o.linkService.eventBus)||void 0===a||a.dispatch("fileattachmentannotation",{source:_assertThisInitialized(o),id:(0,i.stringToPDFString)(c),filename:c,content:l}),o}return _createClass(n,[{key:"render",value:function(){this.container.className="fileAttachmentAnnotation";var e=document.createElement("div");return e.style.height=this.container.style.height,e.style.width=this.container.style.width,e.addEventListener("dblclick",this._download.bind(this)),this.data.hasPopup||!this.data.title&&!this.data.contents||this._createPopup(e,this.data),this.container.appendChild(e),this.container}},{key:"_download",value:function(){this.downloadManager?this.downloadManager.downloadData(this.content,this.filename,""):(0,i.warn)("Download cannot be started due to unavailable download manager")}}]),n}(c);t.AnnotationLayer=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"render",value:function(e){var t,n=[],o=[],c=_createForOfIteratorHelper(e.annotations);try{for(c.s();!(t=c.n()).done;){var l=t.value;l&&(l.annotationType!==i.AnnotationType.POPUP?n.push(l):o.push(l))}}catch(b){c.e(b)}finally{c.f()}o.length&&n.push.apply(n,o);for(var u=0,d=n;u<d.length;u++){var h=d[u],f=s.create({data:h,layer:e.div,page:e.page,viewport:e.viewport,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderInteractiveForms:"boolean"!=typeof e.renderInteractiveForms||e.renderInteractiveForms,svgFactory:new r.DOMSVGFactory,annotationStorage:e.annotationStorage||new a.AnnotationStorage,enableScripting:e.enableScripting,hasJSActions:e.hasJSActions,mouseState:e.mouseState||{isDown:!1}});if(f.isRenderable){var p=f.render();if(h.hidden&&(p.style.visibility="hidden"),Array.isArray(p)){var g,m=_createForOfIteratorHelper(p);try{for(m.s();!(g=m.n()).done;)e.div.appendChild(g.value)}catch(b){m.e(b)}finally{m.f()}}else f instanceof v?e.div.prepend(p):e.div.appendChild(p)}}}},{key:"update",value:function(e){var t,n="matrix(".concat(e.viewport.transform.join(","),")"),r=_createForOfIteratorHelper(e.annotations);try{for(r.s();!(t=r.n()).done;){var i=e.div.querySelectorAll('[data-annotation-id="'.concat(t.value.id,'"]'));i&&i.forEach((function(e){e.style.transform=n}))}}catch(a){r.e(a)}finally{r.f()}e.div.removeAttribute("hidden")}}]),e}()},function(e,t){function n(e){return Math.floor(255*Math.max(0,Math.min(1,e))).toString(16).padStart(2,"0")}Object.defineProperty(t,"__esModule",{value:!0}),t.ColorConverters=void 0,t.ColorConverters=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"CMYK_G",value:function(e){var t=_slicedToArray(e,4);return["G",1-Math.min(1,.3*t[0]+.59*t[2]+.11*t[1]+t[3])]}},{key:"G_CMYK",value:function(e){return["CMYK",0,0,0,1-_slicedToArray(e,1)[0]]}},{key:"G_RGB",value:function(e){var t=_slicedToArray(e,1)[0];return["RGB",t,t,t]}},{key:"G_HTML",value:function(e){var t=n(_slicedToArray(e,1)[0]);return"#".concat(t).concat(t).concat(t)}},{key:"RGB_G",value:function(e){var t=_slicedToArray(e,3);return["G",.3*t[0]+.59*t[1]+.11*t[2]]}},{key:"RGB_HTML",value:function(e){var t=_slicedToArray(e,3),r=t[1],i=t[2],a=n(t[0]),o=n(r),s=n(i);return"#".concat(a).concat(o).concat(s)}},{key:"T_HTML",value:function(){return"#00000000"}},{key:"CMYK_RGB",value:function(e){var t=_slicedToArray(e,4),n=t[1],r=t[2],i=t[3];return["RGB",1-Math.min(1,t[0]+i),1-Math.min(1,r+i),1-Math.min(1,n+i)]}},{key:"CMYK_HTML",value:function(e){return this.RGB_HTML(this.CMYK_RGB(e))}},{key:"RGB_CMYK",value:function(e){var t=_slicedToArray(e,3),n=1-t[0],r=1-t[1],i=1-t[2];return["CMYK",n,r,i,Math.min(n,r,i)]}}]),e}()},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.renderTextLayer=void 0;var r=n(2),i=function(){var e=/\S/;function t(t,n,i){var a=document.createElement("span"),o={angle:0,canvasWidth:0,isWhitespace:!1,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1};if(t._textDivs.push(a),!e.test(n.str))return o.isWhitespace=!0,void t._textDivProperties.set(a,o);var s=r.Util.transform(t._viewport.transform,n.transform),c=Math.atan2(s[1],s[0]),l=i[n.fontName];l.vertical&&(c+=Math.PI/2);var u,d,h=Math.sqrt(s[2]*s[2]+s[3]*s[3]),f=h;l.ascent?f*=l.ascent:l.descent&&(f*=1+l.descent),0===c?(u=s[4],d=s[5]-f):(u=s[4]+f*Math.sin(c),d=s[5]-f*Math.cos(c)),a.style.left="".concat(u,"px"),a.style.top="".concat(d,"px"),a.style.fontSize="".concat(h,"px"),a.style.fontFamily=l.fontFamily,a.textContent=n.str,t._fontInspectorEnabled&&(a.dataset.fontName=n.fontName),0!==c&&(o.angle=c*(180/Math.PI));var p=!1;if(n.str.length>1)p=!0;else if(n.transform[0]!==n.transform[3]){var g=Math.abs(n.transform[0]),m=Math.abs(n.transform[3]);g!==m&&Math.max(g,m)/Math.min(g,m)>1.5&&(p=!0)}if(p&&(o.canvasWidth=l.vertical?n.height*t._viewport.scale:n.width*t._viewport.scale),t._textDivProperties.set(a,o),t._textContentStream&&t._layoutText(a),t._enhanceTextSelection){var v=1,b=0;0!==c&&(v=Math.cos(c),b=Math.sin(c));var _,y,x=(l.vertical?n.height:n.width)*t._viewport.scale,C=h;y=0!==c?r.Util.getAxialAlignedBoundingBox([0,0,x,C],_=[v,b,-b,v,u,d]):[u,d,u+x,d+C],t._bounds.push({left:y[0],top:y[1],right:y[2],bottom:y[3],div:a,size:[x,C],m:_})}}function n(e){if(!e._canceled){var t=e._textDivs,n=e._capability,r=t.length;if(r>1e5)return e._renderingDone=!0,void n.resolve();if(!e._textContentStream)for(var i=0;i<r;i++)e._layoutText(t[i]);e._renderingDone=!0,n.resolve()}}function i(e,t,n){for(var r=0,i=0;i<n;i++){var a=e[t++];a>0&&(r=r?Math.min(a,r):a)}return r}function a(e,t){t.sort((function(e,t){return e.x1-t.x1||e.index-t.index}));var n=[{start:-1/0,end:1/0,boundary:{x1:-1/0,y1:-1/0,x2:0,y2:1/0,index:-1,x1New:0,x2New:0}}];t.forEach((function(e){for(var t=0;t<n.length&&n[t].end<=e.y1;)t++;for(var r,i,a=n.length-1;a>=0&&n[a].start>=e.y2;)a--;var o,s,c=-1/0;for(o=t;o<=a;o++){var l;(l=(i=(r=n[o]).boundary).x2>e.x1?i.index>e.index?i.x1New:e.x1:void 0===i.x2New?(i.x2+e.x1)/2:i.x2New)>c&&(c=l)}for(e.x1New=c,o=t;o<=a;o++)void 0===(i=(r=n[o]).boundary).x2New?i.x2>e.x1?i.index>e.index&&(i.x2New=i.x2):i.x2New=c:i.x2New>c&&(i.x2New=Math.max(c,i.x2));var u=[],d=null;for(o=t;o<=a;o++){var h=(i=(r=n[o]).boundary).x2>e.x2?i:e;d===h?u[u.length-1].end=r.end:(u.push({start:r.start,end:r.end,boundary:h}),d=h)}for(n[t].start<e.y1&&(u[0].start=e.y1,u.unshift({start:n[t].start,end:e.y1,boundary:n[t].boundary})),e.y2<n[a].end&&(u[u.length-1].end=e.y2,u.push({start:e.y2,end:n[a].end,boundary:n[a].boundary})),o=t;o<=a;o++)if(void 0===(i=(r=n[o]).boundary).x2New){var f=!1;for(s=t-1;!f&&s>=0&&n[s].start>=i.y1;s--)f=n[s].boundary===i;for(s=a+1;!f&&s<n.length&&n[s].end<=i.y2;s++)f=n[s].boundary===i;for(s=0;!f&&s<u.length;s++)f=u[s].boundary===i;f||(i.x2New=c)}Array.prototype.splice.apply(n,[t,a-t+1].concat(u))})),n.forEach((function(t){var n=t.boundary;void 0===n.x2New&&(n.x2New=Math.max(e,n.x2))}))}function o(e){var t,n=this,i=e.textContentStream,a=e.container,o=e.viewport,s=e.textDivs,c=e.textContentItemsStr,l=e.enhanceTextSelection;this._textContent=e.textContent,this._textContentStream=i,this._container=a,this._document=a.ownerDocument,this._viewport=o,this._textDivs=s||[],this._textContentItemsStr=c||[],this._enhanceTextSelection=!!l,this._fontInspectorEnabled=!(null===(t=globalThis.FontInspector)||void 0===t||!t.enabled),this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,r.createPromiseCapability)(),this._renderTimer=null,this._bounds=[],this._capability.promise.finally((function(){n._layoutTextCtx&&(n._layoutTextCtx.canvas.width=0,n._layoutTextCtx.canvas.height=0,n._layoutTextCtx=null)})).catch((function(){}))}return o.prototype={get promise(){return this._capability.promise},cancel:function(){this._canceled=!0,this._reader&&(this._reader.cancel(new r.AbortException("TextLayer task cancelled.")),this._reader=null),null!==this._renderTimer&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject(new Error("TextLayer task cancelled."))},_processItems:function(e,n){for(var r=0,i=e.length;r<i;r++)this._textContentItemsStr.push(e[r].str),t(this,e[r],n)},_layoutText:function(e){var t=this._textDivProperties.get(e);if(!t.isWhitespace){var n="";if(0!==t.canvasWidth){var r=e.style,i=r.fontSize,a=r.fontFamily;i===this._layoutTextLastFontSize&&a===this._layoutTextLastFontFamily||(this._layoutTextCtx.font="".concat(i," ").concat(a),this._layoutTextLastFontSize=i,this._layoutTextLastFontFamily=a);var o=this._layoutTextCtx.measureText(e.textContent).width;o>0&&(t.scale=t.canvasWidth/o,n="scaleX(".concat(t.scale,")"))}0!==t.angle&&(n="rotate(".concat(t.angle,"deg) ").concat(n)),n.length>0&&(this._enhanceTextSelection&&(t.originalTransform=n),e.style.transform=n),this._textDivProperties.set(e,t),this._container.appendChild(e)}},_render:function(e){var t=this,i=(0,r.createPromiseCapability)(),a=Object.create(null),o=this._document.createElement("canvas");if(o.mozOpaque=!0,this._layoutTextCtx=o.getContext("2d",{alpha:!1}),this._textContent)this._processItems(this._textContent.items,this._textContent.styles),i.resolve();else{if(!this._textContentStream)throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');this._reader=this._textContentStream.getReader(),function e(){t._reader.read().then((function(n){var r=n.value;n.done?i.resolve():(Object.assign(a,r.styles),t._processItems(r.items,a),e())}),i.reject)}()}i.promise.then((function(){a=null,e?t._renderTimer=setTimeout((function(){n(t),t._renderTimer=null}),e):n(t)}),this._capability.reject)},expandTextDivs:function(e){if(this._enhanceTextSelection&&this._renderingDone){null!==this._bounds&&(function(e){for(var t=e._bounds,n=e._viewport,o=function(e,t,n){var r=n.map((function(e,t){return{x1:e.left,y1:e.top,x2:e.right,y2:e.bottom,index:t,x1New:void 0,x2New:void 0}}));a(e,r);var i=new Array(n.length);return r.forEach((function(e){i[e.index]={left:e.x1New,top:0,right:e.x2New,bottom:0}})),n.map((function(t,n){var a=i[n],o=r[n];o.x1=t.top,o.y1=e-a.right,o.x2=t.bottom,o.y2=e-a.left,o.index=n,o.x1New=void 0,o.x2New=void 0})),a(t,r),r.forEach((function(e){var t=e.index;i[t].top=e.x1New,i[t].bottom=e.x2New})),i}(n.width,n.height,t),s=function(n){var a=t[n].div,s=e._textDivProperties.get(a);if(0===s.angle)return s.paddingLeft=t[n].left-o[n].left,s.paddingTop=t[n].top-o[n].top,s.paddingRight=o[n].right-t[n].right,s.paddingBottom=o[n].bottom-t[n].bottom,e._textDivProperties.set(a,s),"continue";var c=o[n],l=t[n],u=l.m,d=u[0],h=u[1],f=[[0,0],[0,l.size[1]],[l.size[0],0],l.size],p=new Float64Array(64);f.forEach((function(e,t){var n=r.Util.applyTransform(e,u);p[t+0]=d&&(c.left-n[0])/d,p[t+4]=h&&(c.top-n[1])/h,p[t+8]=d&&(c.right-n[0])/d,p[t+12]=h&&(c.bottom-n[1])/h,p[t+16]=h&&(c.left-n[0])/-h,p[t+20]=d&&(c.top-n[1])/d,p[t+24]=h&&(c.right-n[0])/-h,p[t+28]=d&&(c.bottom-n[1])/d,p[t+32]=d&&(c.left-n[0])/-d,p[t+36]=h&&(c.top-n[1])/-h,p[t+40]=d&&(c.right-n[0])/-d,p[t+44]=h&&(c.bottom-n[1])/-h,p[t+48]=h&&(c.left-n[0])/h,p[t+52]=d&&(c.top-n[1])/-d,p[t+56]=h&&(c.right-n[0])/h,p[t+60]=d&&(c.bottom-n[1])/-d}));var g=1+Math.min(Math.abs(d),Math.abs(h));s.paddingLeft=i(p,32,16)/g,s.paddingTop=i(p,48,16)/g,s.paddingRight=i(p,0,16)/g,s.paddingBottom=i(p,16,16)/g,e._textDivProperties.set(a,s)},c=0;c<o.length;c++)s(c)}(this),this._bounds=null);for(var t=[],n=[],o=0,s=this._textDivs.length;o<s;o++){var c=this._textDivs[o],l=this._textDivProperties.get(c);l.isWhitespace||(e?(t.length=0,n.length=0,l.originalTransform&&t.push(l.originalTransform),l.paddingTop>0?(n.push("".concat(l.paddingTop,"px")),t.push("translateY(".concat(-l.paddingTop,"px)"))):n.push(0),n.push(l.paddingRight>0?"".concat(l.paddingRight/l.scale,"px"):0),n.push(l.paddingBottom>0?"".concat(l.paddingBottom,"px"):0),l.paddingLeft>0?(n.push("".concat(l.paddingLeft/l.scale,"px")),t.push("translateX(".concat(-l.paddingLeft/l.scale,"px)"))):n.push(0),c.style.padding=n.join(" "),t.length&&(c.style.transform=t.join(" "))):(c.style.padding=null,c.style.transform=l.originalTransform))}}}},function(e){var t=new o({textContent:e.textContent,textContentStream:e.textContentStream,container:e.container,viewport:e.viewport,textDivs:e.textDivs,textContentItemsStr:e.textContentItemsStr,enhanceTextSelection:e.enhanceTextSelection});return t._render(e.timeout),t}}();t.renderTextLayer=i},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.SVGGraphics=void 0;var r=n(2),i=n(1),a=n(4),o=function(){throw new Error("Not implemented: SVGGraphics")};t.SVGGraphics=o;var s=function(e){if(Number.isInteger(e))return e.toString();var t=e.toFixed(10),n=t.length-1;if("0"!==t[n])return t;do{n--}while("0"===t[n]);return t.substring(0,"."===t[n]?n:n+1)},c=function(e){if(0===e[4]&&0===e[5]){if(0===e[1]&&0===e[2])return 1===e[0]&&1===e[3]?"":"scale(".concat(s(e[0])," ").concat(s(e[3]),")");if(e[0]===e[3]&&e[1]===-e[2]){var t=180*Math.acos(e[0])/Math.PI;return"rotate(".concat(s(t),")")}}else if(1===e[0]&&0===e[1]&&0===e[2]&&1===e[3])return"translate(".concat(s(e[4])," ").concat(s(e[5]),")");return"matrix(".concat(s(e[0])," ").concat(s(e[1])," ").concat(s(e[2])," ").concat(s(e[3])," ").concat(s(e[4])," ")+"".concat(s(e[5]),")")},l=["butt","round","square"],u=["miter","round","bevel"],d=function(){for(var e=new Uint8Array([137,80,78,71,13,10,26,10]),t=new Int32Array(256),n=0;n<256;n++){for(var i=n,o=0;o<8;o++)i=1&i?3988292384^i>>1&2147483647:i>>1&2147483647;t[n]=i}function s(e,n,r,i){var a=i,o=n.length;r[a]=o>>24&255,r[a+1]=o>>16&255,r[a+2]=o>>8&255,r[a+3]=255&o,r[a+=4]=255&e.charCodeAt(0),r[a+1]=255&e.charCodeAt(1),r[a+2]=255&e.charCodeAt(2),r[a+3]=255&e.charCodeAt(3),r.set(n,a+=4);var s=function(e,n,r){for(var i=-1,a=n;a<r;a++)i=i>>>8^t[255&(i^e[a])];return-1^i}(r,i+4,a+=n.length);r[a]=s>>24&255,r[a+1]=s>>16&255,r[a+2]=s>>8&255,r[a+3]=255&s}function c(e){var t=e.length,n=Math.ceil(t/65535),r=new Uint8Array(2+t+5*n+4),i=0;r[i++]=120,r[i++]=156;for(var a=0;t>65535;)r[i++]=0,r[i++]=255,r[i++]=255,r[i++]=0,r[i++]=0,r.set(e.subarray(a,a+65535),i),i+=65535,a+=65535,t-=65535;r[i++]=1,r[i++]=255&t,r[i++]=t>>8&255,r[i++]=255&~t,r[i++]=(65535&~t)>>8&255,r.set(e.subarray(a),i),i+=e.length-a;var o=function(e,t,n){for(var r=1,i=0,a=0;a<n;++a)i=(i+(r=(r+(255&e[a]))%65521))%65521;return i<<16|r}(e,0,e.length);return r[i++]=o>>24&255,r[i++]=o>>16&255,r[i++]=o>>8&255,r[i++]=255&o,r}return function(t,n,i){return function(t,n,i,o){var l,u,d,h=t.width,f=t.height,p=t.data;switch(n){case r.ImageKind.GRAYSCALE_1BPP:u=0,l=1,d=h+7>>3;break;case r.ImageKind.RGB_24BPP:u=2,l=8,d=3*h;break;case r.ImageKind.RGBA_32BPP:u=6,l=8,d=4*h;break;default:throw new Error("invalid format")}for(var g=new Uint8Array((1+d)*f),m=0,v=0,b=0;b<f;++b)g[m++]=0,g.set(p.subarray(v,v+d),m),v+=d,m+=d;if(n===r.ImageKind.GRAYSCALE_1BPP&&o){m=0;for(var _=0;_<f;_++){m++;for(var y=0;y<d;y++)g[m++]^=255}}var x=new Uint8Array([h>>24&255,h>>16&255,h>>8&255,255&h,f>>24&255,f>>16&255,f>>8&255,255&f,l,u,0,0,0]),C=function(e){if(!a.isNodeJS)return c(e);try{var t;t=parseInt(process.versions.node)>=8?e:Buffer.from(e);var n=__webpack_require__(11).deflateSync(t,{level:9});return n instanceof Uint8Array?n:new Uint8Array(n)}catch(i){(0,r.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+i)}return c(e)}(g),P=new Uint8Array(e.length+36+x.length+C.length),k=0;return P.set(e,k),s("IHDR",x,P,k+=e.length),s("IDATA",C,P,k+=12+x.length),k+=12+C.length,s("IEND",new Uint8Array(0),P,k),(0,r.createObjectURL)(P,"image/png",i)}(t,void 0===t.kind?r.ImageKind.GRAYSCALE_1BPP:t.kind,n,i)}}(),h=function(){function e(){_classCallCheck(this,e),this.fontSizeScale=1,this.fontWeight="normal",this.fontSize=0,this.textMatrix=r.IDENTITY_MATRIX,this.fontMatrix=r.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=r.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}return _createClass(e,[{key:"clone",value:function(){return Object.create(this)}},{key:"setCurrentPoint",value:function(e,t){this.x=e,this.y=t}}]),e}(),f=0,p=0,g=0;t.SVGGraphics=o=function(){function e(t,n){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];for(var o in _classCallCheck(this,e),this.svgFactory=new i.DOMSVGFactory,this.current=new h,this.transformMatrix=r.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=t,this.objs=n,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!a,this._operatorIdMapping=[],r.OPS)this._operatorIdMapping[r.OPS[o]]=o}return _createClass(e,[{key:"save",value:function(){this.transformStack.push(this.transformMatrix);var e=this.current;this.extraStack.push(e),this.current=e.clone()}},{key:"restore",value:function(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}},{key:"group",value:function(e){this.save(),this.executeOpTree(e),this.restore()}},{key:"loadDependencies",value:function(e){for(var t=this,n=e.fnArray,i=e.argsArray,a=0,o=n.length;a<o;a++)if(n[a]===r.OPS.dependency){var s,c=_createForOfIteratorHelper(i[a]);try{var l=function(){var e=s.value,n=e.startsWith("g_")?t.commonObjs:t.objs,r=new Promise((function(t){n.get(e,t)}));t.current.dependencies.push(r)};for(c.s();!(s=c.n()).done;)l()}catch(u){c.e(u)}finally{c.f()}}return Promise.all(this.current.dependencies)}},{key:"transform",value:function(e,t,n,i,a,o){this.transformMatrix=r.Util.transform(this.transformMatrix,[e,t,n,i,a,o]),this.tgrp=null}},{key:"getSVG",value:function(e,t){var n=this;this.viewport=t;var i=this._initialize(t);return this.loadDependencies(e).then((function(){return n.transformMatrix=r.IDENTITY_MATRIX,n.executeOpTree(n.convertOpList(e)),i}))}},{key:"convertOpList",value:function(e){for(var t=this._operatorIdMapping,n=e.argsArray,r=e.fnArray,i=[],a=0,o=r.length;a<o;a++){var s=r[a];i.push({fnId:s,fn:t[s],args:n[a]})}return function(e){var t,n=[],r=[],i=_createForOfIteratorHelper(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;"save"!==a.fn?"restore"===a.fn?n=r.pop():n.push(a):(n.push({fnId:92,fn:"group",items:[]}),r.push(n),n=n[n.length-1].items)}}catch(o){i.e(o)}finally{i.f()}return n}(i)}},{key:"executeOpTree",value:function(e){var t,n=_createForOfIteratorHelper(e);try{for(n.s();!(t=n.n()).done;){var i=t.value,a=i.fn,o=i.args;switch(0|i.fnId){case r.OPS.beginText:this.beginText();break;case r.OPS.dependency:break;case r.OPS.setLeading:this.setLeading(o);break;case r.OPS.setLeadingMoveText:this.setLeadingMoveText(o[0],o[1]);break;case r.OPS.setFont:this.setFont(o);break;case r.OPS.showText:case r.OPS.showSpacedText:this.showText(o[0]);break;case r.OPS.endText:this.endText();break;case r.OPS.moveText:this.moveText(o[0],o[1]);break;case r.OPS.setCharSpacing:this.setCharSpacing(o[0]);break;case r.OPS.setWordSpacing:this.setWordSpacing(o[0]);break;case r.OPS.setHScale:this.setHScale(o[0]);break;case r.OPS.setTextMatrix:this.setTextMatrix(o[0],o[1],o[2],o[3],o[4],o[5]);break;case r.OPS.setTextRise:this.setTextRise(o[0]);break;case r.OPS.setTextRenderingMode:this.setTextRenderingMode(o[0]);break;case r.OPS.setLineWidth:this.setLineWidth(o[0]);break;case r.OPS.setLineJoin:this.setLineJoin(o[0]);break;case r.OPS.setLineCap:this.setLineCap(o[0]);break;case r.OPS.setMiterLimit:this.setMiterLimit(o[0]);break;case r.OPS.setFillRGBColor:this.setFillRGBColor(o[0],o[1],o[2]);break;case r.OPS.setStrokeRGBColor:this.setStrokeRGBColor(o[0],o[1],o[2]);break;case r.OPS.setStrokeColorN:this.setStrokeColorN(o);break;case r.OPS.setFillColorN:this.setFillColorN(o);break;case r.OPS.shadingFill:this.shadingFill(o[0]);break;case r.OPS.setDash:this.setDash(o[0],o[1]);break;case r.OPS.setRenderingIntent:this.setRenderingIntent(o[0]);break;case r.OPS.setFlatness:this.setFlatness(o[0]);break;case r.OPS.setGState:this.setGState(o[0]);break;case r.OPS.fill:this.fill();break;case r.OPS.eoFill:this.eoFill();break;case r.OPS.stroke:this.stroke();break;case r.OPS.fillStroke:this.fillStroke();break;case r.OPS.eoFillStroke:this.eoFillStroke();break;case r.OPS.clip:this.clip("nonzero");break;case r.OPS.eoClip:this.clip("evenodd");break;case r.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case r.OPS.paintImageXObject:this.paintImageXObject(o[0]);break;case r.OPS.paintInlineImageXObject:this.paintInlineImageXObject(o[0]);break;case r.OPS.paintImageMaskXObject:this.paintImageMaskXObject(o[0]);break;case r.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(o[0],o[1]);break;case r.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case r.OPS.closePath:this.closePath();break;case r.OPS.closeStroke:this.closeStroke();break;case r.OPS.closeFillStroke:this.closeFillStroke();break;case r.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case r.OPS.nextLine:this.nextLine();break;case r.OPS.transform:this.transform(o[0],o[1],o[2],o[3],o[4],o[5]);break;case r.OPS.constructPath:this.constructPath(o[0],o[1]);break;case r.OPS.endPath:this.endPath();break;case 92:this.group(i.items);break;default:(0,r.warn)("Unimplemented operator ".concat(a))}}}catch(s){n.e(s)}finally{n.f()}}},{key:"setWordSpacing",value:function(e){this.current.wordSpacing=e}},{key:"setCharSpacing",value:function(e){this.current.charSpacing=e}},{key:"nextLine",value:function(){this.moveText(0,this.current.leading)}},{key:"setTextMatrix",value:function(e,t,n,r,i,a){var o=this.current;o.textMatrix=o.lineMatrix=[e,t,n,r,i,a],o.textMatrixScale=Math.sqrt(e*e+t*t),o.x=o.lineX=0,o.y=o.lineY=0,o.xcoords=[],o.ycoords=[],o.tspan=this.svgFactory.createElement("svg:tspan"),o.tspan.setAttributeNS(null,"font-family",o.fontFamily),o.tspan.setAttributeNS(null,"font-size","".concat(s(o.fontSize),"px")),o.tspan.setAttributeNS(null,"y",s(-o.y)),o.txtElement=this.svgFactory.createElement("svg:text"),o.txtElement.appendChild(o.tspan)}},{key:"beginText",value:function(){var e=this.current;e.x=e.lineX=0,e.y=e.lineY=0,e.textMatrix=r.IDENTITY_MATRIX,e.lineMatrix=r.IDENTITY_MATRIX,e.textMatrixScale=1,e.tspan=this.svgFactory.createElement("svg:tspan"),e.txtElement=this.svgFactory.createElement("svg:text"),e.txtgrp=this.svgFactory.createElement("svg:g"),e.xcoords=[],e.ycoords=[]}},{key:"moveText",value:function(e,t){var n=this.current;n.x=n.lineX+=e,n.y=n.lineY+=t,n.xcoords=[],n.ycoords=[],n.tspan=this.svgFactory.createElement("svg:tspan"),n.tspan.setAttributeNS(null,"font-family",n.fontFamily),n.tspan.setAttributeNS(null,"font-size","".concat(s(n.fontSize),"px")),n.tspan.setAttributeNS(null,"y",s(-n.y))}},{key:"showText",value:function(e){var t=this.current,n=t.font,i=t.fontSize;if(0!==i){var a,o=t.fontSizeScale,l=t.charSpacing,u=t.wordSpacing,d=t.fontDirection,h=t.textHScale*d,f=n.vertical,p=f?1:-1,g=n.defaultVMetrics,m=i*t.fontMatrix[0],v=0,b=_createForOfIteratorHelper(e);try{for(b.s();!(a=b.n()).done;){var _=a.value;if(null!==_)if((0,r.isNum)(_))v+=p*_*i/1e3;else{var y=(_.isSpace?u:0)+l,x=_.fontChar,C=void 0,P=void 0,k=_.width;if(f){var w=void 0,A=_.vmetric||g;w=_.vmetric?A[1]:.5*k,k=A?-A[0]:k,C=(w=-w*m)/o,P=(v+A[2]*m)/o}else C=v/o,P=0;(_.isInFont||n.missingFile)&&(t.xcoords.push(t.x+C),f&&t.ycoords.push(-t.y+P),t.tspan.textContent+=x),v+=f?k*m-y*d:k*m+y*d}else v+=d*u}}catch(O){b.e(O)}finally{b.f()}t.tspan.setAttributeNS(null,"x",t.xcoords.map(s).join(" ")),t.tspan.setAttributeNS(null,"y",f?t.ycoords.map(s).join(" "):s(-t.y)),f?t.y-=v:t.x+=v*h,t.tspan.setAttributeNS(null,"font-family",t.fontFamily),t.tspan.setAttributeNS(null,"font-size","".concat(s(t.fontSize),"px")),"normal"!==t.fontStyle&&t.tspan.setAttributeNS(null,"font-style",t.fontStyle),"normal"!==t.fontWeight&&t.tspan.setAttributeNS(null,"font-weight",t.fontWeight);var S=t.textRenderingMode&r.TextRenderingMode.FILL_STROKE_MASK;S===r.TextRenderingMode.FILL||S===r.TextRenderingMode.FILL_STROKE?("#000000"!==t.fillColor&&t.tspan.setAttributeNS(null,"fill",t.fillColor),t.fillAlpha<1&&t.tspan.setAttributeNS(null,"fill-opacity",t.fillAlpha)):t.tspan.setAttributeNS(null,"fill",t.textRenderingMode===r.TextRenderingMode.ADD_TO_PATH?"transparent":"none"),(S===r.TextRenderingMode.STROKE||S===r.TextRenderingMode.FILL_STROKE)&&this._setStrokeAttributes(t.tspan,1/(t.textMatrixScale||1));var M=t.textMatrix;0!==t.textRise&&((M=M.slice())[5]+=t.textRise),t.txtElement.setAttributeNS(null,"transform","".concat(c(M)," scale(").concat(s(h),", -1)")),t.txtElement.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),t.txtElement.appendChild(t.tspan),t.txtgrp.appendChild(t.txtElement),this._ensureTransformGroup().appendChild(t.txtElement)}}},{key:"setLeadingMoveText",value:function(e,t){this.setLeading(-t),this.moveText(e,t)}},{key:"addFontStyle",value:function(e){if(!e.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.appendChild(this.cssStyle));var t=(0,r.createObjectURL)(e.data,e.mimetype,this.forceDataSchema);this.cssStyle.textContent+='@font-face { font-family: "'.concat(e.loadedName,'";')+" src: url(".concat(t,"); }\n")}},{key:"setFont",value:function(e){var t=this.current,n=this.commonObjs.get(e[0]),i=e[1];t.font=n,!this.embedFonts||n.missingFile||this.embeddedFonts[n.loadedName]||(this.addFontStyle(n),this.embeddedFonts[n.loadedName]=n),t.fontMatrix=n.fontMatrix||r.FONT_IDENTITY_MATRIX;var a="normal";n.black?a="900":n.bold&&(a="bold");var o=n.italic?"italic":"normal";i<0?(i=-i,t.fontDirection=-1):t.fontDirection=1,t.fontSize=i,t.fontFamily=n.loadedName,t.fontWeight=a,t.fontStyle=o,t.tspan=this.svgFactory.createElement("svg:tspan"),t.tspan.setAttributeNS(null,"y",s(-t.y)),t.xcoords=[],t.ycoords=[]}},{key:"endText",value:function(){var e,t=this.current;t.textRenderingMode&r.TextRenderingMode.ADD_TO_PATH_FLAG&&null!==(e=t.txtElement)&&void 0!==e&&e.hasChildNodes()&&(t.element=t.txtElement,this.clip("nonzero"),this.endPath())}},{key:"setLineWidth",value:function(e){e>0&&(this.current.lineWidth=e)}},{key:"setLineCap",value:function(e){this.current.lineCap=l[e]}},{key:"setLineJoin",value:function(e){this.current.lineJoin=u[e]}},{key:"setMiterLimit",value:function(e){this.current.miterLimit=e}},{key:"setStrokeAlpha",value:function(e){this.current.strokeAlpha=e}},{key:"setStrokeRGBColor",value:function(e,t,n){this.current.strokeColor=r.Util.makeHexColor(e,t,n)}},{key:"setFillAlpha",value:function(e){this.current.fillAlpha=e}},{key:"setFillRGBColor",value:function(e,t,n){this.current.fillColor=r.Util.makeHexColor(e,t,n),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}},{key:"setStrokeColorN",value:function(e){this.current.strokeColor=this._makeColorN_Pattern(e)}},{key:"setFillColorN",value:function(e){this.current.fillColor=this._makeColorN_Pattern(e)}},{key:"shadingFill",value:function(e){var t=this.viewport.width,n=this.viewport.height,i=r.Util.inverseTransform(this.transformMatrix),a=r.Util.applyTransform([0,0],i),o=r.Util.applyTransform([0,n],i),s=r.Util.applyTransform([t,0],i),c=r.Util.applyTransform([t,n],i),l=Math.min(a[0],o[0],s[0],c[0]),u=Math.min(a[1],o[1],s[1],c[1]),d=Math.max(a[0],o[0],s[0],c[0]),h=Math.max(a[1],o[1],s[1],c[1]),f=this.svgFactory.createElement("svg:rect");f.setAttributeNS(null,"x",l),f.setAttributeNS(null,"y",u),f.setAttributeNS(null,"width",d-l),f.setAttributeNS(null,"height",h-u),f.setAttributeNS(null,"fill",this._makeShadingPattern(e)),this.current.fillAlpha<1&&f.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().appendChild(f)}},{key:"_makeColorN_Pattern",value:function(e){return"TilingPattern"===e[0]?this._makeTilingPattern(e):this._makeShadingPattern(e)}},{key:"_makeTilingPattern",value:function(e){var t=e[1],n=e[2],i=e[3]||r.IDENTITY_MATRIX,a=_slicedToArray(e[4],4),o=a[0],s=a[1],c=a[2],l=a[3],u=e[5],d=e[6],h=e[7],f="shading".concat(g++),p=r.Util.applyTransform([o,s],i),m=_slicedToArray(p,2),v=m[0],b=m[1],_=r.Util.applyTransform([c,l],i),y=_slicedToArray(_,2),x=y[0],C=y[1],P=r.Util.singularValueDecompose2dScale(i),k=_slicedToArray(P,2),w=u*k[0],A=d*k[1],S=this.svgFactory.createElement("svg:pattern");S.setAttributeNS(null,"id",f),S.setAttributeNS(null,"patternUnits","userSpaceOnUse"),S.setAttributeNS(null,"width",w),S.setAttributeNS(null,"height",A),S.setAttributeNS(null,"x","".concat(v)),S.setAttributeNS(null,"y","".concat(b));var M=this.svg,O=this.transformMatrix,L=this.current.fillColor,T=this.current.strokeColor,R=this.svgFactory.create(x-v,C-b);if(this.svg=R,this.transformMatrix=i,2===h){var I,E=(I=r.Util).makeHexColor.apply(I,_toConsumableArray(t));this.current.fillColor=E,this.current.strokeColor=E}return this.executeOpTree(this.convertOpList(n)),this.svg=M,this.transformMatrix=O,this.current.fillColor=L,this.current.strokeColor=T,S.appendChild(R.childNodes[0]),this.defs.appendChild(S),"url(#".concat(f,")")}},{key:"_makeShadingPattern",value:function(e){switch(e[0]){case"RadialAxial":var t,n="shading".concat(g++),i=e[3];switch(e[1]){case"axial":var a=e[4],o=e[5];(t=this.svgFactory.createElement("svg:linearGradient")).setAttributeNS(null,"id",n),t.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),t.setAttributeNS(null,"x1",a[0]),t.setAttributeNS(null,"y1",a[1]),t.setAttributeNS(null,"x2",o[0]),t.setAttributeNS(null,"y2",o[1]);break;case"radial":var s=e[4],c=e[5],l=e[6],u=e[7];(t=this.svgFactory.createElement("svg:radialGradient")).setAttributeNS(null,"id",n),t.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),t.setAttributeNS(null,"cx",c[0]),t.setAttributeNS(null,"cy",c[1]),t.setAttributeNS(null,"r",u),t.setAttributeNS(null,"fx",s[0]),t.setAttributeNS(null,"fy",s[1]),t.setAttributeNS(null,"fr",l);break;default:throw new Error("Unknown RadialAxial type: ".concat(e[1]))}var d,h=_createForOfIteratorHelper(i);try{for(h.s();!(d=h.n()).done;){var f=d.value,p=this.svgFactory.createElement("svg:stop");p.setAttributeNS(null,"offset",f[0]),p.setAttributeNS(null,"stop-color",f[1]),t.appendChild(p)}}catch(m){h.e(m)}finally{h.f()}return this.defs.appendChild(t),"url(#".concat(n,")");case"Mesh":return(0,r.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error("Unknown IR type: ".concat(e[0]))}}},{key:"setDash",value:function(e,t){this.current.dashArray=e,this.current.dashPhase=t}},{key:"constructPath",value:function(e,t){var n,i=this.current,a=i.x,o=i.y,c=[],l=0,u=_createForOfIteratorHelper(e);try{for(u.s();!(n=u.n()).done;)switch(0|n.value){case r.OPS.rectangle:a=t[l++],o=t[l++];var d=a+t[l++],h=o+t[l++];c.push("M",s(a),s(o),"L",s(d),s(o),"L",s(d),s(h),"L",s(a),s(h),"Z");break;case r.OPS.moveTo:a=t[l++],o=t[l++],c.push("M",s(a),s(o));break;case r.OPS.lineTo:a=t[l++],o=t[l++],c.push("L",s(a),s(o));break;case r.OPS.curveTo:a=t[l+4],o=t[l+5],c.push("C",s(t[l]),s(t[l+1]),s(t[l+2]),s(t[l+3]),s(a),s(o)),l+=6;break;case r.OPS.curveTo2:c.push("C",s(a),s(o),s(t[l]),s(t[l+1]),s(t[l+2]),s(t[l+3])),a=t[l+2],o=t[l+3],l+=4;break;case r.OPS.curveTo3:a=t[l+2],o=t[l+3],c.push("C",s(t[l]),s(t[l+1]),s(a),s(o),s(a),s(o)),l+=4;break;case r.OPS.closePath:c.push("Z")}}catch(f){u.e(f)}finally{u.f()}c=c.join(" "),i.path&&e.length>0&&e[0]!==r.OPS.rectangle&&e[0]!==r.OPS.moveTo?c=i.path.getAttributeNS(null,"d")+c:(i.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().appendChild(i.path)),i.path.setAttributeNS(null,"d",c),i.path.setAttributeNS(null,"fill","none"),i.element=i.path,i.setCurrentPoint(a,o)}},{key:"endPath",value:function(){var e=this.current;if(e.path=null,this.pendingClip)if(e.element){var t="clippath".concat(f++),n=this.svgFactory.createElement("svg:clipPath");n.setAttributeNS(null,"id",t),n.setAttributeNS(null,"transform",c(this.transformMatrix));var r=e.element.cloneNode(!0);r.setAttributeNS(null,"clip-rule","evenodd"===this.pendingClip?"evenodd":"nonzero"),this.pendingClip=null,n.appendChild(r),this.defs.appendChild(n),e.activeClipUrl&&(e.clipGroup=null,this.extraStack.forEach((function(e){e.clipGroup=null})),n.setAttributeNS(null,"clip-path",e.activeClipUrl)),e.activeClipUrl="url(#".concat(t,")"),this.tgrp=null}else this.pendingClip=null}},{key:"clip",value:function(e){this.pendingClip=e}},{key:"closePath",value:function(){var e=this.current;if(e.path){var t="".concat(e.path.getAttributeNS(null,"d"),"Z");e.path.setAttributeNS(null,"d",t)}}},{key:"setLeading",value:function(e){this.current.leading=-e}},{key:"setTextRise",value:function(e){this.current.textRise=e}},{key:"setTextRenderingMode",value:function(e){this.current.textRenderingMode=e}},{key:"setHScale",value:function(e){this.current.textHScale=e/100}},{key:"setRenderingIntent",value:function(e){}},{key:"setFlatness",value:function(e){}},{key:"setGState",value:function(e){var t,n=_createForOfIteratorHelper(e);try{for(n.s();!(t=n.n()).done;){var i=_slicedToArray(t.value,2),a=i[0],o=i[1];switch(a){case"LW":this.setLineWidth(o);break;case"LC":this.setLineCap(o);break;case"LJ":this.setLineJoin(o);break;case"ML":this.setMiterLimit(o);break;case"D":this.setDash(o[0],o[1]);break;case"RI":this.setRenderingIntent(o);break;case"FL":this.setFlatness(o);break;case"Font":this.setFont(o);break;case"CA":this.setStrokeAlpha(o);break;case"ca":this.setFillAlpha(o);break;default:(0,r.warn)("Unimplemented graphic state operator ".concat(a))}}}catch(s){n.e(s)}finally{n.f()}}},{key:"fill",value:function(){var e=this.current;e.element&&(e.element.setAttributeNS(null,"fill",e.fillColor),e.element.setAttributeNS(null,"fill-opacity",e.fillAlpha),this.endPath())}},{key:"stroke",value:function(){var e=this.current;e.element&&(this._setStrokeAttributes(e.element),e.element.setAttributeNS(null,"fill","none"),this.endPath())}},{key:"_setStrokeAttributes",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=this.current,r=n.dashArray;1!==t&&r.length>0&&(r=r.map((function(e){return t*e}))),e.setAttributeNS(null,"stroke",n.strokeColor),e.setAttributeNS(null,"stroke-opacity",n.strokeAlpha),e.setAttributeNS(null,"stroke-miterlimit",s(n.miterLimit)),e.setAttributeNS(null,"stroke-linecap",n.lineCap),e.setAttributeNS(null,"stroke-linejoin",n.lineJoin),e.setAttributeNS(null,"stroke-width",s(t*n.lineWidth)+"px"),e.setAttributeNS(null,"stroke-dasharray",r.map(s).join(" ")),e.setAttributeNS(null,"stroke-dashoffset",s(t*n.dashPhase)+"px")}},{key:"eoFill",value:function(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}},{key:"fillStroke",value:function(){this.stroke(),this.fill()}},{key:"eoFillStroke",value:function(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}},{key:"closeStroke",value:function(){this.closePath(),this.stroke()}},{key:"closeFillStroke",value:function(){this.closePath(),this.fillStroke()}},{key:"closeEOFillStroke",value:function(){this.closePath(),this.eoFillStroke()}},{key:"paintSolidColorImageMask",value:function(){var e=this.svgFactory.createElement("svg:rect");e.setAttributeNS(null,"x","0"),e.setAttributeNS(null,"y","0"),e.setAttributeNS(null,"width","1px"),e.setAttributeNS(null,"height","1px"),e.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().appendChild(e)}},{key:"paintImageXObject",value:function(e){var t=e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e);t?this.paintInlineImageXObject(t):(0,r.warn)("Dependent image with object ID ".concat(e," is not ready yet"))}},{key:"paintInlineImageXObject",value:function(e,t){var n=e.width,r=e.height,i=d(e,this.forceDataSchema,!!t),a=this.svgFactory.createElement("svg:rect");a.setAttributeNS(null,"x","0"),a.setAttributeNS(null,"y","0"),a.setAttributeNS(null,"width",s(n)),a.setAttributeNS(null,"height",s(r)),this.current.element=a,this.clip("nonzero");var o=this.svgFactory.createElement("svg:image");o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i),o.setAttributeNS(null,"x","0"),o.setAttributeNS(null,"y",s(-r)),o.setAttributeNS(null,"width",s(n)+"px"),o.setAttributeNS(null,"height",s(r)+"px"),o.setAttributeNS(null,"transform","scale(".concat(s(1/n)," ").concat(s(-1/r),")")),t?t.appendChild(o):this._ensureTransformGroup().appendChild(o)}},{key:"paintImageMaskXObject",value:function(e){var t=this.current,n=e.width,r=e.height,i=t.fillColor;t.maskId="mask".concat(p++);var a=this.svgFactory.createElement("svg:mask");a.setAttributeNS(null,"id",t.maskId);var o=this.svgFactory.createElement("svg:rect");o.setAttributeNS(null,"x","0"),o.setAttributeNS(null,"y","0"),o.setAttributeNS(null,"width",s(n)),o.setAttributeNS(null,"height",s(r)),o.setAttributeNS(null,"fill",i),o.setAttributeNS(null,"mask","url(#".concat(t.maskId,")")),this.defs.appendChild(a),this._ensureTransformGroup().appendChild(o),this.paintInlineImageXObject(e,a)}},{key:"paintFormXObjectBegin",value:function(e,t){if(Array.isArray(e)&&6===e.length&&this.transform(e[0],e[1],e[2],e[3],e[4],e[5]),t){var n=t[2]-t[0],r=t[3]-t[1],i=this.svgFactory.createElement("svg:rect");i.setAttributeNS(null,"x",t[0]),i.setAttributeNS(null,"y",t[1]),i.setAttributeNS(null,"width",s(n)),i.setAttributeNS(null,"height",s(r)),this.current.element=i,this.clip("nonzero"),this.endPath()}}},{key:"paintFormXObjectEnd",value:function(){}},{key:"_initialize",value:function(e){var t=this.svgFactory.create(e.width,e.height),n=this.svgFactory.createElement("svg:defs");t.appendChild(n),this.defs=n;var r=this.svgFactory.createElement("svg:g");return r.setAttributeNS(null,"transform",c(e.transform)),t.appendChild(r),this.svg=r,t}},{key:"_ensureClipGroup",value:function(){if(!this.current.clipGroup){var e=this.svgFactory.createElement("svg:g");e.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.appendChild(e),this.current.clipGroup=e}return this.current.clipGroup}},{key:"_ensureTransformGroup",value:function(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",c(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().appendChild(this.tgrp):this.svg.appendChild(this.tgrp)),this.tgrp}}]),e}()},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.PDFNodeStream=void 0;var r=n(2),i=n(24),a=__webpack_require__(9),o=__webpack_require__(12),s=__webpack_require__(13),c=__webpack_require__(14),l=/^file:\/\/\/[a-zA-Z]:\//;t.PDFNodeStream=function(){function e(t){var n,r;_classCallCheck(this,e),this.source=t,this.url="file:"===(r=c.parse(n=t.url)).protocol||r.host?r:/^[a-z]:[/\\]/i.test(n)?c.parse("file:///".concat(n)):(r.host||(r.protocol="file:"),r),this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol,this.isFsUrl="file:"===this.url.protocol,this.httpHeaders=this.isHttp&&t.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}return _createClass(e,[{key:"_progressiveDataLength",get:function(){var e,t;return null!==(e=null===(t=this._fullRequestReader)||void 0===t?void 0:t._loaded)&&void 0!==e?e:0}},{key:"getFullReader",value:function(){return(0,r.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new g(this):new f(this),this._fullRequestReader}},{key:"getRangeReader",value:function(e,t){if(t<=this._progressiveDataLength)return null;var n=this.isFsUrl?new m(this,e,t):new p(this,e,t);return this._rangeRequestReaders.push(n),n}},{key:"cancelAllRequests",value:function(e){this._fullRequestReader&&this._fullRequestReader.cancel(e),this._rangeRequestReaders.slice(0).forEach((function(t){t.cancel(e)}))}}]),e}();var u=function(){function e(t){_classCallCheck(this,e),this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null;var n=t.source;this._contentLength=n.length,this._loaded=0,this._filename=null,this._disableRange=n.disableRange||!1,this._rangeChunkSize=n.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!n.disableStream,this._isRangeSupported=!n.disableRange,this._readableStream=null,this._readCapability=(0,r.createPromiseCapability)(),this._headersCapability=(0,r.createPromiseCapability)()}var t;return _createClass(e,[{key:"headersReady",get:function(){return this._headersCapability.promise}},{key:"filename",get:function(){return this._filename}},{key:"contentLength",get:function(){return this._contentLength}},{key:"isRangeSupported",get:function(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}},{key:"read",value:(t=_asyncToGenerator(_regeneratorRuntime.mark((function e(){var t,n;return _regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._readCapability.promise;case 2:if(!this._done){e.next=4;break}return e.abrupt("return",{value:void 0,done:!0});case 4:if(!this._storedError){e.next=6;break}throw this._storedError;case 6:if(null!==(t=this._readableStream.read())){e.next=10;break}return this._readCapability=(0,r.createPromiseCapability)(),e.abrupt("return",this.read());case 10:return this._loaded+=t.length,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),n=new Uint8Array(t).buffer,e.abrupt("return",{value:n,done:!1});case 14:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"cancel",value:function(e){this._readableStream?this._readableStream.destroy(e):this._error(e)}},{key:"_error",value:function(e){this._storedError=e,this._readCapability.resolve()}},{key:"_setReadableStream",value:function(e){var t=this;this._readableStream=e,e.on("readable",(function(){t._readCapability.resolve()})),e.on("end",(function(){e.destroy(),t._done=!0,t._readCapability.resolve()})),e.on("error",(function(e){t._error(e)})),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new r.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}]),e}(),d=function(){function e(t){_classCallCheck(this,e),this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,r.createPromiseCapability)(),this._isStreamingSupported=!t.source.disableStream}var t;return _createClass(e,[{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}},{key:"read",value:(t=_asyncToGenerator(_regeneratorRuntime.mark((function e(){var t,n;return _regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._readCapability.promise;case 2:if(!this._done){e.next=4;break}return e.abrupt("return",{value:void 0,done:!0});case 4:if(!this._storedError){e.next=6;break}throw this._storedError;case 6:if(null!==(t=this._readableStream.read())){e.next=10;break}return this._readCapability=(0,r.createPromiseCapability)(),e.abrupt("return",this.read());case 10:return this._loaded+=t.length,this.onProgress&&this.onProgress({loaded:this._loaded}),n=new Uint8Array(t).buffer,e.abrupt("return",{value:n,done:!1});case 14:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"cancel",value:function(e){this._readableStream?this._readableStream.destroy(e):this._error(e)}},{key:"_error",value:function(e){this._storedError=e,this._readCapability.resolve()}},{key:"_setReadableStream",value:function(e){var t=this;this._readableStream=e,e.on("readable",(function(){t._readCapability.resolve()})),e.on("end",(function(){e.destroy(),t._done=!0,t._readCapability.resolve()})),e.on("error",(function(e){t._error(e)})),this._storedError&&this._readableStream.destroy(this._storedError)}}]),e}();function h(e,t){return{protocol:e.protocol,auth:e.auth,host:e.hostname,port:e.port,path:e.path,method:"GET",headers:t}}var f=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var a;_classCallCheck(this,n);var c=function(t){if(404===t.statusCode){var n=new r.MissingPDFException('Missing PDF "'.concat(a._url,'".'));return a._storedError=n,void a._headersCapability.reject(n)}a._headersCapability.resolve(),a._setReadableStream(t);var o=function(e){return a._readableStream.headers[e.toLowerCase()]},s=(0,i.validateRangeRequestCapabilities)({getResponseHeader:o,isHttp:e.isHttp,rangeChunkSize:a._rangeChunkSize,disableRange:a._disableRange}),c=s.suggestedLength;a._isRangeSupported=s.allowRangeRequests,a._contentLength=c||a._contentLength,a._filename=(0,i.extractFilenameFromHeader)(o)};return(a=t.call(this,e))._request=null,a._request="http:"===a._url.protocol?o.request(h(a._url,e.httpHeaders),c):s.request(h(a._url,e.httpHeaders),c),a._request.on("error",(function(e){a._storedError=e,a._headersCapability.reject(e)})),a._request.end(),a}return n}(u),p=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,a){var c;for(var l in _classCallCheck(this,n),(c=t.call(this,e))._httpHeaders={},e.httpHeaders){var u=e.httpHeaders[l];void 0!==u&&(c._httpHeaders[l]=u)}c._httpHeaders.Range="bytes=".concat(i,"-").concat(a-1);var d=function(e){if(404!==e.statusCode)c._setReadableStream(e);else{var t=new r.MissingPDFException('Missing PDF "'.concat(c._url,'".'));c._storedError=t}};return c._request=null,c._request="http:"===c._url.protocol?o.request(h(c._url,c._httpHeaders),d):s.request(h(c._url,c._httpHeaders),d),c._request.on("error",(function(e){c._storedError=e})),c._request.end(),c}return n}(d),g=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i;_classCallCheck(this,n),i=t.call(this,e);var o=decodeURIComponent(i._url.path);return l.test(i._url.href)&&(o=o.replace(/^\//,"")),a.lstat(o,(function(e,t){if(e)return"ENOENT"===e.code&&(e=new r.MissingPDFException('Missing PDF "'.concat(o,'".'))),i._storedError=e,void i._headersCapability.reject(e);i._contentLength=t.size,i._setReadableStream(a.createReadStream(o)),i._headersCapability.resolve()})),i}return n}(u),m=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;_classCallCheck(this,n),o=t.call(this,e);var s=decodeURIComponent(o._url.path);return l.test(o._url.href)&&(s=s.replace(/^\//,"")),o._setReadableStream(a.createReadStream(s,{start:r,end:i-1})),o}return n}(d)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.createResponseStatusError=function(e,t){return 404===e||0===e&&t.startsWith("file:")?new r.MissingPDFException('Missing PDF "'+t+'".'):new r.UnexpectedResponseException("Unexpected server response ("+e+') while retrieving PDF "'+t+'".',e)},t.extractFilenameFromHeader=function(e){var t=e("Content-Disposition");if(t){var n=(0,i.getFilenameFromContentDispositionHeader)(t);if(n.includes("%"))try{n=decodeURIComponent(n)}catch(r){}if(/\.pdf$/i.test(n))return n}return null},t.validateRangeRequestCapabilities=function(e){var t=e.getResponseHeader,n=e.isHttp,i=e.rangeChunkSize,a=e.disableRange;(0,r.assert)(i>0,"Range chunk size must be larger than zero");var o={allowRangeRequests:!1,suggestedLength:void 0},s=parseInt(t("Content-Length"),10);return Number.isInteger(s)?(o.suggestedLength=s,s<=2*i||a||!n||"bytes"!==t("Accept-Ranges")||"identity"!==(t("Content-Encoding")||"identity")||(o.allowRangeRequests=!0),o):o},t.validateResponseStatus=function(e){return 200===e||206===e};var r=n(2),i=n(25)},function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.getFilenameFromContentDispositionHeader=function(e){var t=!0,n=a("filename\\*","i").exec(e);if(n){var r=c(n=n[1]);return s(r=u(r=l(r=unescape(r))))}if(n=function(e){for(var t,n=[],r=a("filename\\*((?!0\\d)\\d+)(\\*?)","ig");null!==(t=r.exec(e));){var i=_slicedToArray(t,4),o=i[1],s=i[2],u=i[3];if((o=parseInt(o,10))in n){if(0===o)break}else n[o]=[s,u]}for(var d=[],h=0;h<n.length&&h in n;++h){var f=_slicedToArray(n[h],2),p=f[0],g=f[1];g=c(g),p&&(g=unescape(g),0===h&&(g=l(g))),d.push(g)}return d.join("")}(e))return s(u(n));if(n=a("filename","i").exec(e)){var i=c(n=n[1]);return s(i=u(i))}function a(e,t){return new RegExp("(?:^|;)\\s*"+e+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',t)}function o(e,n){if(e){if(!/^[\x00-\xFF]+$/.test(n))return n;try{var r=new TextDecoder(e,{fatal:!0}),i=Array.from(n,(function(e){return 255&e.charCodeAt(0)}));n=r.decode(new Uint8Array(i)),t=!1}catch(a){if(/^utf-?8$/i.test(e))try{n=decodeURIComponent(escape(n)),t=!1}catch(o){}}}return n}function s(e){return t&&/[\x80-\xff]/.test(e)&&(e=o("utf-8",e),t&&(e=o("iso-8859-1",e))),e}function c(e){if(e.startsWith('"')){for(var t=e.slice(1).split('\\"'),n=0;n<t.length;++n){var r=t[n].indexOf('"');-1!==r&&(t[n]=t[n].slice(0,r),t.length=n+1),t[n]=t[n].replace(/\\(.)/g,"$1")}e=t.join('"')}return e}function l(e){var t=e.indexOf("'");return-1===t?e:o(e.slice(0,t),e.slice(t+1).replace(/^[^']*'/,""))}function u(e){return!e.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(e)?e:e.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,(function(e,t,n,r){if("q"===n||"Q"===n)return o(t,r=(r=r.replace(/_/g," ")).replace(/=([0-9a-fA-F]{2})/g,(function(e,t){return String.fromCharCode(parseInt(t,16))})));try{r=atob(r)}catch(i){}return o(t,r)}))}return""}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.PDFNetworkStream=void 0;var r=n(2),i=n(24),a=function(){function e(t,n){_classCallCheck(this,e),this.url=t,n=n||{},this.isHttp=/^https?:/i.test(t),this.httpHeaders=this.isHttp&&n.httpHeaders||{},this.withCredentials=n.withCredentials||!1,this.getXhr=n.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}return _createClass(e,[{key:"requestRange",value:function(e,t,n){var r={begin:e,end:t};for(var i in n)r[i]=n[i];return this.request(r)}},{key:"requestFull",value:function(e){return this.request(e)}},{key:"request",value:function(e){var t=this.getXhr(),n=this.currXhrId++,r=this.pendingRequests[n]={xhr:t};for(var i in t.open("GET",this.url),t.withCredentials=this.withCredentials,this.httpHeaders){var a=this.httpHeaders[i];void 0!==a&&t.setRequestHeader(i,a)}return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range","bytes=".concat(e.begin,"-").concat(e.end-1)),r.expectedStatus=206):r.expectedStatus=200,t.responseType="arraybuffer",e.onError&&(t.onerror=function(n){e.onError(t.status)}),t.onreadystatechange=this.onStateChange.bind(this,n),t.onprogress=this.onProgress.bind(this,n),r.onHeadersReceived=e.onHeadersReceived,r.onDone=e.onDone,r.onError=e.onError,r.onProgress=e.onProgress,t.send(null),n}},{key:"onProgress",value:function(e,t){var n=this.pendingRequests[e];n&&n.onProgress&&n.onProgress(t)}},{key:"onStateChange",value:function(e,t){var n=this.pendingRequests[e];if(n){var i=n.xhr;if(i.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),4===i.readyState&&e in this.pendingRequests)if(delete this.pendingRequests[e],0===i.status&&this.isHttp)n.onError&&n.onError(i.status);else{var a=i.status||200;if(200===a&&206===n.expectedStatus||a===n.expectedStatus){var o=function(e){var t=e.response;return"string"!=typeof t?t:(0,r.stringToBytes)(t).buffer}(i);if(206===a){var s=i.getResponseHeader("Content-Range"),c=/bytes (\d+)-(\d+)\/(\d+)/.exec(s);n.onDone({begin:parseInt(c[1],10),chunk:o})}else o?n.onDone({begin:0,chunk:o}):n.onError&&n.onError(i.status)}else n.onError&&n.onError(i.status)}}}},{key:"getRequestXhr",value:function(e){return this.pendingRequests[e].xhr}},{key:"isPendingRequest",value:function(e){return e in this.pendingRequests}},{key:"abortRequest",value:function(e){var t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}]),e}();t.PDFNetworkStream=function(){function e(t){_classCallCheck(this,e),this._source=t,this._manager=new a(t.url,{httpHeaders:t.httpHeaders,withCredentials:t.withCredentials}),this._rangeChunkSize=t.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}return _createClass(e,[{key:"_onRangeRequestReaderClosed",value:function(e){var t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}},{key:"getFullReader",value:function(){return(0,r.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new o(this._manager,this._source),this._fullRequestReader}},{key:"getRangeReader",value:function(e,t){var n=new s(this._manager,e,t);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}},{key:"cancelAllRequests",value:function(e){this._fullRequestReader&&this._fullRequestReader.cancel(e),this._rangeRequestReaders.slice(0).forEach((function(t){t.cancel(e)}))}}]),e}();var o=function(){function e(t,n){_classCallCheck(this,e),this._manager=t;var i={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=n.url,this._fullRequestId=t.requestFull(i),this._headersReceivedCapability=(0,r.createPromiseCapability)(),this._disableRange=n.disableRange||!1,this._contentLength=n.length,this._rangeChunkSize=n.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}var t;return _createClass(e,[{key:"_onHeadersReceived",value:function(){var e=this._fullRequestId,t=this._manager.getRequestXhr(e),n=function(e){return t.getResponseHeader(e)},r=(0,i.validateRangeRequestCapabilities)({getResponseHeader:n,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange}),a=r.suggestedLength;r.allowRangeRequests&&(this._isRangeSupported=!0),this._contentLength=a||this._contentLength,this._filename=(0,i.extractFilenameFromHeader)(n),this._isRangeSupported&&this._manager.abortRequest(e),this._headersReceivedCapability.resolve()}},{key:"_onDone",value:function(e){e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,this._cachedChunks.length>0||(this._requests.forEach((function(e){e.resolve({value:void 0,done:!0})})),this._requests=[])}},{key:"_onError",value:function(e){var t=(0,i.createResponseStatusError)(e,this._url);this._storedError=t,this._headersReceivedCapability.reject(t),this._requests.forEach((function(e){e.reject(t)})),this._requests=[],this._cachedChunks=[]}},{key:"_onProgress",value:function(e){this.onProgress&&this.onProgress({loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}},{key:"filename",get:function(){return this._filename}},{key:"isRangeSupported",get:function(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}},{key:"contentLength",get:function(){return this._contentLength}},{key:"headersReady",get:function(){return this._headersReceivedCapability.promise}},{key:"read",value:(t=_asyncToGenerator(_regeneratorRuntime.mark((function e(){var t,n;return _regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._storedError){e.next=2;break}throw this._storedError;case 2:if(!(this._cachedChunks.length>0)){e.next=5;break}return t=this._cachedChunks.shift(),e.abrupt("return",{value:t,done:!1});case 5:if(!this._done){e.next=7;break}return e.abrupt("return",{value:void 0,done:!0});case 7:return n=(0,r.createPromiseCapability)(),this._requests.push(n),e.abrupt("return",n.promise);case 10:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"cancel",value:function(e){this._done=!0,this._headersReceivedCapability.reject(e),this._requests.forEach((function(e){e.resolve({value:void 0,done:!0})})),this._requests=[],this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}]),e}(),s=function(){function e(t,n,r){_classCallCheck(this,e),this._manager=t;var i={onDone:this._onDone.bind(this),onProgress:this._onProgress.bind(this)};this._requestId=t.requestRange(n,r,i),this._requests=[],this._queuedChunk=null,this._done=!1,this.onProgress=null,this.onClosed=null}var t;return _createClass(e,[{key:"_close",value:function(){this.onClosed&&this.onClosed(this)}},{key:"_onDone",value:function(e){var t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0,this._requests.forEach((function(e){e.resolve({value:void 0,done:!0})})),this._requests=[],this._close()}},{key:"_onProgress",value:function(e){!this.isStreamingSupported&&this.onProgress&&this.onProgress({loaded:e.loaded})}},{key:"isStreamingSupported",get:function(){return!1}},{key:"read",value:(t=_asyncToGenerator(_regeneratorRuntime.mark((function e(){var t,n;return _regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===this._queuedChunk){e.next=4;break}return t=this._queuedChunk,this._queuedChunk=null,e.abrupt("return",{value:t,done:!1});case 4:if(!this._done){e.next=6;break}return e.abrupt("return",{value:void 0,done:!0});case 6:return n=(0,r.createPromiseCapability)(),this._requests.push(n),e.abrupt("return",n.promise);case 9:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"cancel",value:function(e){this._done=!0,this._requests.forEach((function(e){e.resolve({value:void 0,done:!0})})),this._requests=[],this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}]),e}()},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.PDFFetchStream=void 0;var r=n(2),i=n(24);function a(e,t,n){return{method:"GET",headers:e,signal:null==n?void 0:n.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function o(e){var t=new Headers;for(var n in e){var r=e[n];void 0!==r&&t.append(n,r)}return t}t.PDFFetchStream=function(){function e(t){_classCallCheck(this,e),this.source=t,this.isHttp=/^https?:/i.test(t.url),this.httpHeaders=this.isHttp&&t.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}return _createClass(e,[{key:"_progressiveDataLength",get:function(){var e,t;return null!==(e=null===(t=this._fullRequestReader)||void 0===t?void 0:t._loaded)&&void 0!==e?e:0}},{key:"getFullReader",value:function(){return(0,r.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new s(this),this._fullRequestReader}},{key:"getRangeReader",value:function(e,t){if(t<=this._progressiveDataLength)return null;var n=new c(this,e,t);return this._rangeRequestReaders.push(n),n}},{key:"cancelAllRequests",value:function(e){this._fullRequestReader&&this._fullRequestReader.cancel(e),this._rangeRequestReaders.slice(0).forEach((function(t){t.cancel(e)}))}}]),e}();var s=function(){function e(t){var n=this;_classCallCheck(this,e),this._stream=t,this._reader=null,this._loaded=0,this._filename=null;var s=t.source;this._withCredentials=s.withCredentials||!1,this._contentLength=s.length,this._headersCapability=(0,r.createPromiseCapability)(),this._disableRange=s.disableRange||!1,this._rangeChunkSize=s.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),"undefined"!=typeof AbortController&&(this._abortController=new AbortController),this._isStreamingSupported=!s.disableStream,this._isRangeSupported=!s.disableRange,this._headers=o(this._stream.httpHeaders);var c=s.url;fetch(c,a(this._headers,this._withCredentials,this._abortController)).then((function(e){if(!(0,i.validateResponseStatus)(e.status))throw(0,i.createResponseStatusError)(e.status,c);n._reader=e.body.getReader(),n._headersCapability.resolve();var t=function(t){return e.headers.get(t)},a=(0,i.validateRangeRequestCapabilities)({getResponseHeader:t,isHttp:n._stream.isHttp,rangeChunkSize:n._rangeChunkSize,disableRange:n._disableRange}),o=a.suggestedLength;n._isRangeSupported=a.allowRangeRequests,n._contentLength=o||n._contentLength,n._filename=(0,i.extractFilenameFromHeader)(t),!n._isStreamingSupported&&n._isRangeSupported&&n.cancel(new r.AbortException("Streaming is disabled."))})).catch(this._headersCapability.reject),this.onProgress=null}var t;return _createClass(e,[{key:"headersReady",get:function(){return this._headersCapability.promise}},{key:"filename",get:function(){return this._filename}},{key:"contentLength",get:function(){return this._contentLength}},{key:"isRangeSupported",get:function(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}},{key:"read",value:(t=_asyncToGenerator(_regeneratorRuntime.mark((function e(){var t,n,r,i;return _regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._headersCapability.promise;case 2:return e.next=4,this._reader.read();case 4:if(n=(t=e.sent).value,!(r=t.done)){e.next=9;break}return e.abrupt("return",{value:n,done:r});case 9:return this._loaded+=n.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),i=new Uint8Array(n).buffer,e.abrupt("return",{value:i,done:!1});case 13:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"cancel",value:function(e){this._reader&&this._reader.cancel(e),this._abortController&&this._abortController.abort()}}]),e}(),c=function(){function e(t,n,s){var c=this;_classCallCheck(this,e),this._stream=t,this._reader=null,this._loaded=0;var l=t.source;this._withCredentials=l.withCredentials||!1,this._readCapability=(0,r.createPromiseCapability)(),this._isStreamingSupported=!l.disableStream,"undefined"!=typeof AbortController&&(this._abortController=new AbortController),this._headers=o(this._stream.httpHeaders),this._headers.append("Range","bytes=".concat(n,"-").concat(s-1));var u=l.url;fetch(u,a(this._headers,this._withCredentials,this._abortController)).then((function(e){if(!(0,i.validateResponseStatus)(e.status))throw(0,i.createResponseStatusError)(e.status,u);c._readCapability.resolve(),c._reader=e.body.getReader()})).catch((function(e){if("AbortError"!==(null==e?void 0:e.name))throw e})),this.onProgress=null}var t;return _createClass(e,[{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}},{key:"read",value:(t=_asyncToGenerator(_regeneratorRuntime.mark((function e(){var t,n,r,i;return _regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._readCapability.promise;case 2:return e.next=4,this._reader.read();case 4:if(n=(t=e.sent).value,!(r=t.done)){e.next=9;break}return e.abrupt("return",{value:n,done:r});case 9:return this._loaded+=n.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded}),i=new Uint8Array(n).buffer,e.abrupt("return",{value:i,done:!1});case 13:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"cancel",value:function(e){this._reader&&this._reader.cancel(e),this._abortController&&this._abortController.abort()}}]),e}()}],__webpack_module_cache__={};function __w_pdfjs_require__(e){if(__webpack_module_cache__[e])return __webpack_module_cache__[e].exports;var t=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](t,t.exports,__w_pdfjs_require__),t.exports}return __w_pdfjs_require__(0)}()},module.exports=factory()},iNmH:function(e,t,n){var r=n("+Sw5");e.exports=function(e){if(Array.isArray(e))return r(e)}},kluZ:function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},kxHp:function(e,t,n){var r=n("AQPL");function i(t,n,a){return e.exports=i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=r(e,t);if(i){var a=Object.getOwnPropertyDescriptor(i,t);return a.get?a.get.call(n):a.value}},i(t,n,a||t)}e.exports=i},lP0w:function(e,t,n){"use strict";n.r(t),n.d(t,"DashboardModule",(function(){return nn}));var r=n("Yvf7"),i=n("7yBz"),a=n("Fk62"),o=n("CHlC"),s=n("yV2R"),c=(n("aNYv"),n("6CzD"),n("NthX"),n("yBJb")),l=n("hisu"),u=(n("bb6g"),n("Ub9n")),d=(n("GAcG"),n("6UlS"),n("HbWZ"),n("7pIA"),n("EYJY"),n("r7hm"),n("yhvv"),n("O6Zd"));n("ERl3"),n("FwwM"),n("aZf6"),n("cDOY"),n("alsF"),n("jV/k"),n("e6ST"),n("unWr"),n("7YCk"),n("XA6Z"),n("PxQI"),n("S5zL"),n("ccoi");var h,f=n("Y8if"),p=(n("RT4L"),n("Ax3q"),function(){var e=function e(){Object(l.a)(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=u.Sb({token:e,factory:function(t){return e.\u0275fac(t)}}),e}()),g=function(){function e(){Object(l.a)(this,e)}return Object(c.a)(e,[{key:"getNativeWindow",value:function(){return window}}]),e}(),m=function(){function e(){Object(l.a)(this,e)}return Object(c.a)(e,[{key:"getNativeDocument",value:function(){return document}}]),e}(),v=[g,m],b=function(e){return e[e.HTTP=1]="HTTP",e[e.HTTPS=2]="HTTPS",e[e.AUTO=3]="AUTO",e}({}),_=new u.v("angular-google-maps LAZY_MAPS_API_CONFIG"),y=function(){var e=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0;return Object(l.a)(this,n),(e=t.call(this)).localeId=o,e._SCRIPT_ID="agmGoogleMapsApiScript",e.callbackName="agmLazyMapsAPILoader",e._config=r||{},e._windowRef=i,e._documentRef=a,e}return Object(c.a)(n,[{key:"load",value:function(){var e=this._windowRef.getNativeWindow();if(e.google&&e.google.maps)return Promise.resolve();if(this._scriptLoadingPromise)return this._scriptLoadingPromise;var t=this._documentRef.getNativeDocument().getElementById(this._SCRIPT_ID);if(t)return this._assignScriptLoadingPromise(t),this._scriptLoadingPromise;var n=this._documentRef.getNativeDocument().createElement("script");return n.type="text/javascript",n.async=!0,n.defer=!0,n.id=this._SCRIPT_ID,n.src=this._getScriptSrc(this.callbackName),this._assignScriptLoadingPromise(n),this._documentRef.getNativeDocument().body.appendChild(n),this._scriptLoadingPromise}},{key:"_assignScriptLoadingPromise",value:function(e){var t=this;this._scriptLoadingPromise=new Promise((function(n,r){t._windowRef.getNativeWindow()[t.callbackName]=function(){n()},e.onerror=function(e){r(e)}}))}},{key:"_getScriptSrc",value:function(e){var t;switch(this._config&&this._config.protocol||b.HTTPS){case b.AUTO:t="";break;case b.HTTP:t="http:";break;case b.HTTPS:t="https:"}var n=this._config.hostAndPath||"maps.googleapis.com/maps/api/js",r={v:this._config.apiVersion||"quarterly",callback:e,key:this._config.apiKey,client:this._config.clientId,channel:this._config.channel,libraries:this._config.libraries,region:this._config.region,language:this._config.language||"en-US"!==this.localeId?this.localeId:null},i=Object.keys(r).filter((function(e){return null!=r[e]})).filter((function(e){return!Array.isArray(r[e])||Array.isArray(r[e])&&r[e].length>0})).map((function(e){var t=r[e];return Array.isArray(t)?{key:e,value:t.join(",")}:{key:e,value:r[e]}})).map((function(e){return"".concat(e.key,"=").concat(e.value)})).join("&");return"".concat(t,"//").concat(n,"?").concat(i)}}]),n}(p);return e.\u0275fac=function(t){return new(t||e)(u.kc(_,8),u.kc(g),u.kc(m),u.kc(u.A))},e.\u0275prov=u.Sb({token:e,factory:function(t){return e.\u0275fac(t)}}),e}(),x=function(){var e=h=function(){function e(){Object(l.a)(this,e)}return Object(c.a)(e,null,[{key:"forRoot",value:function(e){return{ngModule:h,providers:[].concat(v,[{provide:p,useClass:y},{provide:_,useValue:e}])}}}]),e}();return e.\u0275mod=u.Ub({type:e}),e.\u0275inj=u.Tb({factory:function(t){return new(t||e)}}),e}(),C=n("zasx"),P=n("Jgk8"),k=n("ryy/"),w=function(){function e(e){this.pageTitleService=e}return e.prototype.ngOnInit=function(){this.pageTitleService.setTitle("Home")},e.\u0275fac=function(t){return new(t||e)(u.Wb(P.a))},e.\u0275cmp=u.Qb({type:e,selectors:[["ms-dashboard"]],hostVars:1,hostBindings:function(e,t){2&e&&u.Vc("@fadeInAnimation",!0)},decls:2,vars:0,template:function(e,t){1&e&&(u.cc(0,"h5"),u.Yc(1,"SAAS Dashboard"),u.bc())},styles:[""],encapsulation:2,data:{animation:[k.a]}}),e}(),A=n("hyqU"),S=n("Plpn"),M=n("nOwt"),O=n("CHZA"),L=n("tvSt"),T=n("eeLf"),R=n("0sao"),I=n("qQg5"),E=n("mcTK"),F=n("FBrc"),N=n("CsWY"),D=n("N2ZZ"),U=n("8VHZ"),z=n("1H8n"),W=n("hqWh"),V=n("N9e7"),j=n("vv9m");function H(e,t){if(1&e){var n=u.dc();u.cc(0,"mat-icon",12),u.oc("click",(function(){u.Mc(n);var e=u.sc(2);return e.search.length>0&&(e.search=""),e.getPublishers()})),u.Yc(1),u.bc()}if(2&e){var r=u.sc(2);u.Jb(1),u.ad(" ",r.search.length>0?"close":"search","")}}function B(e,t){if(1&e){var n=u.dc();u.cc(0,"mat-card",13),u.oc("click",(function(){u.Mc(n);var e=t.$implicit;return u.sc(2).navigateToExtensionPage(e.webLink)})),u.cc(1,"div",14),u.Xb(2,"img",15),u.bc(),u.cc(3,"div",16),u.cc(4,"h6",17),u.tc(5,"titlecase"),u.Yc(6),u.tc(7,"titlecase"),u.tc(8,"slice"),u.bc(),u.bc(),u.bc()}if(2&e){var r=t.$implicit;u.Jb(2),u.Ac("src",null==r.url?"assets/img/doranto-img/colorlogo.png":r.url,u.Oc),u.Jb(2),u.Ac("matTooltip",u.uc(5,4,r.companyName.length>15?r.companyName:"")),u.zc("matTooltipPos(ition","after"),u.Jb(2),u.ad(" ",u.uc(7,6,r.companyName.length>15?u.wc(8,8,r.companyName,0,15)+"..":r.companyName)," ")}}function G(e,t){1&e&&(u.cc(0,"p"),u.Yc(1,"No partner sites available"),u.bc())}var q=function(e,t){return{itemsPerPage:20,currentPage:e,totalItems:t}};function Y(e,t){if(1&e){var n=u.dc();u.cc(0,"div",1),u.cc(1,"div",2),u.cc(2,"div",3),u.cc(3,"h4"),u.Yc(4,"Our Partner Sites"),u.bc(),u.cc(5,"span"),u.Yc(6,"Visit our partner sites and earn credit points on watching your preferred advertisements!"),u.bc(),u.Xb(7,"br"),u.cc(8,"div",4),u.cc(9,"mat-form-field",5),u.cc(10,"input",6),u.oc("ngModelChange",(function(e){return u.Mc(n),u.sc().search=e}))("keyup",(function(e){return u.Mc(n),u.sc().searchPartner(e)})),u.bc(),u.Wc(11,H,2,1,"mat-icon",7),u.bc(),u.bc(),u.bc(),u.bc(),u.cc(12,"div",8),u.Wc(13,B,9,12,"mat-card",9),u.tc(14,"paginate"),u.Wc(15,G,2,0,"p",10),u.bc(),u.cc(16,"pagination-controls",11),u.oc("pageChange",(function(e){return u.Mc(n),u.sc().pageChanged(e)}))("pageBoundsCorrection",(function(e){return u.Mc(n),u.sc().pageChanged(e)})),u.bc(),u.bc()}if(2&e){var r=u.sc();u.Jb(10),u.zc("ngModel",r.search),u.Jb(1),u.zc("ngIf",r.ifResp),u.Jb(2),u.zc("ngForOf",u.vc(14,4,r.partnerList,u.Ec(7,q,r.pageNo,r.total))),u.Jb(2),u.zc("ngIf",0==r.total)}}function J(e,t){if(1&e&&(u.cc(0,"div",2),u.cc(1,"h3"),u.Yc(2),u.bc(),u.cc(3,"p"),u.Yc(4,"Seems you currently do not have any credit points. "),u.Xb(5,"br"),u.Yc(6," Visit our partner sites to earn credit points whenever you see a Dorado ad!"),u.bc(),u.bc()),2&e){var n=u.sc(2);u.Jb(2),u.ad("Hi ",n.getName(),"!")}}function X(e,t){1&e&&u.Xb(0,"div",21)}function Q(e,t){1&e&&(u.cc(0,"h4",25),u.Yc(1,"View all"),u.bc())}var K=function(){return["/dashboard/partner"]};function Z(e,t){if(1&e&&(u.cc(0,"div",22),u.cc(1,"h4"),u.Yc(2,"Partner Sites"),u.bc(),u.cc(3,"a",23),u.Wc(4,Q,2,0,"h4",24),u.bc(),u.bc()),2&e){var n=u.sc(2);u.Jb(3),u.zc("routerLink",u.Cc(2,K)),u.Jb(1),u.zc("ngIf",n.partnerList.length>6)}}function $(e,t){if(1&e&&(u.cc(0,"div"),u.cc(1,"h4"),u.Yc(2,"Partner Sites"),u.bc(),u.cc(3,"div",26),u.cc(4,"h4",27),u.Yc(5),u.bc(),u.cc(6,"a",23),u.cc(7,"h4",25),u.Yc(8,"View all"),u.bc(),u.bc(),u.bc(),u.bc()),2&e){var n=u.sc(2);u.Jb(5),u.ad(" ",n.showSubText," "),u.Jb(1),u.zc("routerLink",u.Cc(2,K))}}function ee(e,t){if(1&e){var n=u.dc();u.cc(0,"mat-card",13),u.oc("click",(function(){u.Mc(n);var e=t.$implicit;return u.sc(2).navigateToExtensionPage(e.webLink)})),u.cc(1,"div",28),u.Xb(2,"img",15),u.bc(),u.cc(3,"div",16),u.cc(4,"h6",29),u.tc(5,"titlecase"),u.Yc(6),u.tc(7,"titlecase"),u.tc(8,"slice"),u.bc(),u.bc(),u.bc()}if(2&e){var r=t.$implicit;u.Jb(2),u.Ac("src",null==r.url?"assets/img/doranto-img/colorlogo.png":r.url,u.Oc),u.Jb(2),u.Ac("matTooltip",u.uc(5,4,r.companyName.length>15?r.companyName:"")),u.zc("matTooltipPosition","after"),u.Jb(2),u.ad(" ",u.uc(7,6,r.companyName.length>15?u.wc(8,8,r.companyName,0,15)+"..":r.companyName)," ")}}function te(e,t){if(1&e&&(u.cc(0,"div",1),u.Wc(1,J,7,1,"div",18),u.Wc(2,X,1,0,"div",19),u.cc(3,"div",2),u.Wc(4,Z,5,3,"div",20),u.Wc(5,$,9,3,"div",10),u.bc(),u.cc(6,"div",8),u.Wc(7,ee,9,12,"mat-card",9),u.tc(8,"paginate"),u.bc(),u.bc()),2&e){var n=u.sc();u.Jb(1),u.zc("ngIf",!0===n.displayHeader),u.Jb(1),u.zc("ngIf",!0===n.displayHeader||n.showSubText),u.Jb(2),u.zc("ngIf",!n.showSubText),u.Jb(1),u.zc("ngIf",n.showSubText),u.Jb(2),u.zc("ngForOf",u.vc(8,5,n.partnerList,u.Ec(8,q,n.pageNo,n.total)))}}var ne=function(){function e(e,t,n,r){this.dialog=e,this.authService=t,this.http=n,this.commonService=r,this.displayHeader=!0,this.partnerList=[],this.pageNo=1,this.limit=24,this.search="",this.ifResp=!1}return e.prototype.ngOnInit=function(){this.getPublishers(),this.getLocation(),this.positionDenied("firstCall")},e.prototype.getPublishers=function(){var e=this,t={pageNo:this.pageNo,search:this.search.trim(),limit:this.limit};this.authService.getCustomerPartners(t).subscribe((function(t){t&&(e.partnerList=t.publishers,e.completePartnerList||e.partnerList.length>6&&(e.partnerList.length=6),e.total=t.numOfResults,e.ifResp=!0)}),(function(e){console.log(e)}))},e.prototype.searchPartner=function(e){this.getPublishers()},e.prototype.navigateToExtensionPage=function(e){window.open(e+"?myuser="+localStorage.getItem("doclid"),"_blank")},e.prototype.textChanged=function(e){},e.prototype.pageChanged=function(e){this.pageNo=e,this.getPublishers()},e.prototype.getName=function(){return JSON.parse(localStorage.getItem("endUser")).firstName},e.prototype.getLocation=function(){navigator.geolocation?navigator.geolocation.getCurrentPosition(this.showPosition.bind(this),this.positionDenied.bind(this)):(this.positionDenied("test"),console.log("Geolocation is not supported by this browser."))},e.prototype.positionDenied=function(e){var t=this;this.commonService.userLocation||this.http.get("https://api.ipify.org?format=json").subscribe((function(e){t.authService.getUserLocation({ipDetails:e.ip}).subscribe((function(e){t.commonService.userLocation=!0}))}))},e.prototype.showPosition=function(e){var t=this;this.longitude=e.coords.longitude,this.latitude=e.coords.latitude,this.authService.getGeoLocation({longitude:this.longitude,latitude:this.latitude}).subscribe((function(e){}),(function(e){e.error.data&&(e.error.data.auth||t.authService.userLogout())}))},e.\u0275fac=function(t){return new(t||e)(u.Wb(R.b),u.Wb(S.a),u.Wb(F.a),u.Wb(T.a))},e.\u0275cmp=u.Qb({type:e,selectors:[["ms-partner-site"]],inputs:{displayHeader:"displayHeader",completePartnerList:"completePartnerList",showSubText:"showSubText"},decls:2,vars:2,consts:[["class","partner-list-wrapper main-section",4,"ngIf"],[1,"partner-list-wrapper","main-section"],[1,"gene-welcome-note","pad-wrap"],["fxLayout","column"],["fxFlex.xs","100","fxFlex.sm","100","fxFlex.md","50","fxFlex.lg","60","fxFlex.xl","60",1,"search-partner-list"],["appearance","outline",1,"full--width","search--input"],["matInput","","placeholder","Search by Partner link or name",3,"ngModel","ngModelChange","keyup"],["class","cursor","matSuffix","",3,"click",4,"ngIf"],["fxLayout","row wrap","fxLayoutAlign","start",1,"user-list-wrapper"],["fxFlex.xs","43","fxFlex.sm","17.24","fxFlex.md","17.24","fxFlex.lg","14.24","fxFlex.xl","14.24","class","company-card",3,"click",4,"ngFor","ngForOf"],[4,"ngIf"],["maxSize","9","directionLinks","true","autoHide","true","responsive","true","previousLabel","Previous","nextLabel","Next","screenReaderPaginationLabel","Pagination","screenReaderPageLabel","page","screenReaderCurrentLabel","You're on page",3,"pageChange","pageBoundsCorrection"],["matSuffix","",1,"cursor",3,"click"],["fxFlex.xs","43","fxFlex.sm","17.24","fxFlex.md","17.24","fxFlex.lg","14.24","fxFlex.xl","14.24",1,"company-card",3,"click"],["fxLayout","row","fxLayoutAlign","center center","ngClass","company-img-cards_xs",1,"company-img-cards"],["alt","partner list image",1,"img-responsive","img-circle",3,"src"],[1,"text"],[3,"matTooltipPos(ition","matTooltip"],["class","gene-welcome-note pad-wrap",4,"ngIf"],["class","horizontal-line",4,"ngIf"],["fxLayout","row","fxLayout.xs","column",4,"ngIf"],[1,"horizontal-line"],["fxLayout","row","fxLayout.xs","column"],[3,"routerLink"],["class","view-all",4,"ngIf"],[1,"view-all"],["fxLayout","row","fxLayout.xs","column","fxLayout.sm","column"],[1,"subtext"],["fxLayout","row","fxLayoutAlign","center center","ngClass","company-img-cards","ngClass","company-img-cards_xs"],[3,"matTooltipPosition","matTooltip"]],template:function(e,t){1&e&&(u.Wc(0,Y,17,10,"div",0),u.Wc(1,te,9,11,"div",0)),2&e&&(u.zc("ngIf",!0===t.completePartnerList),u.Jb(1),u.zc("ngIf",!1===t.completePartnerList))},directives:[r.n,I.c,I.a,N.b,D.b,U.d,U.r,U.u,I.b,r.m,z.c,W.a,N.g,V.a,r.l,E.a,j.a,a.i],pipes:[z.b,r.x,r.w],styles:[".img-circle[_ngcontent-%COMP%]{border-radius:0;min-width:100%}.main-section[_ngcontent-%COMP%]{background:#fff9dd;padding:.8rem;border-radius:4px}.main-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:26px!important;font-weight:500;font-stretch:normal;font-style:normal;line-height:normal;letter-spacing:normal;text-align:left;color:#333;margin-right:auto}.main-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-weight:300;margin-bottom:16px;font-size:18px}.main-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}.main-section[_ngcontent-%COMP%]   .horizontal-line[_ngcontent-%COMP%]{border-radius:4px;background-color:#f4ddac;height:1px;margin:0 1rem}.main-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:16px;color:#333;margin-top:10px;margin-right:auto}.main-section[_ngcontent-%COMP%]   .view-all[_ngcontent-%COMP%], .main-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-weight:500;font-stretch:normal;font-style:normal;line-height:normal;letter-spacing:normal;text-align:left}.main-section[_ngcontent-%COMP%]   .view-all[_ngcontent-%COMP%]{font-size:14px;color:#00b54f;margin-right:0!important;cursor:pointer}.main-section[_ngcontent-%COMP%]   .subtext[_ngcontent-%COMP%]{font-size:14px;font-weight:400;font-stretch:normal;font-style:normal;line-height:normal;letter-spacing:normal;text-align:left;color:#333}.main-section[_ngcontent-%COMP%]   .user-list-wrapper[_ngcontent-%COMP%]{padding:10px;justify-content:center!important}.main-section[_ngcontent-%COMP%]   .pad-wrap[_ngcontent-%COMP%]{padding-left:1.5rem!important;padding-right:1rem!important}.text[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-family:Roboto;font-size:14px;font-weight:400;font-stretch:normal;font-style:normal;line-height:1.29;letter-spacing:normal;text-align:center;color:#333;margin-top:0;margin-right:auto;margin-bottom:0}.text[_ngcontent-%COMP%]{background:#f9f9f9;padding:1rem 0}.card-section[_ngcontent-%COMP%]{display:flex}.company-card[_ngcontent-%COMP%]{height:-webkit-fit-content;height:-moz-fit-content;height:fit-content;cursor:pointer}.company-card[_ngcontent-%COMP%], .company-card_xs[_ngcontent-%COMP%]{border-radius:4px;padding:0;background-color:#fff;text-align:center;margin:.7rem}.company-card_xs[_ngcontent-%COMP%]{height:80px}.company-card_sm[_ngcontent-%COMP%]{height:85px;border-radius:4px;padding:0;background-color:#fff;text-align:center;margin:.7rem}.company-img-cards[_ngcontent-%COMP%], .company-img-cards_xs[_ngcontent-%COMP%]{margin:1vw auto!important;width:100px;height:100px;overflow:hidden}  .search-partner-list .mat-form-field-outline-end,   .search-partner-list .mat-form-field-outline-gap,   .search-partner-list .mat-form-field-outline-start{background:#fff!important}"]}),e}(),re=n("1xOk"),ie=function(){function e(){}return e.prototype.transform=function(e){var t="";return e.forEach((function(e){t+=" "+e+"\n"})),t},e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=u.Vb({name:"tooltipListPipe",type:e,pure:!0}),e}();function ae(e,t){if(1&e){var n=u.dc();u.cc(0,"div",7),u.oc("click",(function(){return u.Mc(n),u.sc().morePreference("more")})),u.Yc(1),u.bc()}if(2&e){var r=u.sc();u.Jb(1),u.ad("+ ",r.preferenceData2.length-6," More")}}function oe(e,t){if(1&e){var n=u.dc();u.cc(0,"div",7),u.oc("click",(function(){return u.Mc(n),u.sc().morePreference("less")})),u.Yc(1,"less"),u.bc()}}function se(e,t){if(1&e&&(u.cc(0,"mat-card",8),u.cc(1,"div",9),u.cc(2,"div",10),u.Xb(3,"img",11),u.cc(4,"div",12),u.cc(5,"h6",13),u.tc(6,"tooltipListPipe"),u.Yc(7),u.bc(),u.bc(),u.bc(),u.cc(8,"h4"),u.Yc(9),u.bc(),u.bc(),u.bc()),2&e){var n=t.$implicit,r=u.sc();u.Jb(3),u.Ac("src",r.img_url,u.Oc),u.Jb(2),u.zc("matTooltip",u.uc(6,4,n.subData)),u.Jb(2),u.ad(" ",n.subData?n.subData.length:"",""),u.Jb(2),u.ad("",n.mainPreference," ")}}var ce=function(){function e(e,t){this.router=e,this.authService=t,this.more=!0,this.preferenceData=[],this.preferenceData2=[],this.adGridList=[{img_url:"assets/img/doranto-img/prederences-icon.png",title:"Fishing",count:"6",badge:"Popular",tootltiptext:"1) SUVs \n 2) Ford  \n 3) Chevy  \n 4) Toyota  \n 5) Nissan \n 6) Dodge"},{img_url:"assets/img/doranto-img/prederences-icon.png",title:"New Trucks",count:"8",badge:"Popular",tootltiptext:"1) SUVs \n 2) Ford  \n 3) Chevy  \n 4) Toyota  \n 5) Nissan \n 6) Dodge  \n 7) Truck accessories  \n 8) Service"},{img_url:"assets/img/doranto-img/prederences-icon.png",title:"Education",count:"5",badge:"",tootltiptext:"1) SUVs \n 2) Ford  \n 3) Chevy  \n 4) Toyota  \n 5) Nissan"},{img_url:"assets/img/doranto-img/prederences-icon.png",title:"Fitness",count:"9",badge:"Popular",tootltiptext:"1) SUVs \n 2) Ford  \n 3) Chevy  \n 4) Toyota  \n 5) Nissan \n 6) Dodge  \n 7) Truck accessories  \n 8) Service \n 9) Dodge"}]}return e.prototype.ngOnInit=function(){this.getCustomerPreference()},e.prototype.getMoreInformation=function(){return"Address : Home \n  Tel : Number"},e.prototype.navigateToAdList=function(){this.router.navigateByUrl("/dashboard/new-ad")},e.prototype.getCustomerPreference=function(){var e=this;this.authService.getCustomerPreference().subscribe((function(t){e.preferenceData2=[],e.preferenceData=[];var n=JSON.parse(JSON.stringify(t));e.preferenceData2=n,e.preferenceData=t,e.preferenceData.length>6&&(e.preferenceData.length=6),e.img_url="assets/img/doranto-img/prederences-icon.png",e.more=!0}))},e.prototype.morePreference=function(e){"more"==e?(this.preferenceData=[],this.preferenceData=this.preferenceData2,this.more=!1):this.getCustomerPreference()},e.\u0275fac=function(t){return new(t||e)(u.Wb(a.f),u.Wb(S.a))},e.\u0275cmp=u.Qb({type:e,selectors:[["ms-my-ad-preference"]],decls:11,vars:3,consts:[[1,"partner-list-wrapper","main-section"],[1,"gene-header-note","pad-wrap"],["class","totoaladcount",3,"click",4,"ngIf"],["fxLayout","row wrap","fxLayoutAlign","start","fxLayoutAlign.xs","center","fxLayoutAlign.sm","start",1,"user-list-wrapper"],["class","ad-cards",4,"ngFor","ngForOf"],["ngClass","manage-ad","ngClass.xs","manage-ad_xs"],["mat-raised-button","",1,"manage-button",3,"click"],[1,"totoaladcount",3,"click"],[1,"ad-cards"],[1,"prefe-div"],[1,"ad-img-cards"],["alt","partner list image",1,"img-responsive","img-circle",3,"src"],[1,"ad-count"],["matTooltipClass","tooltip-list","matTooltipPosition","right",1,"count",3,"matTooltip"]],template:function(e,t){1&e&&(u.cc(0,"div",0),u.cc(1,"div",1),u.cc(2,"h4"),u.Yc(3,"My Ad Preferences "),u.bc(),u.Wc(4,ae,2,1,"div",2),u.Wc(5,oe,2,0,"div",2),u.bc(),u.cc(6,"div",3),u.Wc(7,se,10,6,"mat-card",4),u.bc(),u.cc(8,"div",5),u.cc(9,"button",6),u.oc("click",(function(){return t.navigateToAdList()})),u.Yc(10,"Manage ad preferences"),u.bc(),u.bc(),u.bc()),2&e&&(u.Jb(4),u.zc("ngIf",t.more&&t.preferenceData2.length>6),u.Jb(1),u.zc("ngIf",!t.more),u.Jb(2),u.zc("ngForOf",t.preferenceData))},directives:[r.n,I.c,I.b,r.m,r.l,E.a,re.a,V.a,j.a],pipes:[ie],styles:['.main-section[_ngcontent-%COMP%]{padding:.8rem;border-radius:4px}.main-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:26px!important}.main-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .main-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-weight:500;font-stretch:normal;font-style:normal;line-height:normal;letter-spacing:normal;text-align:left;color:#333}.main-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:16px;margin-top:10px;margin-right:auto;cursor:pointer}.main-section[_ngcontent-%COMP%]   .gene-header-note[_ngcontent-%COMP%]{display:flex}.main-section[_ngcontent-%COMP%]   .totoaladcount[_ngcontent-%COMP%]{font-size:14px;font-weight:500;font-stretch:normal;font-style:normal;line-height:normal;letter-spacing:normal;text-align:right;color:#00b54f;margin-top:12px;cursor:pointer}.main-section[_ngcontent-%COMP%]   .img-circle[_ngcontent-%COMP%]{margin-right:auto}.main-section[_ngcontent-%COMP%]   .ad-cards[_ngcontent-%COMP%]{width:195px;height:102px;border-radius:4px;background-color:#fff;margin:.65rem;padding:0!important}.main-section[_ngcontent-%COMP%]   .ad-cards[_ngcontent-%COMP%]:hover{border:1px solid #00b54f}.main-section[_ngcontent-%COMP%]   .ad-img-cards[_ngcontent-%COMP%]{display:flex}.main-section[_ngcontent-%COMP%]   .ad-count[_ngcontent-%COMP%]{width:20px;height:20px;float:right;background:#00b54f;border-radius:100%}.main-section[_ngcontent-%COMP%]   .count[_ngcontent-%COMP%]{font-size:14px;font-weight:500;font-stretch:normal;font-style:normal;line-height:normal;letter-spacing:normal;text-align:center;color:#fff;margin-top:2px;cursor:pointer}.main-section[_ngcontent-%COMP%]   .manage-ad[_ngcontent-%COMP%]{float:right;margin-top:20px;margin-left:auto;margin-bottom:20px}.main-section[_ngcontent-%COMP%]   .manage-ad_xs[_ngcontent-%COMP%]{text-align:center;margin-top:20px;margin-left:auto;margin-bottom:20px}.main-section[_ngcontent-%COMP%]   .manage-button[_ngcontent-%COMP%]{font-size:15px;font-weight:400;height:45px;border-radius:4px;border:none!important;color:#fff!important;background:#00b54f!important;margin-right:15px}.main-section[_ngcontent-%COMP%]   .prefe-div[_ngcontent-%COMP%]{padding:.8rem 1rem .45rem}.img-circle[_ngcontent-%COMP%]{border-radius:0}.partner-card[_ngcontent-%COMP%]{padding:10px}.card-section[_ngcontent-%COMP%]{display:flex}  .mat-tooltip{font-size:13px;white-space:pre-line!important;color:#333!important;border-radius:4px;box-shadow:0 0 10px 0 rgba(27,28,31,.15);border:1px solid #ddd;background-color:#fff;width:100%!important;overflow:visible;position:relative}  .mat-tooltip.right{border-left:6px solid red;margin-left:5px}  .mat-tooltip.right:before{position:absolute;content:"";display:inline-block;background-color:red;-webkit-clip-path:polygon(50% 0,0 50%,50% 100%);clip-path:polygon(50% 0,0 50%,50% 100%);left:-12px;width:15px;height:15px;top:50%;transform:translateY(-50%)}.badge-div[_ngcontent-%COMP%]{width:66px;display:flex}.badge-div[_ngcontent-%COMP%], .popular-tag[_ngcontent-%COMP%]{background-color:#e7aa37}.popular-tag[_ngcontent-%COMP%]{display:inline-block;color:#fff;font-size:11px;padding:0 5px;position:relative;margin-top:3px;margin-right:3px}.triangle[_ngcontent-%COMP%]{width:0;height:0;border-top:10px solid transparent;border-right:16px solid #fff;border-bottom:10px solid transparent;margin-top:0}.tooltip-list[_ngcontent-%COMP%]{white-space:pre}']}),e}();function le(e,t){if(1&e&&(u.cc(0,"h2"),u.Yc(1),u.bc()),2&e){var n=u.sc();u.Jb(1),u.Zc(0==n.adCount?"-":n.returnFormatednumber(n.adCount,!1))}}function ue(e,t){if(1&e&&(u.cc(0,"h2"),u.Yc(1),u.bc()),2&e){var n=u.sc();u.Jb(1),u.Zc(0==n.relevantAds?"-":n.returnFormatednumber(n.relevantAds,!1))}}function de(e,t){if(1&e&&(u.cc(0,"h2"),u.Yc(1,"$ "),u.cc(2,"strong"),u.Yc(3),u.bc(),u.bc()),2&e){var n=u.sc();u.Jb(3),u.Zc(0==n.cashReedem?"-":n.returnFormatednumber(n.cashReedem,!0))}}function he(e,t){if(1&e&&(u.cc(0,"h2"),u.Yc(1),u.bc()),2&e){var n=u.sc();u.Jb(1),u.Zc(0==n.creditEarned?"-":n.returnFormatednumber(1e3*n.creditEarned,!1))}}function fe(e,t){if(1&e&&(u.cc(0,"h2"),u.Yc(1,"$ "),u.cc(2,"strong"),u.Yc(3),u.bc(),u.bc()),2&e){var n=u.sc();u.Jb(3),u.Zc(0==n.creditEarned?"-":n.returnFormatednumber(n.cashEquivalent,!0))}}function pe(e,t){if(1&e){var n=u.dc();u.cc(0,"button",23),u.oc("click",(function(){return u.Mc(n),u.sc().handlePayment()})),u.Yc(1,"Redeem Credits"),u.bc()}}var ge=function(){function e(e,t,n,r,i){this.pageTitleService=e,this.commonService=t,this.authService=n,this.dialog=r,this.loader=i,this.creditEarned=0,this.cashReedem=0,this.creditMessage=!1,this.relevantAds=0,this.displayHeader=!1,this.completePartnerList=!1}return e.prototype.ngOnInit=function(){this.pageTitleService.setTitle("CRM"),this.getAds(),this.getCustomerPreference(),this.commonService.checkIfPreferenceAvailable(this,"dashboard",!1)},e.prototype.getAds=function(){var e=this;this.authService.getAdsStatForCustomer().subscribe((function(t){e.adCount=t.adCount,e.creditEarned=t.creditEarned.toFixed(3),e.cashReedem=t.cashReedem.toFixed(2),e.cashEquivalent=t.creditEarned.toFixed(2),e.relevantAds=t.relevantAds?t.relevantAds:0,e.displayHeader=t.creditEarned<=0,e.paypalEmail=!t.paypalEmail||null==t.paypalEmail||""==t.paypalEmail}),(function(t){t.error.data&&(t.error.data.auth||e.authService.userLogout())}))},e.prototype.getCustomerPreference=function(){var e=this;this.authService.getCustomerPreference().subscribe((function(e){}),(function(t){t.error.data&&(t.error.data.auth||e.authService.userLogout())}))},e.prototype.handlePayment=function(){var e=this;this.loader.open(),this.authService.handleRequest().subscribe((function(t){e.loader.close(),t.status||e.openErrorDialog(t.message,A.a.popUpHeaders.ALERT,!0),t.status&&e.openSuccessDialog(t.amountCredited,t.paypalFees)}),(function(t){t.error.data&&(t.error.data.auth||e.authService.userLogout())}))},e.prototype.openErrorDialog=function(e,t,n){var r=this;this.dialogRefLocation=this.dialog.open(M.a,{panelClass:"dialog-message",data:{msg:e,headerMsg:t}}),this.dialogRefLocation.afterClosed().subscribe((function(e){n&&r.getAds()}))},e.prototype.openSuccessDialog=function(e,t){var n=this;this.dialogRefPaypalSuccess=this.dialog.open(O.a,{panelClass:"dialog-message",data:{grossAmount:e,paypalFee:t,netAmount:parseFloat(e)+parseFloat(t)}}),this.dialogRefPaypalSuccess.afterClosed().subscribe((function(e){n.getAds()}))},e.prototype.openDialogForDashboard=function(){this.openErrorDialog("You have not added any category to your preferences. Please select at least one category to proceed further.",A.a.popUpHeaders.ALERT,!1)},e.prototype.returnFormatednumber=function(e,t){return t?Object(r.B)(Number(e),"en-US","1.2-2"):Object(r.B)(Number(e),"en-US","1.0-0")},e.\u0275fac=function(t){return new(t||e)(u.Wb(P.a),u.Wb(T.a),u.Wb(S.a),u.Wb(R.b),u.Wb(L.a))},e.\u0275cmp=u.Qb({type:e,selectors:[["ms-crm"]],decls:60,vars:8,consts:[[1,"gene-welcome-note"],["fxLayout","row","fxLayout.xs","column","fxLayout.sm","column","fxLayoutGap.xs","1%","fxLayoutGap.sm","1%"],["fxFlex.xs","100","fxFlex.sm","100","fxFlex","100","fxFlex.xl","100",1,"head--two-section"],["fxLayout","row","fxLayoutAlign","start center","fxLayoutGap.sm","20px","fxLayout.xs","column","fxLayoutGap","10px","fxLayoutAlign.xs","start start",1,"head--two"],["fxFlex.xs","100","fxFlex.sm","20","fxFlex.md","20","fxFlex.lg","20","fxFlex.xl","20",1,"box-section"],["fxLayout","row","fxLayoutAlign","start center",1,"ad--box"],["fxLayout","row","fxLayoutAlign","start center"],["fxLayout","row","fxLayoutAlign","center center",1,"round","two"],["src","/assets/img/doranto-img/html-img/relevant-ads-seen1.png","alt","","width","33"],[4,"ngIf"],["fxLayout","row","fxLayoutAlign","center center",1,"round",2,"border","solid 1px #13a3ce"],["src","assets/img/doranto-img/credit-redeemable.png","alt","","width","23"],["fxLayout","row","fxLayoutAlign","center center",1,"round","four"],["src","assets/img/doranto-img/html-img/CreditEarned-5Icon.png","alt","","width","23"],["fxLayout","row","fxLayoutAlign","center center",1,"round","three"],["src","assets/img/doranto-img/html-img/credits-earned1.png","alt","","width","23"],[1,"redeem-button","head--two"],["mat-raised-button","","class","manage-button",3,"click",4,"ngIf"],["fxShow.xs","","fxShow.sm",""],["fxLayout","row wrap","fxLayoutAlign","start stretch"],["fxFlex.sm","100","fxFlex.xs","100","fxFlex","100",3,"displayHeader","completePartnerList"],["fxLayout","row","fxLayoutAlign","start stretch"],["fxFlex.sm","100","fxFlex.xs","100","fxFlex","100",1,"ad-preference-section"],["mat-raised-button","",1,"manage-button",3,"click"]],template:function(e,t){1&e&&(u.cc(0,"section"),u.cc(1,"div",0),u.cc(2,"h2"),u.Yc(3,"Dashboard"),u.bc(),u.bc(),u.cc(4,"div",1),u.cc(5,"div",2),u.cc(6,"div",3),u.cc(7,"div",4),u.cc(8,"div",5),u.cc(9,"div",6),u.cc(10,"div",7),u.Xb(11,"img",8),u.bc(),u.cc(12,"div"),u.Wc(13,le,2,1,"h2",9),u.cc(14,"h5"),u.Yc(15,"Total Relevant Ads Seen"),u.bc(),u.bc(),u.bc(),u.bc(),u.bc(),u.cc(16,"div",4),u.cc(17,"div",5),u.cc(18,"div",6),u.cc(19,"div",7),u.Xb(20,"img",8),u.bc(),u.cc(21,"div"),u.Wc(22,ue,2,1,"h2",9),u.cc(23,"h5"),u.Yc(24,"Relevant Ads Seen Since Last Redemption"),u.bc(),u.bc(),u.bc(),u.bc(),u.bc(),u.cc(25,"div",4),u.cc(26,"div",5),u.cc(27,"div",6),u.cc(28,"div",10),u.Xb(29,"img",11),u.bc(),u.cc(30,"div"),u.Wc(31,de,4,1,"h2",9),u.cc(32,"h5"),u.Yc(33,"Cash Redeemed"),u.bc(),u.bc(),u.bc(),u.bc(),u.bc(),u.cc(34,"div",4),u.cc(35,"div",5),u.cc(36,"div",6),u.cc(37,"div",12),u.Xb(38,"img",13),u.bc(),u.cc(39,"div"),u.Wc(40,he,2,1,"h2",9),u.cc(41,"h5"),u.Yc(42,"Credit Earned"),u.bc(),u.bc(),u.bc(),u.bc(),u.bc(),u.cc(43,"div",4),u.cc(44,"div",5),u.cc(45,"div",6),u.cc(46,"div",14),u.Xb(47,"img",15),u.bc(),u.cc(48,"div"),u.Wc(49,fe,4,1,"h2",9),u.cc(50,"h5"),u.Yc(51,"Cash Equivalent"),u.bc(),u.bc(),u.bc(),u.bc(),u.bc(),u.bc(),u.cc(52,"div",16),u.Wc(53,pe,2,0,"button",17),u.bc(),u.bc(),u.Xb(54,"br",18),u.bc(),u.cc(55,"div",19),u.Xb(56,"ms-partner-site",20),u.bc(),u.Xb(57,"br"),u.cc(58,"div",21),u.Xb(59,"ms-my-ad-preference",22),u.bc(),u.bc()),2&e&&(u.Jb(13),u.zc("ngIf",0!=t.adCount),u.Jb(9),u.zc("ngIf",0!=t.relevantAds),u.Jb(9),u.zc("ngIf",0!=t.cashReedem),u.Jb(9),u.zc("ngIf",0!=t.creditEarned),u.Jb(9),u.zc("ngIf",0!=t.creditEarned),u.Jb(4),u.zc("ngIf",!t.paypalEmail),u.Jb(3),u.zc("displayHeader",t.displayHeader)("completePartnerList",t.completePartnerList))},directives:[I.c,I.d,I.a,I.b,r.n,E.b,ne,ce,re.a],styles:["h2[_ngcontent-%COMP%]{font-weight:300;margin-bottom:16px;font-size:18px}.head--two[_ngcontent-%COMP%]{margin:0 0 30px}.head--two[_ngcontent-%COMP%]   .box-section[_ngcontent-%COMP%]{border:1px solid #ddd}.head--two[_ngcontent-%COMP%]   .ad--box[_ngcontent-%COMP%]{padding:10px;border-radius:4px;background-color:#fff;height:7rem}.head--two[_ngcontent-%COMP%]   .ad--box[_ngcontent-%COMP%]   .round[_ngcontent-%COMP%]{border-radius:50%;padding:5px;border:1px solid #ab6eff;background-color:#fff;width:45px;height:45px;margin-right:10px;flex-shrink:0}.head--two[_ngcontent-%COMP%]   .ad--box[_ngcontent-%COMP%]   .round.two[_ngcontent-%COMP%]{border-color:#fcab2e}.head--two[_ngcontent-%COMP%]   .ad--box[_ngcontent-%COMP%]   .round.three[_ngcontent-%COMP%]{border-color:#00b54f}.head--two[_ngcontent-%COMP%]   .ad--box[_ngcontent-%COMP%]   .round.four[_ngcontent-%COMP%]{border-color:#850eb1}.head--two[_ngcontent-%COMP%]   .ad--box[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:31px;font-weight:700;color:#333;margin-bottom:0}.head--two[_ngcontent-%COMP%]   .ad--box[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:13px;font-weight:500;color:#666;margin:0;min-height:2.1rem}.head--two[_ngcontent-%COMP%]   .ad--box[_ngcontent-%COMP%]   .month[_ngcontent-%COMP%]{font-size:14px;font-weight:400;font-stretch:normal;font-style:normal;line-height:normal;letter-spacing:normal;text-align:left;color:#999;margin-bottom:15px;margin-top:12px}.manage-button[_ngcontent-%COMP%]{font-size:15px;font-weight:400;height:45px;border-radius:4px;border:none!important;color:#fff!important;background:#00b54f!important;margin-right:0}.ad-preference-section[_ngcontent-%COMP%]{background:#fff9dd}@media only screen and (max-width:599px){.head--two-section[_ngcontent-%COMP%], .head--two[_ngcontent-%COMP%]   .box-section[_ngcontent-%COMP%]{width:100%!important}.head--two[_ngcontent-%COMP%]   .ad--box[_ngcontent-%COMP%]{padding:10px 15px}.head--two[_ngcontent-%COMP%]   .ad--box[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:25px}.head--two[_ngcontent-%COMP%]   .ad--box[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:18px}.head--two[_ngcontent-%COMP%]   .ad--box[_ngcontent-%COMP%]   .round[_ngcontent-%COMP%]{width:50px;height:50px;padding:10px}}@media only screen and (min-width:600px) and (max-width:979px){.head--two[_ngcontent-%COMP%]   .ad--box[_ngcontent-%COMP%]{padding:8px}.head--two[_ngcontent-%COMP%]   .ad--box[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:22px}.head--two[_ngcontent-%COMP%]   .ad--box[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:9px;min-height:0}.head--two[_ngcontent-%COMP%]   .ad--box[_ngcontent-%COMP%]   .round[_ngcontent-%COMP%]{border-radius:50%;padding:5px;border:1px solid #ab6eff;background-color:#fff;width:40px;height:40px;margin-right:10px;flex-shrink:0}}@media only screen and (min-width:980px) and (max-width:1279px){.head--two[_ngcontent-%COMP%]   .ad--box[_ngcontent-%COMP%]{padding:8px}.head--two[_ngcontent-%COMP%]   .ad--box[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:25px}.head--two[_ngcontent-%COMP%]   .ad--box[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:10px;min-height:0}.head--two[_ngcontent-%COMP%]   .ad--box[_ngcontent-%COMP%]   .round[_ngcontent-%COMP%]{border-radius:50%;padding:5px;border:1px solid #ab6eff;background-color:#fff;width:40px;height:40px;margin-right:10px;flex-shrink:0}}.redeem-button[_ngcontent-%COMP%]{text-align:right}"]}),e}(),me=n("YLls"),ve=function(){function e(e,t,n){this.dialogRef=e,this.data=t,this.dialog=n}return e.prototype.ngOnInit=function(){},e.prototype.openWebLink=function(){},e.\u0275fac=function(t){return new(t||e)(u.Wb(R.f),u.Wb(R.a),u.Wb(R.b))},e.\u0275cmp=u.Qb({type:e,selectors:[["ms-dialog-no-category-selected"]],decls:9,vars:1,consts:[[1,"mat--card"],[1,"dialog-body"],["align","right"],["mat-button","",1,"cancel-btn",3,"disableRipple","click"],["mat-raised-button","",1,"save-btn",3,"click"]],template:function(e,t){1&e&&(u.cc(0,"div",0),u.cc(1,"mat-dialog-content",1),u.cc(2,"p"),u.Yc(3,"You have not added any category to your preferences. Please select at least one category to proceed further"),u.bc(),u.bc(),u.cc(4,"mat-dialog-actions",2),u.cc(5,"button",3),u.oc("click",(function(){return t.dialogRef.close()})),u.Yc(6,"Cancel"),u.bc(),u.cc(7,"button",4),u.oc("click",(function(){return t.dialogRef.close()})),u.Yc(8,"Ok"),u.bc(),u.bc(),u.bc()),2&e&&(u.Jb(5),u.zc("disableRipple",!0))},directives:[R.d,R.c,re.a],styles:[".mat--card[_ngcontent-%COMP%]{padding:1.5rem!important}.mat--card[_ngcontent-%COMP%]   .dialog-header[_ngcontent-%COMP%]{padding-bottom:5px!important;border-bottom:1px solid #dee2e6;border-top-left-radius:calc(.25rem - 1px);border-top-right-radius:calc(.25rem - 1px)}.mat--card[_ngcontent-%COMP%]   .save-btn[_ngcontent-%COMP%]{border-radius:6px;background-color:#00b54f;margin-left:20px}.mat--card[_ngcontent-%COMP%]   .cancel-btn[_ngcontent-%COMP%], .mat--card[_ngcontent-%COMP%]   .save-btn[_ngcontent-%COMP%]{font-size:14px!important;height:42px!important}.mat--card[_ngcontent-%COMP%]   .cancel-btn[_ngcontent-%COMP%]{border-radius:6px;border:1px solid #00b54f!important;background-color:transparent!important;color:#00b54f!important;box-shadow:none!important}.mat--card[_ngcontent-%COMP%]   .mat-dialog-actions[_ngcontent-%COMP%]{box-shadow:none!important;background-attachment:#fff}  .mat-button-focus-overlay{display:none}"]}),e}(),be=n("jHnc"),_e=n("1rLY"),ye=n("SUeJ"),xe=n("wXtk"),Ce=function(){function e(){this.isChecked=!0}return e.prototype.ngOnInit=function(){},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=u.Qb({type:e,selectors:[["ms-ad-blocker"]],decls:15,vars:0,consts:[[1,"blocker-card"],[1,"user-list-wrap"],["fxLayout","column"],["fxFlex","100","fxLayout","row","fxLayoutGap","5%",1,"switch-section"],["ngClass","dorado-text","ngClass.sm","dorado-text_sm","fxFlex","71","fxFlex.xs","80","fxFlex.sm","87"],["fxHide.xs","","fxFlex","5","fxHide.sm",""],["fxFlex","24","fxFlex.xs","17","fxFlex.sm","10",1,"onoffswitch"],["type","checkbox","name","onoffswitch1","id","myonoffswitch1","tabindex","0","checked","",1,"onoffswitch-checkbox"],["for","myonoffswitch1",1,"onoffswitch-label"],[1,"onoffswitch-inner"],[1,"onoffswitch-switch"]],template:function(e,t){1&e&&(u.cc(0,"mat-card",0),u.cc(1,"div",1),u.cc(2,"div",2),u.cc(3,"h3"),u.Yc(4,"Ad blocker switch"),u.bc(),u.Xb(5,"mat-divider"),u.cc(6,"div",3),u.cc(7,"h5",4),u.Yc(8,"Dorado Exchange ad blocker on your system is ON"),u.bc(),u.Xb(9,"div",5),u.cc(10,"div",6),u.Xb(11,"input",7),u.cc(12,"label",8),u.Xb(13,"span",9),u.Xb(14,"span",10),u.bc(),u.bc(),u.bc(),u.bc(),u.bc(),u.bc())},directives:[V.a,I.c,xe.a,I.a,I.d,r.l,E.a,E.b],styles:['.switch-section[_ngcontent-%COMP%]{margin-top:10px}.blocker-card[_ngcontent-%COMP%]{border-radius:4px;background-color:#fff6fb;margin:0;padding:.875rem 1.3rem}.blocker-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:18px;font-weight:500;font-stretch:normal;font-style:normal;line-height:normal;letter-spacing:normal;text-align:left;color:#333}.blocker-card[_ngcontent-%COMP%]   mat-divider[_ngcontent-%COMP%]{position:relative}.blocker-card[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:14px;font-weight:400;font-stretch:normal;font-style:normal;line-height:1.29;letter-spacing:normal;text-align:left;color:#333;padding-top:0}.blocker-card[_ngcontent-%COMP%]   .toggle[_ngcontent-%COMP%]{margin-top:16px}.onoffswitch[_ngcontent-%COMP%]{position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none}.onoffswitch-checkbox[_ngcontent-%COMP%]{position:absolute;opacity:0;pointer-events:none}.onoffswitch-label[_ngcontent-%COMP%]{display:block;overflow:hidden;cursor:pointer;border-radius:2px}.onoffswitch-inner[_ngcontent-%COMP%]{display:block;width:200%;margin-left:-100%;transition:margin .3s ease-in 0s}.onoffswitch-inner[_ngcontent-%COMP%]:after, .onoffswitch-inner[_ngcontent-%COMP%]:before{display:block;float:left;width:50%;height:30px;padding:0;line-height:30px;font-size:14px;color:#fff;font-family:Roboto;box-sizing:border-box}.onoffswitch-inner[_ngcontent-%COMP%]:before{content:"ON";padding-left:10px;background-color:#00b54f;color:#fff}.onoffswitch-inner[_ngcontent-%COMP%]:after{content:"OFF";padding-right:12px;background-color:#c93719;color:#fff;text-align:right}.onoffswitch-switch[_ngcontent-%COMP%]{display:block;width:12px;height:26px;margin:1px;background:#fff;position:absolute;top:1px;bottom:0;right:38px;border-radius:2px;transition:all .3s ease-in 0s}.onoffswitch-checkbox[_ngcontent-%COMP%]:checked + .onoffswitch-label[_ngcontent-%COMP%]   .onoffswitch-inner[_ngcontent-%COMP%]{margin-left:0}.onoffswitch-checkbox[_ngcontent-%COMP%]:checked + .onoffswitch-label[_ngcontent-%COMP%]   .onoffswitch-switch[_ngcontent-%COMP%]{right:1px}@media only screen and (max-width:599px){.dorado-text[_ngcontent-%COMP%]{font-size:17px!important;font-weight:400;font-stretch:normal;font-style:normal;line-height:1.29;letter-spacing:normal;text-align:left;color:#333}}.dorado-text_sm[_ngcontent-%COMP%]{font-size:19px!important;font-weight:400;font-stretch:normal;font-style:normal;line-height:1.29;letter-spacing:normal;text-align:left;color:#333;margin-bottom:15px}@media only screen and (min-width:980px) and (max-width:1279px){.blocker-card[_ngcontent-%COMP%]{border-radius:4px;background-color:#fff6fb;margin:0;padding:.875rem 2rem .875rem 1rem}}']}),e}(),Pe=n("lay6"),ke=n("PUIy"),we=n("Uwrd");function Ae(e,t){if(1&e&&(u.cc(0,"span"),u.Yc(1),u.bc()),2&e){var n=u.sc().$implicit,r=u.sc();u.Jb(1),u.ad("(",r.countOfPreference(n),")")}}var Se=function(){return{"tool-tip":!0}};function Me(e,t){1&e&&(u.cc(0,"div",47),u.cc(1,"span",48,49),u.Yc(3," error "),u.bc(),u.bc()),2&e&&(u.Jb(1),u.zc("matTooltipClass",u.Cc(1,Se)))}function Oe(e,t){if(1&e&&(u.cc(0,"div",55),u.cc(1,"div",56),u.Yc(2),u.bc(),u.bc()),2&e){var n=u.sc(2).$implicit;u.Jb(2),u.Zc(n.badge)}}function Le(e,t){if(1&e&&(u.cc(0,"div",57),u.cc(1,"div",58),u.Yc(2),u.bc(),u.bc()),2&e){var n=u.sc(2).$implicit;u.Jb(2),u.Zc(n.badge)}}function Te(e,t){if(1&e&&(u.cc(0,"div",50),u.cc(1,"div",51),u.Wc(2,Oe,3,1,"div",52),u.Wc(3,Le,3,1,"div",53),u.bc(),u.cc(4,"div",29),u.cc(5,"mat-icon",54),u.Yc(6),u.bc(),u.bc(),u.bc()),2&e){var n=u.sc(),r=n.$implicit,i=n.index,a=u.sc();u.Jb(2),u.zc("ngIf",""!=r.badge&&"Profile"!=r.title),u.Jb(1),u.zc("ngIf","Profile"===r.title),u.Jb(1),u.zc("hidden",a.hideArrow(r.title)),u.Jb(1),u.Bc("id","toggle-btn-",i,""),u.Jb(1),u.ad(" ",a.panelOpenState?"keyboard_arrow_down":"keyboard_arrow_right"," ")}}function Re(e,t){if(1&e){var n=u.dc();u.cc(0,"div"),u.cc(1,"mat-checkbox",59,60),u.oc("click",(function(e){u.Mc(n);var r=t.$implicit,i=u.sc().$implicit;return u.sc().someMethod(e,r,i.mainId)}))("change",(function(){u.Mc(n);var e=t.$implicit,r=u.Ic(2),i=u.sc(),a=i.$implicit,o=i.index;return u.sc().callSubMethod(a,e,r,o)})),u.Yc(3),u.bc(),u.bc()}if(2&e){var r=t.$implicit,i=u.Ic(2),a=u.sc().$implicit,o=u.sc();u.Jb(1),u.Ac("dummy",o.checkstatus(a.mainId,r,i)),u.Jb(2),u.ad(" ",r.preferenceName," ")}}function Ie(e,t){1&e&&(u.cc(0,"h2",45),u.Yc(1,"When you intend to buy a product in this category"),u.bc())}function Ee(e,t){if(1&e){var n=u.dc();u.cc(0,"mat-radio-button",61),u.oc("click",(function(){u.Mc(n);var e=t.$implicit,r=u.sc().$implicit,i=u.sc();return i.someMethod2(i.adSubCheck,e,r)}))("click",(function(e){u.Mc(n);var t=u.sc().$implicit;return u.sc().openDropdown(t.mainId,"interest",t.expanded),e.stopPropagation()})),u.Yc(1),u.bc()}if(2&e){var r=t.$implicit;u.zc("value",r),u.Jb(1),u.ad(" ",r.menuValue," ")}}function Fe(e,t){if(1&e){var n=u.dc();u.cc(0,"mat-radio-button",61),u.oc("click",(function(){u.Mc(n);var e=t.$implicit,r=u.sc().$implicit,i=u.sc();return i.someMethod2(i.adSubCheck,e,r)})),u.Yc(1),u.bc()}if(2&e){var r=t.$implicit;u.zc("value",r.menuValue),u.Jb(1),u.ad(" ",r.menuValue," ")}}function Ne(e,t){if(1&e){var n=u.dc();u.cc(0,"mat-radio-button",61),u.oc("click",(function(){u.Mc(n);var e=t.$implicit,r=u.sc().$implicit,i=u.sc();return i.userInterest(e.interestId,r),i.toggle(r.expanded)})),u.Yc(1),u.bc()}if(2&e){var r=t.$implicit;u.zc("value",r),u.Jb(1),u.ad(" ",r.menuValue," ")}}function De(e,t){if(1&e){var n=u.dc();u.cc(0,"mat-accordion",23),u.cc(1,"mat-expansion-panel",24),u.cc(2,"mat-expansion-panel-header",25),u.oc("click",(function(){u.Mc(n);var e=t.index,r=u.sc();return r.adList[e].expanded=!r.adList[e].expanded})),u.cc(3,"mat-panel-title"),u.cc(4,"div",26),u.cc(5,"div",27),u.Xb(6,"img",28),u.cc(7,"div",29),u.cc(8,"mat-checkbox",30,31),u.oc("change",(function(){u.Mc(n);var e=t.$implicit,r=t.index,i=u.Ic(9);return u.sc().callMainMethod(e,i,r)})),u.bc(),u.bc(),u.bc(),u.cc(10,"div",32),u.cc(11,"h4"),u.Yc(12),u.Wc(13,Ae,2,1,"span",33),u.bc(),u.bc(),u.Wc(14,Me,4,2,"div",34),u.bc(),u.Wc(15,Te,7,5,"div",35),u.bc(),u.bc(),u.cc(16,"div",36),u.cc(17,"perfect-scrollbar",37),u.oc("psXReachEnd",(function(e){return u.Mc(n),u.sc().onScrollEvent(e)}))("psYReachEnd",(function(e){return u.Mc(n),u.sc().onScrollEvent(e)}))("psXReachStart",(function(e){return u.Mc(n),u.sc().onScrollEvent(e)}))("psYReachStart",(function(e){return u.Mc(n),u.sc().onScrollEvent(e)})),u.cc(18,"div",38),u.Wc(19,Re,4,2,"div",39),u.bc(),u.bc(),u.bc(),u.bc(),u.cc(20,"div",40),u.cc(21,"div",41),u.Wc(22,Ie,2,0,"h2",42),u.cc(23,"mat-radio-group",43),u.Wc(24,Ee,2,2,"mat-radio-button",44),u.bc(),u.bc(),u.cc(25,"div",41),u.cc(26,"mat-radio-group",43),u.Wc(27,Fe,2,2,"mat-radio-button",44),u.bc(),u.bc(),u.cc(28,"div",41),u.cc(29,"h2",45),u.Yc(30,"Interest level"),u.bc(),u.cc(31,"mat-radio-group",46),u.Wc(32,Ne,2,2,"mat-radio-button",44),u.bc(),u.bc(),u.bc(),u.bc()}if(2&e){var r=t.$implicit,i=t.index,a=u.Ic(9),o=u.sc();u.Mb("panel-cards+",i," accordion"),u.Bc("id","collapse",i,""),u.Jb(1),u.zc("hash",o.matpaneli)("expanded",r.expanded)("hideToggle",!0),u.Jb(5),u.Ac("src",r.img_url,u.Oc),u.Jb(1),u.zc("hidden",o.edited(r.title)),u.Jb(1),u.Ac("dummy",o.checkMainStatus(a,r)),u.Jb(4),u.ad("",r.title," "),u.Jb(1),u.zc("ngIf","Wildcard"!=r.title),u.Jb(1),u.zc("ngIf",""===r.count),u.Jb(1),u.zc("ngIf",""!=r.count),u.Jb(2),u.zc("config",o.config)("scrollIndicators",!0),u.Jb(2),u.zc("ngForOf",r.chechkboxtext),u.Jb(2),u.Bc("id","addMain",r.mainId,""),u.Jb(1),u.zc("ngIf",!o.hidesubMenu),u.Jb(2),u.zc("ngForOf",r.subMenu),u.Jb(1),u.Bc("id","addMain",r.title,""),u.Jb(2),u.zc("ngForOf",r.subMenu),u.Jb(1),u.Bc("id","addSub",r.mainId,""),u.Jb(4),u.zc("ngForOf",r.unsubMenu)}}function Ue(e,t){if(1&e){var n=u.dc();u.cc(0,"mat-option",62),u.oc("click",(function(){return u.Mc(n),u.sc().searchField()})),u.Yc(1),u.bc()}if(2&e){var r=t.$implicit;u.zc("value",r),u.Jb(1),u.ad(" ",r," ")}}var ze=function(){function e(){}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=u.Rb({type:e,selectors:[["","hash",""]],inputs:{hash:"hash"}}),e}(),We=function(){function e(e,t,n,r,i,a){this.router=e,this.authService=t,this.dialog=n,this.fb=r,this.vcRef=a,this.options=[],this.myControl=new U.g,this.count1=0,this.profileAgeLists=[],this.profileGenderLists=[],this.showAge=!1,this.adList=[],this.hideInterest=[],this.userpreference=[],this.wildCardStatus=!1,this.profileRequest=!1,this.hideMenu=!1,this.showMenus="menu",this.count=0,this.hidesubMenu=!1,this.timePreferList=[],this.interestPreferList=[],this.dummyList=[],this.userArray=[],this.field="All",this.checkmenu=!1,this.panelOpenState=!1,this.config={},i.onPopState((function(){history.pushState(null,null,window.location.href)}))}return e.prototype.onScrollEvent=function(e){},e.prototype._filter=function(e){var t=e.toLowerCase();return this.options.filter((function(e){return 0===e.toLowerCase().indexOf(t)}))},e.prototype.closeDropdown=function(){var e,t=document.getElementsByClassName("dropdown-content");for(e=0;e<t.length;e++){var n=t[e];n.classList.contains("show")&&n.classList.remove("show")}},e.prototype.getFilteredList=function(){var e=this;this.filteredOptions=this.myControl.valueChanges.pipe(Object(f.a)(""),Object(d.a)((function(t){return e._filter(t)})))},e.prototype.ngOnInit=function(){this.getAdPreference(),this.getUser(),this.getFilteredList(),this.form=this.fb.group({mainPreference:[!1,U.A.compose([U.A.required])],subPreference:[!1,U.A.compose([U.A.required])],subMenu:["",U.A.compose([U.A.required])],interestMenu:["",U.A.compose([U.A.required])]}),this.myform=this.fb.group({searchField:["",U.A.compose([U.A.required])]})},e.prototype.popular=function(){this.field="Popular",this.dummyList=[];for(var e=0;e<this.adList.length;e++)"popular"==this.adList[e].badge&&this.dummyList.push(this.adList[e]);for(this.adList=[],e=0;e<this.dummyList.length;e++)this.adList.push(this.dummyList[e])},e.prototype.allFields=function(){this.getAdPreference()},e.prototype.searchField=function(){var e,t=this.myControl.value;if(""!=t){t=t.replace(/^(.)|\s+(.)/g,(function(e){return e.toUpperCase()}));for(var n=0;n<this.adList.length;n++){if(this.adList[n].title==t)return this.dummyList=[],this.dummyList.push(this.adList[n]),this.adList=[],this.adList.push(this.dummyList[0]),void(this.panelOpenState=!0);for(var r=0;r<(null===(e=this.adList[n].chechkboxtext)||void 0===e?void 0:e.length);r++)if(this.adList[n].chechkboxtext[r].preferenceName==t)return this.dummyList=[],this.dummyList.push(this.adList[n]),this.adList=[],this.adList.push(this.dummyList[0]),void(this.panelOpenState=!0)}}else this.getAdPreference()},e.prototype.callSubMethod=function(e,t,n,r){var i=this;this.tempId&&null!=document.getElementById(this.tempId)&&document.getElementById(this.tempId).classList.remove("show"),this.tempSubId&&null!=document.getElementById(this.tempSubId)&&document.getElementById(this.tempSubId).classList.remove("show"),n.checked&&("Profile"==e.title?(this.adList[r].expanded=!1,this.openDropdown(t.preferenceName,"profile")):this.statusCheck(e)||(this.adList[r].expanded=!1,this.openDropdown(e.mainId,"timeFrame"))),"Gender"==t.preferenceName||"Age"==t.preferenceName?(this.profileRequest=n.checked,n.checked||(this.profileRequest=!1,this.removeProfile(t.preferenceName))):this.authService.addSub({mainPreferenceId:e.mainId,subPreferenceId:t._id,status:n.checked}).subscribe((function(e){i.getUser()}),(function(e){e.error.data&&(e.error.data.auth||i.authService.userLogout())}))},e.prototype.openDropdown=function(e,t){"interest"==t?(this.tempSubId="addSub"+e,document.getElementById("addMain"+e).classList.remove("show"),document.getElementById("addSub"+e).classList.toggle("show")):"timeFrame"==t?(this.tempId="addMain"+e,document.getElementById("addMain"+e).classList.toggle("show")):"profile"==t&&document.getElementById("addMainProfile").classList.toggle("show")},e.prototype.removeProfile=function(e){var t=this;this.profileRequest||("Gender"==e&&this.authService.addProfile({status:!1,profileType:e}).subscribe((function(e){t.getUser()}),(function(e){e.error.data&&(e.error.data.auth||t.authService.userLogout())})),"Age"==e&&this.authService.addProfile({status:!1,profileType:e}).subscribe((function(e){t.getUser()}),(function(e){e.error.data&&(e.error.data.auth||t.authService.userLogout())})))},e.prototype.callMainMethod=function(e,t,n){var r=this;this.tempId&&document.getElementById(this.tempId).classList.remove("show"),this.tempSubId&&document.getElementById(this.tempSubId).classList.remove("show"),"Wildcard"!=e.title&&t.checked&&(this.statusCheck(e)||(this.adList[n].expanded=!1,this.openDropdown(e.mainId,"timeFrame"))),e.mainId&&this.authService.addMain({status:t.checked,mainPreferenceId:e.mainId}).subscribe((function(e){r.getUser()}),(function(e){e.error.data&&(e.error.data.auth||r.authService.userLogout())})),"Wildcard"==e.title&&this.authService.wildCard({status:t.checked}).subscribe((function(e){r.getUser()}),(function(e){e.error.data&&(e.error.data.auth||r.authService.userLogout())}))},e.prototype.callSomeMethod=function(e){this.hideMenu=!e.checked},e.prototype.someMethod=function(e,t,n){if("Gender"==t.preferenceName){for(var r=0;r<this.adList.length;r++)"Profile"==this.adList[r].title&&(this.adList[r].subMenu=this.profileGenderLists);this.hidesubMenu=!0}else if("Age"==t.preferenceName){for(r=0;r<this.adList.length;r++)"Profile"==this.adList[r].title&&(this.adList[r].subMenu=this.profileAgeLists);this.hidesubMenu=!0}else this.hidesubMenu=!1},e.prototype.someMethod2=function(e,t){var n=this;document.getElementById("addMainProfile")&&document.getElementById("addMainProfile").classList.remove("show"),this.profileRequest&&(t.genderId&&this.authService.addProfile({status:!0,profileType:"Gender",profileValue:t.genderId}).subscribe((function(e){n.getUser()}),(function(e){e.error.data&&(e.error.data.auth||n.authService.userLogout())})),t.ageId&&this.authService.addProfile({status:!0,profileType:"Age",profileValue:t.ageId}).subscribe((function(e){n.getUser()}),(function(e){e.error.data&&(e.error.data.auth||n.authService.userLogout())})))},e.prototype.countOfPreference=function(e){if("Profile"==e.title){var t=0;return null!=this.userProfile&&(this.userProfile.gender&&t++,this.userProfile.age&&t++),t}for(var n=0;n<this.userpreference.length;n++)if(this.userpreference[n].mainPreference==e.mainId)return this.userpreference[n].subPreference.length;return 0},e.prototype.autoFillData=function(e){this.options=[];for(var t=0;t<e.length;t++){this.options.push(e[t].mainPreferenceName);for(var n=0;n<e[t].subPreference.length;n++)this.options.push(e[t].subPreference[n].preferenceName)}this.options.sort()},e.prototype.getAdPreference=function(){var e=this;this.adList=[],this.timePreferList=[],this.profileAgeLists=[],this.profileGenderLists=[],this.interestPreferList=[],this.authService.getAdPreferenceList().subscribe((function(t){e.autoFillData(t[0].preferences);for(var n=0;n<t[0].profile.age.length;n++){var r=t[0].profile.age[n].minAge,i=t[0].profile.age[n].maxAge;e.profileAgeLists.push({menuValue:null==i?r+"+":r+"-"+i,ageId:t[0].profile.age[n]._id})}for(n=0;n<t[0].profile.gender.length;n++)e.profileGenderLists.push({menuValue:t[0].profile.gender[n].genderValue,genderId:t[0].profile.gender[n]._id});for(n=0;n<t[0].purchaseTimeFrameList.length;n++)e.timePreferList.push({menuValue:t[0].purchaseTimeFrameList[n].timeFrame,purchaseTimeId:t[0].purchaseTimeFrameList[n]._id});for(n=0;n<t[0].interestLevel.length;n++)e.interestPreferList.push({menuValue:t[0].interestLevel[n].interestType,interestId:t[0].interestLevel[n]._id});for(e.adList.push({img_url:"assets/img/doranto-img/prederences-icon.png",title:"Profile",badge:"Important",chechkboxtext:[{preferenceName:"Gender"},{preferenceName:"Age"}],count:2,expanded:!1,subMenu:e.profileGenderLists,unsubMenuForAge:e.profileAgeLists}),n=0;n<t[0].preferences.length;n++){var a="";1==t[0].preferences[n].popular&&(a="Popular"),e.adList.push({img_url:"assets/img/doranto-img/prederences-icon.png",title:t[0].preferences[n].mainPreferenceName,count:t[0].preferences[n].subPreference.length,chechkboxtext:t[0].preferences[n].subPreference,mainId:t[0].preferences[n]._id,expanded:!1,subMenu:e.timePreferList,unsubMenu:e.interestPreferList,badge:a})}e.adList.push({img_url:"assets/img/doranto-img/prederences-icon.png",title:"Wildcard",badge:""})}),(function(t){t.error.data&&(t.error.data.auth||e.authService.userLogout())}))},e.prototype.hideArrow=function(e){return"Wildcard"==e},e.prototype.edited=function(e){return"Profile"==e},e.prototype.statusCheck=function(e){return"Wildcard"==e.title||!!e.mainId&&(e.mainId?this.hideInterest.includes(e.mainId):void 0)},e.prototype.userInterest=function(e,t){var n=this,r=this.form.value.subMenu.purchaseTimeId;""!=e&&""!=r&&""!=t.mainId&&this.authService.userInterest({interestLevel:e,purchaseTimeFrameList:r,mainPreferenceId:t.mainId}).subscribe((function(e){t.expanded=!t.expanded,n.getUser();var r,i=document.getElementsByClassName("dropdown-content");for(r=0;r<i.length;r++){var a=i[r];a.classList.contains("show")&&a.classList.remove("show")}}),(function(e){e.error.data&&(e.error.data.auth||n.authService.userLogout())}))},e.prototype.submitCustom=function(){},e.prototype.checkstatus=function(e,t,n){null!=this.userProfile&&("Gender"==t.preferenceName&&(n.checked=!!this.userProfile.gender),"Age"==t.preferenceName&&(n.checked=!!this.userProfile.age));for(var r=0;r<this.userpreference.length;r++)this.userpreference[r].mainPreference==e&&(n.checked=!!this.userpreference[r].subPreference.includes(t._id))},e.prototype.checkMainStatus=function(e,t){for(var n=0;n<this.userpreference.length;n++)this.userpreference[n].mainPreference==t.mainId&&(e.checked=1==this.userpreference[n].mainPreferenceStatus);"Wildcard"==t.title&&(e.checked=!!this.wildCardStatus)},e.prototype.triggerSubMenu=function(){for(var e=0;e<this.userpreference.length;e++)this.userpreference[e].interestLevel&&this.hideInterest.push(this.userpreference[e].mainPreference)},e.prototype.checkStatusForHide=function(e){return this.hideInterest.includes(e)},e.prototype.getUser=function(){var e=this;this.authService.getUser().subscribe((function(t){e.userpreference=t.preference,e.userProfile=t.profile,e.wildCardStatus=t.wildCard,e.triggerSubMenu()}),(function(t){t.error.data&&(t.error.data.auth||e.authService.userLogout())}))},e.prototype.navigateToDashboard=function(){this.router.navigateByUrl("/dashboard/day2")},e.prototype.getLocation=function(){navigator.geolocation?navigator.geolocation.getCurrentPosition(this.showPosition.bind(this)):console.log("Geolocation is not supported by this browser.")},e.prototype.showPosition=function(e){var t=this;this.longitude=e.coords.longitude,this.latitude=e.coords.latitude,this.authService.getGeoLocation({longitude:this.longitude,latitude:this.latitude}).subscribe((function(e){}),(function(e){e.error.data&&(e.error.data.auth||t.authService.userLogout())}))},e.prototype.openDialog=function(){for(var e=0;e<this.userpreference.length;e++)if(this.userpreference[e].subPreference.length>0||1==this.userpreference[e].mainPreferenceStatus)return void this.router.navigateByUrl("/dashboard/day1");this.dialogRef=this.dialog.open(ve,{panelClass:"default-dialog"})},e.prototype.toggle=function(e){e=!e},e.\u0275fac=function(t){return new(t||e)(u.Wb(a.f),u.Wb(S.a),u.Wb(R.b),u.Wb(U.f),u.Wb(r.v),u.Wb(u.Y))},e.\u0275cmp=u.Qb({type:e,selectors:[["ms-ad-preference-list"]],viewQuery:function(e,t){var n;1&e&&(u.dd(me.d,!0),u.dd(me.d,!0),u.dd(ze,!0)),2&e&&(u.Hc(n=u.pc())&&(t.trigger=n.first),u.Hc(n=u.pc())&&(t.matMenu=n.first),u.Hc(n=u.pc())&&(t.hashes=n))},decls:38,vars:8,consts:[["fxLayout","row","fxLayout.xs","column","fxLayout.sm","column","fxLayoutGap","1%","fxLayoutGap.xs","10%","fxLayoutGap.sm","3%","fxLayoutAlign","start stretch"],["fxFlex","75","fxFlex.xs","100","fxFlex.sm","100","fxFlex","78"],[1,"partner-list-wrapper","main-section"],["fxLayout","row","fxLayout.xs","column","fxLayout.sm","column",1,"gene-welcome-note"],["fxShow.xs","true","fxShow.sm","true"],["appearance","outline"],["value","Active Campaigns",3,"click"],["fxLayout","row wrap","fxLayoutAlign","start",1,"user-list-wrapper"],["fxLayout","row wrap",1,"full--width",3,"formGroup"],["fxFlex","25","fxFlex.xs","49.5","fxFlex.sm","49.5",3,"id","class",4,"ngFor","ngForOf"],[1,"search-wrap"],["fxFlex","100",1,"user-list-wrapper"],["fxFlex.xs","100","fxFlex.sm","100","fxFlex.md","100","fxFlex.lg","100","fxFlex.xl","100"],[3,"formGroup"],["appearance","outline",1,"full--width","search--input"],["type","text","placeholder","Search Preference","aria-label","Number","matInput","",3,"formControl","matAutocomplete","keyup"],["matSuffix",""],["autoActiveFirstOption",""],["auto","matAutocomplete"],[3,"value","click",4,"ngFor","ngForOf"],[1,"manage-ad"],["mat-raised-button","",1,"continue-button",3,"click"],["fxFlex.sm","100","fxFlex","22","fxFlex.xs","100"],["fxFlex","25","fxFlex.xs","49.5","fxFlex.sm","49.5",3,"id"],[1,"panel-cards",3,"hash","expanded","hideToggle"],[3,"click"],[1,"pad-section"],["fxFlex","100",1,"ad-img-cards"],["alt","partner list image",1,"img-responsive","img-circle",3,"src"],[3,"hidden"],["formControlName","mainPreference","color","primary",1,"example-margin",3,"dummy","change"],["adcheck",""],["fxFlex","100","fxLayout","row"],[4,"ngIf"],["fxFlex","100","class","ad-img-cards","fxLayout","row",4,"ngIf"],["fxLayout","row",4,"ngIf"],[1,"scrollbar-content"],["fxFlex","auto",1,"scroll-container",3,"config","scrollIndicators","psXReachEnd","psYReachEnd","psXReachStart","psYReachStart"],[1,"panel-description"],[4,"ngFor","ngForOf"],[1,"dropdown"],[1,"dropdown-content",3,"id"],["class","intent-text",4,"ngIf"],["formControlName","subMenu",1,"example-radio-group"],["class","example-radio-button",3,"value","click",4,"ngFor","ngForOf"],[1,"intent-text"],["formControlName","interestMenu",1,"example-radio-group"],["fxFlex","100","fxLayout","row",1,"ad-img-cards"],["matTooltip","If you add 'Wildcard' to your preferences, Dorado Exchange will show you some advertisements outside of your preferences. This will help you earn more credit points.","matTooltipPosition","below",1,"material-icons","error-icon",3,"matTooltipClass"],["tooltip","matTooltip"],["fxLayout","row"],[2,"margin-right","auto"],["class","badge-div",4,"ngIf"],["class","badge-div","style","border-radius: 0 100em 100em 0;",4,"ngIf"],[1,"accordian-icons",3,"id"],[1,"badge-div"],[1,"popular-tag"],[1,"badge-div",2,"border-radius","0 100em 100em 0"],[1,"important-tag"],["formControlName","subPreference","color","primary",1,"example-margin","mat-check",3,"dummy","click","change"],["adSubCheck",""],[1,"example-radio-button",3,"value","click"],[3,"value","click"]],template:function(e,t){if(1&e&&(u.cc(0,"h2"),u.Yc(1,"Ad Preferences"),u.bc(),u.cc(2,"div",0),u.cc(3,"div",1),u.cc(4,"div",2),u.cc(5,"div",3),u.cc(6,"h4"),u.Yc(7,"What are your ad preferences? "),u.bc(),u.Xb(8,"br",4),u.cc(9,"mat-form-field",5),u.cc(10,"mat-label"),u.Yc(11,"Show:"),u.bc(),u.cc(12,"mat-select"),u.cc(13,"mat-option",6),u.oc("click",(function(){return t.popular()})),u.Yc(14,"Popular"),u.bc(),u.cc(15,"mat-option",6),u.oc("click",(function(){return t.allFields()})),u.Yc(16,"All"),u.bc(),u.bc(),u.bc(),u.bc(),u.Xb(17,"br"),u.cc(18,"div",7),u.cc(19,"form",8),u.Wc(20,De,33,24,"mat-accordion",9),u.bc(),u.bc(),u.bc(),u.Xb(21,"br"),u.cc(22,"div",10),u.cc(23,"div",11),u.cc(24,"div",12),u.cc(25,"form",13),u.cc(26,"mat-form-field",14),u.cc(27,"input",15),u.oc("keyup",(function(){return t.searchField()})),u.bc(),u.cc(28,"mat-icon",16),u.Yc(29,"search"),u.bc(),u.cc(30,"mat-autocomplete",17,18),u.Wc(32,Ue,2,2,"mat-option",19),u.tc(33,"async"),u.bc(),u.bc(),u.bc(),u.bc(),u.bc(),u.cc(34,"div",20),u.cc(35,"button",21),u.oc("click",(function(){return t.openDialog()})),u.Yc(36,"Continue"),u.bc(),u.bc(),u.bc(),u.bc(),u.Xb(37,"ms-ad-blocker",22),u.bc()),2&e){var n=u.Ic(31);u.Jb(19),u.zc("formGroup",t.form),u.Jb(1),u.zc("ngForOf",t.adList),u.Jb(5),u.zc("formGroup",t.myform),u.Jb(2),u.zc("formControl",t.myControl)("matAutocomplete",n),u.Jb(5),u.zc("ngForOf",u.uc(33,6,t.filteredOptions))}},directives:[I.c,I.d,I.b,I.a,E.b,N.b,N.e,be.a,_e.o,U.C,U.s,U.k,r.m,D.b,U.d,ye.c,U.r,U.h,W.a,N.g,ye.a,re.a,Ce,Pe.a,Pe.c,Pe.e,Pe.f,ke.a,U.i,r.n,i.b,we.b,j.a,we.a],pipes:[r.b],styles:['h2[_ngcontent-%COMP%]{font-weight:400;font-stretch:normal;font-style:normal;line-height:normal;letter-spacing:normal;text-align:left;color:#333;font-weight:300;font-size:18px;margin-bottom:20px}.main-section[_ngcontent-%COMP%]{background:#fff9dd;padding:1rem 1.5rem 1.8rem 1.8rem;border-radius:4px}.main-section[_ngcontent-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-infix .mat-select-trigger{height:unset;padding-bottom:0}.main-section[_ngcontent-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-wrapper{margin:0;padding:0}.main-section[_ngcontent-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-wrapper .mat-form-field-flex{font-size:14px}.main-section[_ngcontent-%COMP%]     .mat-form-field-appearance-outline mat-label{color:#333}.main-section[_ngcontent-%COMP%]     .mat-form-field-appearance-outline .mat-select-value-text{font-size:15px}.main-section[_ngcontent-%COMP%]     .mat-form-field.mat-focused.mat-primary .mat-select-arrow, .main-section[_ngcontent-%COMP%]     .mat-primary .mat-option.mat-selected:not(.mat-option-disabled){color:#00b54f}.main-section[_ngcontent-%COMP%]     .search--input input{padding-right:40px}.main-section[_ngcontent-%COMP%]     .search--input .icon--search{position:absolute;right:0;top:2px;cursor:pointer;color:#666;font-size:21px}.main-section[_ngcontent-%COMP%]     .mat-form-field{background-color:#fff}.main-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:26px!important}.main-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .main-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-weight:500;font-stretch:normal;font-style:normal;line-height:normal;letter-spacing:normal;text-align:left;color:#333}.main-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:15px;margin:10px auto 0 0;height:23px}.main-section[_ngcontent-%COMP%]   .img-circle[_ngcontent-%COMP%]{margin-right:auto}.main-section[_ngcontent-%COMP%]   .ad-cards[_ngcontent-%COMP%]{width:190px;border-radius:4px;background-color:#fff;margin:.65rem}.main-section[_ngcontent-%COMP%]   .ad-cards[_ngcontent-%COMP%]:hover{border:1px solid #00b54f}.main-section[_ngcontent-%COMP%]   .ad-img-cards[_ngcontent-%COMP%]{display:flex}.main-section[_ngcontent-%COMP%]   .ad-count[_ngcontent-%COMP%]{width:20px;height:20px;float:right;background:#00b54f;border-radius:100%}.main-section[_ngcontent-%COMP%]   .count[_ngcontent-%COMP%]{font-size:14px;font-weight:500;font-stretch:normal;font-style:normal;line-height:normal;letter-spacing:normal;text-align:center;color:#fff;margin-top:2px;cursor:pointer}.main-section[_ngcontent-%COMP%]   .manage-ad[_ngcontent-%COMP%]{float:right;margin-top:10px;margin-left:auto}.main-section[_ngcontent-%COMP%]   .continue-button[_ngcontent-%COMP%]{font-size:15px;font-weight:400;height:45px;border-radius:4px;border:none!important;color:#fff!important;background:#00b54f!important}.main-section[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{margin-top:8px}.main-section[_ngcontent-%COMP%]   .panel-cards[_ngcontent-%COMP%]{border-radius:4px;background-color:#fff;margin:.65rem}.main-section[_ngcontent-%COMP%]   .checked[_ngcontent-%COMP%]{border-radius:4px;background-color:#fff;margin:.65rem;border:1px solid #00b54f}.main-section[_ngcontent-%COMP%]   .error-icon[_ngcontent-%COMP%]{color:red}.manage-ad[_ngcontent-%COMP%]{float:right;margin-top:10px;margin-left:auto}.continue-button[_ngcontent-%COMP%]{font-size:15px;font-weight:400;height:45px;border-radius:4px;border:none!important;color:#fff!important;background:#00b54f!important}.img-circle[_ngcontent-%COMP%]{border-radius:0}.partner-card[_ngcontent-%COMP%]{padding:10px}.card-section[_ngcontent-%COMP%]{display:flex}.mat-checkbox-indeterminate.mat-accent[_ngcontent-%COMP%]   .mat-checkbox-background[_ngcontent-%COMP%],   .mat-checkbox-checked.mat-accent .mat-checkbox-background{background-color:#005691}.search-wrap[_ngcontent-%COMP%]{display:block!important}.search-wrap[_ngcontent-%COMP%]   .user-list-wrapper[_ngcontent-%COMP%]{padding:.5rem .5rem .5rem 0}.search-wrap[_ngcontent-%COMP%]   .search-badge-div[_ngcontent-%COMP%]{padding:0;border-radius:6px;border:1px solid #ddd;background-color:#ddffec}.search-wrap[_ngcontent-%COMP%]   .badge-text[_ngcontent-%COMP%]{font-size:13px;font-weight:400;font-stretch:normal;font-style:normal;letter-spacing:normal;text-align:left;color:#00b54f;margin-left:5px}.search-wrap[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{font-size:18px!important;color:#00b54f!important;margin-left:5px;margin-right:0;position:relative;top:4px;cursor:pointer}.search-wrap[_ngcontent-%COMP%]   .disable[_ngcontent-%COMP%]{background-color:#fff}.search-wrap[_ngcontent-%COMP%]   .disable[_ngcontent-%COMP%]   .badge-text[_ngcontent-%COMP%]{color:#666}  .ais-SearchBox-input{-webkit-appearance:none;-moz-appearance:none;appearance:none;padding:.5rem 2rem!important;width:100%!important;position:relative;background-color:#fff;border:1px solid #c4c8d8;border-radius:5px;height:40px!important}  .mat-expansion-panel-header-title{color:rgba(0,0,0,.87);margin:0!important;display:block!important}  .mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0!important;border-radius:inherit;transition:height 225ms cubic-bezier(.4,0,.2,1);min-height:110px}.badge-div[_ngcontent-%COMP%]{width:75px;height:20px;display:flex;top:5px!important}.badge-div[_ngcontent-%COMP%], .popular-tag[_ngcontent-%COMP%]{background-color:#e7aa37;position:relative}.popular-tag[_ngcontent-%COMP%]{margin-right:0;margin-left:.55rem}.important-tag[_ngcontent-%COMP%], .popular-tag[_ngcontent-%COMP%]{display:inline-block;color:#fff;font-size:12px;padding:0 6px;margin-top:2px}.important-tag[_ngcontent-%COMP%]{background-color:#e7aa37;position:relative;margin-right:7px}.triangle[_ngcontent-%COMP%]{width:0;height:0;border-top:10px solid transparent;border-right:15px solid #fff;border-bottom:10px solid transparent;margin-top:0}.pad-section[_ngcontent-%COMP%]{padding:15px!important;display:block!important}.accordian-icons[_ngcontent-%COMP%]{font-size:30px!important;color:#00b54f!important;margin-right:5px;margin-top:-6px}.panel-description[_ngcontent-%COMP%]{margin-top:20px;display:block!important}  .tool-tip{font-size:13px;white-space:pre-line!important;color:#333!important;border-radius:4px;box-shadow:0 0 10px 0 rgba(27,28,31,.15);border:1px solid #ddd;background-color:#fff;width:500px!important;overflow:visible;position:relative;padding:10px}  .tool-tip.right{border-left:6px solid red;margin-left:5px}  .tool-tip.right:before{position:absolute;content:"";display:inline-block;background-color:red;-webkit-clip-path:polygon(50% 0,0 50%,50% 100%);clip-path:polygon(50% 0,0 50%,50% 100%);left:-12px;width:15px;height:15px;top:50%;transform:translateY(-50%)}.intent-text[_ngcontent-%COMP%]{padding:10px 15px 0}.example-radio-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:0 15px}.example-radio-button[_ngcontent-%COMP%]{margin:5px}  .hideMenu2{display:none!important}.dropbtn[_ngcontent-%COMP%]{cursor:pointer}.dropdown[_ngcontent-%COMP%]{position:absolute;display:inline-block}.dropdown-content[_ngcontent-%COMP%]{display:none;z-index:9999;padding-top:8px;padding-bottom:8px;min-width:170px;width:300px;overflow:auto;border-radius:4px;box-shadow:0 2px 4px -1px rgba(0,0,0,.2),0 4px 5px 0 rgba(0,0,0,.14),0 1px 10px 0 rgba(0,0,0,.12);background:#fff;position:relative;height:250px}.dropdown-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#000;padding:12px 16px;text-decoration:none;display:block}.dropdown-content2[_ngcontent-%COMP%]{display:none;z-index:9999;padding-top:8px;padding-bottom:8px;min-width:112px;overflow:auto;max-height:calc(100vh - 48px);border-radius:4px;outline:0;min-height:64px;transform-origin:left top;box-shadow:0 2px 4px -1px rgba(0,0,0,.2),0 4px 5px 0 rgba(0,0,0,.14),0 1px 10px 0 rgba(0,0,0,.12);background:#fff;position:relative}.dropdown-content1[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#000;padding:12px 16px;text-decoration:none;display:block}.dropdown[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#ddd}.show[_ngcontent-%COMP%], .show1[_ngcontent-%COMP%]{display:block}.accordion[_ngcontent-%COMP%]{width:25%!important;max-width:auto!important}.accordion_sm[_ngcontent-%COMP%], .accordion_xs[_ngcontent-%COMP%]{width:49.5%!important}.scrollbar-content[_ngcontent-%COMP%]{position:relative!important;height:200px!important;display:block!important}  .mat-check .mat-checkbox-inner-container{display:inline-block;height:16px;line-height:0;margin:auto 8px auto auto;order:0;position:relative;vertical-align:middle;white-space:nowrap;width:16px;flex-shrink:0;margin-top:0!important}  .mat-check .mat-checkbox-layout{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:inherit;align-items:flex-start;vertical-align:top;display:inline-flex;white-space:normal}']}),e}(),Ve=function(){function e(e,t){this.commonService=e,this.dialog=t,this.completePartnerList=!0}return e.prototype.ngOnInit=function(){this.commonService.checkIfPreferenceAvailable(this,"partner",!1)},e.prototype.openDialogForDashboard=function(){this.openErrorDialog("You have not added any category to your preferences. Please select at least one category to proceed further.",A.a.popUpHeaders.ALERT)},e.prototype.openErrorDialog=function(e,t){this.dialogRefLocation=this.dialog.open(M.a,{panelClass:"dialog-message",data:{msg:e,headerMsg:t}}),this.dialogRefLocation.afterClosed().subscribe((function(e){}))},e.\u0275fac=function(t){return new(t||e)(u.Wb(T.a),u.Wb(R.b))},e.\u0275cmp=u.Qb({type:e,selectors:[["ms-partner-site-list"]],decls:6,vars:1,consts:[[1,"gene-welcome-note"],["fxLayout","row","fxLayout.xs","column","fxLayout.sm","column","fxLayoutGap.sm","3%","fxLayoutGap","1%","fxLayoutGap.xs","10%"],["fxLayout","row wrap","fxFlex.xs","100","fxFlex.sm","100","fxFlex","100",1,"dash-card"],[1,"full--width",3,"completePartnerList"]],template:function(e,t){1&e&&(u.cc(0,"div",0),u.cc(1,"h2"),u.Yc(2,"Partner Sites"),u.bc(),u.bc(),u.cc(3,"div",1),u.cc(4,"div",2),u.Xb(5,"ms-partner-site",3),u.bc(),u.bc()),2&e&&(u.Jb(5),u.zc("completePartnerList",t.completePartnerList))},directives:[I.c,I.d,I.a,ne],styles:["h2[_ngcontent-%COMP%]{font-weight:300;font-size:18px;margin-bottom:20px}.dash-card[_ngcontent-%COMP%]   .mat-card[_ngcontent-%COMP%]{width:263px;height:126px;border-radius:4px;border:1px solid #ddd;background-color:#fff}.dash-card[_ngcontent-%COMP%]   .pink[_ngcontent-%COMP%]{border:1px solid #fb3ca7}.dash-card[_ngcontent-%COMP%]   .pink[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#fb3ca7}.dash-card[_ngcontent-%COMP%]   .orange[_ngcontent-%COMP%]{border:1px solid #fcab2e}.dash-card[_ngcontent-%COMP%]   .orange[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#fcab2e}.dash-card[_ngcontent-%COMP%]   .green[_ngcontent-%COMP%]{border:1px solid #00b54f}.dash-card[_ngcontent-%COMP%]   .green[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#00b54f}.dash-card[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:36px;font-weight:700;color:#333}.dash-card[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%], .dash-card[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-stretch:normal;font-style:normal;line-height:normal;letter-spacing:normal;text-align:left}.dash-card[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-size:16px;font-weight:500;color:#666}.dash-card[_ngcontent-%COMP%]   .month[_ngcontent-%COMP%]{font-size:14px;font-weight:400;font-stretch:normal;font-style:normal;line-height:normal;letter-spacing:normal;text-align:left;color:#999}.dash-card[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{padding-top:10px}.dash-card[_ngcontent-%COMP%]   .pad-wrap[_ngcontent-%COMP%]{padding-left:1rem!important;padding-right:0!important}"]}),e}();function je(e,t){if(1&e){var n=u.dc();u.cc(0,"button",15),u.oc("click",(function(){return u.Mc(n),u.sc().handlePayment()})),u.Yc(1,"Redeem Credits"),u.bc()}}var He=function(){function e(e){this.authService=e,this.displayHeader=!1}return e.prototype.ngOnInit=function(){this.getAds()},e.prototype.getAds=function(){var e=this;this.authService.getAdsStatForCustomer().subscribe((function(t){e.adCount=t.adCount,e.creditEarned=t.creditEarned,e.displayHeader=t.creditEarned<=0}))},e.prototype.handlePayment=function(){this.authService.handleRequest().subscribe((function(e){}))},e.\u0275fac=function(t){return new(t||e)(u.Wb(S.a))},e.\u0275cmp=u.Qb({type:e,selectors:[["ms-redeem-credits"]],decls:44,vars:4,consts:[[1,"gene-welcome-note"],["fxLayout","row","fxLayout.xs","column","fxLayout.sm","column","fxLayoutGap","1%","fxLayoutGap.xs","1%","fxLayoutGap.sm","3%"],["fxFlex.xs","100","fxFlex.sm","100","fxFlex","78",1,"head--two-section"],["fxLayout","row","fxLayoutGap","30px","fxLayoutAlign","start center","fxLayoutGap.sm","20px","fxLayout.xs","column","fxLayoutGap","10px","fxLayoutAlign.xs","start start",1,"head--two"],["fxFlex.xs","100","fxFlex.sm","30.33","fxFlex.md","33.33","fxFlex.lg","33.33","fxFlex.xl","33.33",1,"box-section"],["fxLayout","row","fxLayoutAlign","start center",1,"ad--box"],["fxLayout","row","fxLayoutAlign","start center"],["fxLayout","row","fxLayoutAlign","center center",1,"round","two"],["src","/assets/img/doranto-img/html-img/relevant-ads-seen1.png","alt","","width","33"],["fxLayout","row","fxLayoutAlign","center center",1,"round","three"],["src","assets/img/doranto-img/html-img/redeem-credits-active.png","alt","","width","23"],["fxLayout","row","fxLayoutAlign","center center",1,"round",2,"border","solid 1px #13a3ce"],["src","assets/img/doranto-img/credit-redeemable.png","alt","","width","23"],[1,"redeem-button"],["mat-raised-button","","class","manage-button",3,"click",4,"ngIf"],["mat-raised-button","",1,"manage-button",3,"click"]],template:function(e,t){1&e&&(u.cc(0,"div",0),u.cc(1,"h2"),u.Yc(2,"My Earnings"),u.bc(),u.cc(3,"h3"),u.Yc(4,"Your Lifetime Credit Score"),u.bc(),u.Xb(5,"br"),u.bc(),u.cc(6,"div",1),u.cc(7,"div",2),u.cc(8,"div",3),u.cc(9,"div",4),u.cc(10,"div",5),u.cc(11,"div",6),u.cc(12,"div",7),u.Xb(13,"img",8),u.bc(),u.cc(14,"div"),u.cc(15,"h2"),u.Yc(16),u.bc(),u.cc(17,"h5"),u.Yc(18,"Relevant Ads Seen"),u.bc(),u.bc(),u.bc(),u.bc(),u.bc(),u.cc(19,"div",4),u.cc(20,"div",5),u.cc(21,"div",6),u.cc(22,"div",9),u.Xb(23,"img",10),u.bc(),u.cc(24,"div"),u.cc(25,"h2"),u.Yc(26),u.bc(),u.cc(27,"h5"),u.Yc(28,"Credit Earned"),u.bc(),u.bc(),u.bc(),u.bc(),u.bc(),u.cc(29,"div",4),u.cc(30,"div",5),u.cc(31,"div",6),u.cc(32,"div",11),u.Xb(33,"img",12),u.bc(),u.cc(34,"div"),u.cc(35,"h2"),u.Yc(36,"$ "),u.cc(37,"strong"),u.Yc(38),u.bc(),u.bc(),u.cc(39,"h5"),u.Yc(40,"Cash Equivalent"),u.bc(),u.bc(),u.bc(),u.bc(),u.bc(),u.bc(),u.cc(41,"div",13),u.Wc(42,je,2,0,"button",14),u.bc(),u.bc(),u.Xb(43,"br"),u.bc()),2&e&&(u.Jb(16),u.Zc(t.adCount),u.Jb(10),u.Zc(0==t.creditEarned?"-":t.creditEarned),u.Jb(12),u.Zc(0==t.creditEarned?"-":t.creditEarned/1e3),u.Jb(4),u.zc("ngIf",t.creditEarned>=1e4))},directives:[I.c,I.d,I.a,I.b,r.n,re.a],styles:["h2[_ngcontent-%COMP%]{margin-bottom:16px;font-size:18px}h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%]{font-weight:300}h3[_ngcontent-%COMP%]{font-size:16px;font-stretch:normal;font-style:normal;line-height:normal;letter-spacing:normal;text-align:left;color:#000}.head--two[_ngcontent-%COMP%]{margin:0 0 30px}.head--two[_ngcontent-%COMP%]   .box-section[_ngcontent-%COMP%]{border:1px solid #ddd}.head--two[_ngcontent-%COMP%]   .ad--box[_ngcontent-%COMP%]{padding:10px 30px;border-radius:4px;background-color:#fff;height:7rem}.head--two[_ngcontent-%COMP%]   .ad--box[_ngcontent-%COMP%]   .round[_ngcontent-%COMP%]{border-radius:50%;padding:5px;border:1px solid #ab6eff;background-color:#fff;width:55px;height:55px;margin-right:21px;flex-shrink:0}.head--two[_ngcontent-%COMP%]   .ad--box[_ngcontent-%COMP%]   .round.two[_ngcontent-%COMP%]{border-color:#fcab2e}.head--two[_ngcontent-%COMP%]   .ad--box[_ngcontent-%COMP%]   .round.three[_ngcontent-%COMP%]{border-color:#00b54f}.head--two[_ngcontent-%COMP%]   .ad--box[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:36px;font-weight:700;color:#333;margin-bottom:0;line-height:47px}.head--two[_ngcontent-%COMP%]   .ad--box[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:16px;font-weight:500;color:#666;margin:0}.head--two[_ngcontent-%COMP%]   .ad--box[_ngcontent-%COMP%]   .month[_ngcontent-%COMP%]{font-size:14px;font-weight:400;font-stretch:normal;font-style:normal;line-height:normal;letter-spacing:normal;text-align:left;color:#999;margin-bottom:15px;margin-top:12px}.ad-preference-section[_ngcontent-%COMP%]{background:#fff9dd}.redeem-button[_ngcontent-%COMP%]{text-align:right}@media only screen and (max-width:599px){.head--two-section[_ngcontent-%COMP%], .head--two[_ngcontent-%COMP%]   .box-section[_ngcontent-%COMP%]{width:100%!important}.head--two[_ngcontent-%COMP%]   .ad--box[_ngcontent-%COMP%]{padding:10px 15px}.head--two[_ngcontent-%COMP%]   .ad--box[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:25px}.head--two[_ngcontent-%COMP%]   .ad--box[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:18px}.head--two[_ngcontent-%COMP%]   .ad--box[_ngcontent-%COMP%]   .round[_ngcontent-%COMP%]{width:50px;height:50px;padding:10px}}@media only screen and (min-width:600px) and (max-width:979px){.head--two[_ngcontent-%COMP%]   .ad--box[_ngcontent-%COMP%]{padding:10px 15px}.head--two[_ngcontent-%COMP%]   .ad--box[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:25px}.head--two[_ngcontent-%COMP%]   .ad--box[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:11px}.head--two[_ngcontent-%COMP%]   .ad--box[_ngcontent-%COMP%]   .round[_ngcontent-%COMP%]{border-radius:50%;padding:5px;border:1px solid #ab6eff;background-color:#fff;width:50px;height:50px;margin-right:10px;flex-shrink:0}}"]}),e}(),Be=function(){function e(e){this.authService=e,this.adCount=0,this.creditEarned=0,this.statsCard=[{card_color:"pink",title:"506",number:"Ads blocked",icon:"pan_tool",tourAnchor:"tour-ui",month:"This month"},{card_color:"orange",title:"147",number:"Relevant Ads Seen",icon:"remove_red_eye",month:"This month"},{card_color:"green",title:"1,234",number:"Credits  Earned",icon:"monetization_on",month:"This month"}],this.displayHeader=!1,this.completePartnerList=!1}return e.prototype.ngOnInit=function(){this.getAds()},e.prototype.getAds=function(){var e=this;this.authService.getAdsStatForCustomer().subscribe((function(t){e.adCount=t.adCount,e.creditEarned=1e3*t.creditEarned}))},e.\u0275fac=function(t){return new(t||e)(u.Wb(S.a))},e.\u0275cmp=u.Qb({type:e,selectors:[["ms-day2"]],decls:54,vars:4,consts:[[1,"gene-welcome-note"],["fxLayout","row","fxLayout.xs","column","fxLayout.sm","column","fxLayoutGap","1%","fxLayoutGap.xs","1%","fxLayoutGap.sm","3%"],["fxFlex.xs","100","fxFlex.sm","100","fxFlex","78",1,"head--two-section"],["fxLayout","row","fxLayoutGap","30px","fxLayoutAlign","start center","fxLayoutGap.sm","20px","fxLayout.xs","column","fxLayoutGap","10px","fxLayoutAlign.xs","start start",1,"head--two"],["fxFlex.xs","100","fxFlex.sm","30.33","fxFlex.md","33.33","fxFlex.lg","33.33","fxFlex.xl","33.33",1,"box-section"],["fxLayout","row","fxLayoutAlign","start center",1,"ad--box"],["fxLayout","row","fxLayoutAlign","start center"],["fxLayout","row","fxLayoutAlign","center center",1,"round","two"],["src","/assets/img/doranto-img/html-img/relevant-ads-seen1.png","alt","","width","33"],[1,"right","month-section"],[1,"month"],["fxLayout","row","fxLayoutAlign","center center",1,"round","three"],["src","assets/img/doranto-img/html-img/credits-earned1.png","alt","","width","23"],["fxLayout","row","fxLayoutAlign","center center",1,"round",2,"border","solid 1px #13a3ce"],["src","assets/img/doranto-img/credit-redeemable.png","alt","","width","23"],["fxFlex","22","fxFlex.xs","100","fxFlex.sm","100"],["fxLayout","row wrap","fxLayoutAlign","start stretch"],["fxFlex.sm","100","fxFlex.xs","100","fxFlex","78",3,"displayHeader","completePartnerList"],["fxLayout","row","fxLayoutAlign","start stretch"],["fxFlex.sm","100","fxFlex.xs","100","fxFlex","78",1,"ad-preference-section"]],template:function(e,t){1&e&&(u.cc(0,"div",0),u.cc(1,"h2"),u.Yc(2,"Dashboard"),u.bc(),u.bc(),u.cc(3,"div",1),u.cc(4,"div",2),u.cc(5,"div",3),u.cc(6,"div",4),u.cc(7,"div",5),u.cc(8,"div",6),u.cc(9,"div",7),u.Xb(10,"img",8),u.bc(),u.cc(11,"div"),u.cc(12,"h2"),u.Yc(13),u.bc(),u.cc(14,"h5"),u.Yc(15,"Relevant Ads Seen"),u.bc(),u.bc(),u.bc(),u.cc(16,"div",9),u.cc(17,"div",10),u.Yc(18,"This Month"),u.bc(),u.bc(),u.bc(),u.bc(),u.cc(19,"div",4),u.cc(20,"div",5),u.cc(21,"div",6),u.cc(22,"div",11),u.Xb(23,"img",12),u.bc(),u.cc(24,"div"),u.cc(25,"h2"),u.Yc(26),u.bc(),u.cc(27,"h5"),u.Yc(28,"Credit Earned"),u.bc(),u.bc(),u.bc(),u.cc(29,"div",9),u.cc(30,"div",10),u.Yc(31,"This Month"),u.bc(),u.bc(),u.bc(),u.bc(),u.cc(32,"div",4),u.cc(33,"div",5),u.cc(34,"div",6),u.cc(35,"div",13),u.Xb(36,"img",14),u.bc(),u.cc(37,"div"),u.cc(38,"h2"),u.Yc(39,"$"),u.cc(40,"strong"),u.Yc(41,"10.00"),u.bc(),u.bc(),u.cc(42,"h5"),u.Yc(43,"Cash Redeemed"),u.bc(),u.bc(),u.bc(),u.cc(44,"div",9),u.cc(45,"div",10),u.Yc(46,"This Month"),u.bc(),u.bc(),u.bc(),u.bc(),u.bc(),u.bc(),u.Xb(47,"ms-ad-blocker",15),u.Xb(48,"br"),u.bc(),u.cc(49,"div",16),u.Xb(50,"ms-partner-site",17),u.bc(),u.Xb(51,"br"),u.cc(52,"div",18),u.Xb(53,"ms-my-ad-preference",19),u.bc()),2&e&&(u.Jb(13),u.Zc(t.adCount),u.Jb(13),u.Zc(t.creditEarned),u.Jb(24),u.zc("displayHeader",t.displayHeader)("completePartnerList",t.completePartnerList))},directives:[I.c,I.d,I.a,I.b,Ce,ne,ce],styles:["h2[_ngcontent-%COMP%]{font-weight:300;margin-bottom:16px;font-size:18px}.head--two[_ngcontent-%COMP%]{margin:0 0 30px}.head--two[_ngcontent-%COMP%]   .box-section[_ngcontent-%COMP%]{border:1px solid #ddd}.head--two[_ngcontent-%COMP%]   .ad--box[_ngcontent-%COMP%]{padding:10px 30px;border-radius:4px;background-color:#fff}.head--two[_ngcontent-%COMP%]   .ad--box[_ngcontent-%COMP%]   .round[_ngcontent-%COMP%]{border-radius:50%;padding:5px;border:1px solid #ab6eff;background-color:#fff;width:55px;height:55px;margin-right:21px;flex-shrink:0}.head--two[_ngcontent-%COMP%]   .ad--box[_ngcontent-%COMP%]   .round.two[_ngcontent-%COMP%]{border-color:#fcab2e}.head--two[_ngcontent-%COMP%]   .ad--box[_ngcontent-%COMP%]   .round.three[_ngcontent-%COMP%]{border-color:#00b54f}.head--two[_ngcontent-%COMP%]   .ad--box[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:36px;font-weight:700;color:#333;margin-bottom:0;line-height:47px}.head--two[_ngcontent-%COMP%]   .ad--box[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:16px;font-weight:500;color:#666;margin:0}.head--two[_ngcontent-%COMP%]   .ad--box[_ngcontent-%COMP%]   .month[_ngcontent-%COMP%]{font-size:14px;font-weight:400;font-stretch:normal;font-style:normal;line-height:normal;letter-spacing:normal;text-align:left;color:#999;margin-bottom:15px;margin-top:12px}.ad-preference-section[_ngcontent-%COMP%]{background:#fff9dd}@media only screen and (max-width:599px){.head--two-section[_ngcontent-%COMP%], .head--two[_ngcontent-%COMP%]   .box-section[_ngcontent-%COMP%]{width:100%!important}.head--two[_ngcontent-%COMP%]   .ad--box[_ngcontent-%COMP%]{padding:10px 15px}.head--two[_ngcontent-%COMP%]   .ad--box[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:25px}.head--two[_ngcontent-%COMP%]   .ad--box[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:18px}.head--two[_ngcontent-%COMP%]   .ad--box[_ngcontent-%COMP%]   .round[_ngcontent-%COMP%]{width:50px;height:50px;padding:10px}}@media only screen and (min-width:600px) and (max-width:979px){.head--two[_ngcontent-%COMP%]   .ad--box[_ngcontent-%COMP%]{padding:10px 15px}.head--two[_ngcontent-%COMP%]   .ad--box[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:25px}.head--two[_ngcontent-%COMP%]   .ad--box[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:11px}.head--two[_ngcontent-%COMP%]   .ad--box[_ngcontent-%COMP%]   .round[_ngcontent-%COMP%]{border-radius:50%;padding:5px;border:1px solid #ab6eff;background-color:#fff;width:50px;height:50px;margin-right:10px;flex-shrink:0}}"]}),e}(),Ge=["fileInput"];function qe(e,t){if(1&e&&u.Xb(0,"div",32),2&e){var n=u.sc();u.Sc("background-image: url('",n.profileImg,"'); background-size: cover;background-position: center;")}}function Ye(e,t){if(1&e&&(u.cc(0,"div",33),u.cc(1,"span",34),u.Yc(2),u.bc(),u.bc()),2&e){var n=u.sc();u.Jb(2),u.ad(" ",n.nameInitial," ")}}function Je(e,t){if(1&e){var n=u.dc();u.cc(0,"div",35),u.cc(1,"span",13),u.oc("click",(function(){return u.Mc(n),u.sc().removeUploadedFile()})),u.Yc(2," close"),u.bc(),u.bc()}}function Xe(e,t){if(1&e&&(u.cc(0,"small",36),u.Yc(1),u.bc()),2&e){var n=u.sc();u.Jb(1),u.ad(" ",n.profileImgError," ")}}function Qe(e,t){if(1&e&&(u.cc(0,"small",37),u.Yc(1),u.bc()),2&e){var n=u.sc();u.Jb(1),u.ad(" ",n.message.error[6]," ")}}function Ke(e,t){if(1&e&&(u.cc(0,"small",37),u.Yc(1),u.bc()),2&e){var n=u.sc();u.Jb(1),u.ad(" ",n.message.error[7]," ")}}function Ze(e,t){if(1&e&&(u.cc(0,"small",37),u.Yc(1),u.bc()),2&e){var n=u.sc();u.Jb(1),u.ad(" ",n.message.error[7]," ")}}function $e(e,t){if(1&e&&(u.cc(0,"small",37),u.Yc(1),u.bc()),2&e){var n=u.sc();u.Jb(1),u.ad(" ",n.message.error[10]," ")}}function et(e,t){if(1&e&&(u.cc(0,"small",37),u.Yc(1),u.bc()),2&e){var n=u.sc();u.Jb(1),u.ad(" ",n.message.error[11]," ")}}function tt(e,t){if(1&e&&(u.cc(0,"small",37),u.Yc(1),u.bc()),2&e){var n=u.sc();u.Jb(1),u.ad(" ",n.message.error[11]," ")}}function nt(e,t){if(1&e&&(u.cc(0,"small",37),u.Yc(1),u.bc()),2&e){var n=u.sc();u.Jb(1),u.ad(" ",n.message.error[1]," ")}}function rt(e,t){if(1&e&&(u.cc(0,"small",37),u.Yc(1),u.bc()),2&e){var n=u.sc();u.Jb(1),u.ad(" ",n.message.error[2]," ")}}function it(e,t){if(1&e&&(u.cc(0,"small",37),u.Yc(1),u.bc()),2&e){var n=u.sc();u.Jb(1),u.ad(" ",n.message.error[28]," ")}}function at(e,t){if(1&e&&(u.cc(0,"small",37),u.Yc(1),u.bc()),2&e){var n=u.sc();u.Jb(1),u.ad(" ",n.message.error[2]," ")}}function ot(e,t){if(1&e&&(u.cc(0,"small",37),u.Yc(1),u.bc()),2&e){var n=u.sc();u.Jb(1),u.ad(" ",n.message.error[2]," ")}}function st(e,t){if(1&e&&(u.cc(0,"small",37),u.Yc(1),u.bc()),2&e){var n=u.sc();u.Jb(1),u.ad(" ",n.message.error[2]," ")}}var ct=function(e){return{right:e}},lt=function(){function e(e,t,n,r,i,a){this.authService=e,this.fb=t,this.cd=n,this.router=r,this.dialog=i,this.commonService=a,this.socialAccount=!1,this.hideEditIconForProfilePicture=!1,this.hideEditIconForName=!1,this.hideChangePassword=!1,this.hideProfilePicture=!1,this.hideInitial=!1,this.hideSaveButton=!1,this.hideRemove=!1,this.editPaypal=!0,this.profileImg="/assets/img/doranto-img/profile-image.jpg",this.profilePic=!0,this.ErrorProfileImg=!1,this.emailRegex=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,this.registrationForm=this.fb.group({file:[null]}),this.imageUrl="https://i.pinimg.com/236x/d6/27/d9/d627d9cda385317de4812a4f7bd922e9--man--iron-man.jpg"}return e.prototype.ngOnInit=function(){this.initForm(),this.getUserDetails(),this.message=A.a},e.prototype.initForm=function(){this.form=this.fb.group({firstName:[null,U.A.compose([U.A.required,this.noWhitespaceValidator,U.A.pattern("^[a-zA-Z ]*$")])],lastName:[null,U.A.compose([U.A.required,this.noWhitespaceValidator,U.A.pattern("^[a-zA-Z ]*$")])],email:[null,U.A.compose([U.A.required,this.noWhitespaceValidator,U.A.pattern(this.emailRegex)])],paypalEmail:[null,U.A.compose([this.noWhitespaceValidator,U.A.pattern(this.emailRegex)])]})},e.prototype.noWhitespaceValidator=function(e){return(e.value||"").toString().match(/\s/g)?{whitespace:!0}:null},e.prototype.save=function(){var e=this,t=this.form.value;t.userId=JSON.parse(localStorage.getItem("endUser")).userId,this.authService.updateUser(t).subscribe((function(t){t&&(e.authService.changeProfilePicture("imageChange"),t.dataUpdated&&t.mailChangeRequest?e.openErrorDialog(A.a.popUpMessages.CHANGE_EMAIL_CONFIRMATION,A.a.popUpHeaders.EMAIL_SENT):e.openErrorDialog(A.a.popUpMessages.DATA_SAVED_SUCCESSFULLY,A.a.popUpHeaders.SUCCESS))}),(function(t){console.log(t.error),t.error.data.auth||e.authService.userLogout()}))},e.prototype.cancel=function(){this.form.reset(),this.commonService.rediectCustomerD1Adpreference()},e.prototype.onEditOptionClicked=function(){document.getElementById("file_pick").click()},e.prototype.onFileSelected=function(e){var t=this,n=new FileReader;if(e.target.files&&e.target.files[0]){var r=e.target.files[0],i="";if(r.name&&(i=r.name.split(".").pop().toLowerCase()),"jpeg"==i||"png"==i||"jpg"==i||"pmg"==i||"bmp"==i)if(r.size/1048576<=3){var a=new FileReader;a.readAsDataURL(r);var o=this;a.onloadend=function(e){o.image=e.target.result,o.uploadDocument()},n.onload=function(){t.profileImg=n.result,t.hideInitial=!1,t.hideProfilePicture=!0,t.hideRemove=!0,t.registrationForm.patchValue({file:n.result})},this.cd.markForCheck(),this.profileImgError=""}else this.ErrorProfileImg=!0,this.profileImgError="Maximum allowed size is 3 MB";else this.ErrorProfileImg=!0,this.profileImgError="Incorrect format. Supported format jpeg, png, jpg, bmp & pmg";n.readAsDataURL(r)}},e.prototype.uploadDocument=function(){var e=this,t={imageDetails:this.image,userId:JSON.parse(localStorage.getItem("endUser")).userId};null!=t&&this.authService.profilePicture(t).subscribe((function(t){t&&e.authService.changeProfilePicture("imageChange")}),(function(t){console.log(t.error),t.error.data.auth||e.authService.userLogout()}))},e.prototype.getProfilePicture=function(e){var t=this;this.ErrorProfileImg=!1,this.authService.getProfilePicture({profileImage:e}).subscribe((function(e){t.profileImg=e.imageUrl,t.hideRemove=!0}),(function(e){e.error.data.auth||t.authService.userLogout()}))},e.prototype.callPasswordChange=function(){this.router.navigate(["/dashboard/change-password"])},e.prototype.removeUploadedFile=function(){var e=this;this.ErrorProfileImg=!1,Array.from(this.el.nativeElement.files),this.imageUrl="https://i.pinimg.com/236x/d6/27/d9/d627d9cda385317de4812a4f7bd922e9--man--iron-man.jpg",this.profileImg="",this.hideInitial=!0,this.hideProfilePicture=!1,this.hideRemove=!1,this.authService.deleteProfileImage(this.profileImg).subscribe((function(t){t&&(e.authService.changeProfilePicture("imageChange"),e.getUserDetails())}),(function(t){t.error.data&&(t.error.data.auth||e.authService.userLogout())}))},e.prototype.editPaypalEmail=function(){this.editPaypal=!1},e.prototype.setPaypalEmail=function(){var e=this;this.authService.setPaypalEmail({paypalEmail:this.paypalEmailUser}).subscribe((function(t){t&&(e.authService.changeProfilePicture("imageChange"),e.openErrorDialog(A.a.popUpMessages.PAYPAL_EMAIL_UPDATED,A.a.popUpHeaders.SUCCESS))}),(function(t){t.error.data&&(t.error.data.auth||e.authService.userLogout())}))},e.prototype.getUserDetails=function(){var e=this;this.ErrorProfileImg=!1;var t={userId:JSON.parse(localStorage.getItem("endUser")).userId};this.authService.getUserDetailsById(t).subscribe((function(t){t.socialLogin.length>0?(e.hideChangePassword=!1,e.hideEditIconForName=!1,e.hideEditIconForProfilePicture=!0,e.hideSaveButton=!1,e.hideRemove=!0):(e.hideRemove=!0,e.hideChangePassword=!0,e.hideEditIconForName=!0,e.hideEditIconForProfilePicture=!0,e.hideSaveButton=!0),t.profileImage?(e.hideInitial=!1,e.hideProfilePicture=!0,e.hideRemove=!0,e.getProfilePicture(t.profileImage)):(e.nameInitial=t.firstName.charAt(0),e.hideInitial=!0,e.hideRemove=!1,e.hideProfilePicture=!1,e.hideEditIconForProfilePicture=!0),e.fullName=t.firstName+" "+t.lastName,e.email=t.email,e.paypalEmailUser=t.paypalEmail,e.form.patchValue({firstName:t.firstName,lastName:t.lastName,email:t.email,paypalEmail:t.paypalEmail?t.paypalEmail:""}),e.tempEmail=t.email}),(function(t){t.error.data&&(t.error.data.auth||e.authService.userLogout())}))},e.prototype.openErrorDialog=function(e,t){var n=this;this.dialogRefLocation=this.dialog.open(M.a,{panelClass:"dialog-message",data:{msg:e,headerMsg:t}}),this.dialogRefLocation.afterClosed().subscribe((function(e){n.commonService.rediectCustomerD1Adpreference()}))},e.\u0275fac=function(t){return new(t||e)(u.Wb(S.a),u.Wb(U.f),u.Wb(u.i),u.Wb(a.f),u.Wb(R.b),u.Wb(T.a))},e.\u0275cmp=u.Qb({type:e,selectors:[["ms-profile-info"]],viewQuery:function(e,t){var n;1&e&&u.dd(Ge,!0),2&e&&u.Hc(n=u.pc())&&(t.el=n.first)},decls:68,vars:21,consts:[["fxLayoutAlign","center center","fxFlex.xl","500px","fxFlex.lg","500px","fxFlex.md","500px","fxFlex.sm","500px","fxFlex.xs","100",1,"chnage-password-section"],["fxLayout","row","fxLayoutAlign","center start"],["fxFlex","100",1,"profile-wrapper"],["fxLayout","column"],[1,"right","change-password"],[3,"click"],["fxShow.xs","true","fxShow.sm","true"],[1,"user-thumb","grid"],["width","150","height","150","class","img-responsive img-circle",3,"style",4,"ngIf"],["width","150","height","150","alt","profile image","class","img-responsive img-circle profile-img--section",4,"ngIf"],["fxHide","","type","file","accept","image/x-png,image/pmg,image/jpeg,image/jpg,image/bmp",3,"change"],["fileInput",""],["ngClass","profile-edit-thumb","ngClass.xs","profile-edit-thumb_xs","ngClass.sm","profile-edit-thumb_sm",3,"ngStyle"],[1,"material-icons","profile--edit--icon",3,"click"],["ngClass","profile-delete-thumb","ngClass.xs","profile-delete-thumb_xs","ngClass.sm","profile-delete-thumb_sm",4,"ngIf"],["class","gene-block warn-text error-message invalid-format",4,"ngIf"],[3,"formGroup"],["fxLayout","column","fxLayoutAlign","start stretch"],["fxLayout","row","fxFlex","100"],["fxFlex","50"],["fxFlex","95","appearance","outline",1,"profile-info-mat-form"],["matInput","","type","text","maxlength","256","name","firstName","formControlName","firstName",2,"text-transform","capitalize",3,"keydown.space"],["fxFlex","100","appearance","outline",1,"profile-info-mat-form"],["matInput","","type","text","maxlength","256","name","lastName","formControlName","lastName",2,"text-transform","capitalize",3,"keydown.space"],[1,"message-block","error-display"],["class","gene-block","class","warn-text error-message",4,"ngIf"],["appearance","outline",1,"profile-info-mat-form"],["matInput","","type","text","maxlength","256","formControlName","email"],["matInput","","type","text","maxlength","256","formControlName","paypalEmail"],["fxLayoutAlign","center center"],["mat-raised-button","",1,"cancel-btn",3,"click"],["mat-raised-button","",1,"save-btn",3,"disabled","click"],["width","150","height","150",1,"img-responsive","img-circle"],["width","150","height","150","alt","profile image",1,"img-responsive","img-circle","profile-img--section"],[1,"user-intial-letter"],["ngClass","profile-delete-thumb","ngClass.xs","profile-delete-thumb_xs","ngClass.sm","profile-delete-thumb_sm"],[1,"gene-block","warn-text","error-message","invalid-format"],[1,"warn-text","error-message"]],template:function(e,t){if(1&e){var n=u.dc();u.cc(0,"div",0),u.cc(1,"h2"),u.Yc(2,"Account Settings"),u.bc(),u.cc(3,"div",1),u.cc(4,"mat-card",2),u.cc(5,"div",3),u.cc(6,"div",4),u.cc(7,"a",5),u.oc("click",(function(){return t.callPasswordChange()})),u.Yc(8," Change Password "),u.bc(),u.bc(),u.bc(),u.Xb(9,"br",6),u.cc(10,"div",7),u.Wc(11,qe,1,3,"div",8),u.Wc(12,Ye,3,1,"div",9),u.cc(13,"input",10,11),u.oc("change",(function(e){return t.onFileSelected(e)})),u.bc(),u.cc(15,"div",12),u.cc(16,"span",13),u.oc("click",(function(){return u.Mc(n),u.Ic(14).click()})),u.Yc(17," edit "),u.bc(),u.bc(),u.Wc(18,Je,3,0,"div",14),u.bc(),u.Xb(19,"br"),u.Wc(20,Xe,2,1,"small",15),u.Xb(21,"br"),u.cc(22,"form",16),u.cc(23,"div",17),u.cc(24,"div",18),u.cc(25,"div",19),u.cc(26,"mat-form-field",20),u.cc(27,"mat-label"),u.Yc(28,"First Name*"),u.bc(),u.cc(29,"input",21),u.oc("keydown.space",(function(e){return e.preventDefault()})),u.bc(),u.bc(),u.bc(),u.cc(30,"div",19),u.cc(31,"mat-form-field",22),u.cc(32,"mat-label"),u.Yc(33,"Last Name*"),u.bc(),u.cc(34,"input",23),u.oc("keydown.space",(function(e){return e.preventDefault()})),u.bc(),u.bc(),u.bc(),u.bc(),u.cc(35,"div",18),u.cc(36,"div",19),u.cc(37,"div",24),u.Wc(38,Qe,2,1,"small",25),u.Wc(39,Ke,2,1,"small",25),u.Wc(40,Ze,2,1,"small",25),u.bc(),u.bc(),u.cc(41,"div",19),u.cc(42,"div",24),u.Wc(43,$e,2,1,"small",25),u.Wc(44,et,2,1,"small",25),u.Wc(45,tt,2,1,"small",25),u.bc(),u.bc(),u.bc(),u.cc(46,"mat-form-field",26),u.cc(47,"mat-label"),u.Yc(48,"Enter Email*"),u.bc(),u.Xb(49,"input",27),u.bc(),u.cc(50,"div",24),u.Wc(51,nt,2,1,"small",25),u.Wc(52,rt,2,1,"small",25),u.Wc(53,it,2,1,"small",25),u.Wc(54,at,2,1,"small",25),u.bc(),u.cc(55,"mat-form-field",26),u.cc(56,"mat-label"),u.Yc(57,"Enter Paypal Email"),u.bc(),u.Xb(58,"input",28),u.bc(),u.cc(59,"div",24),u.Wc(60,ot,2,1,"small",25),u.Wc(61,st,2,1,"small",25),u.bc(),u.bc(),u.bc(),u.Xb(62,"br"),u.cc(63,"mat-card-actions",29),u.cc(64,"button",30),u.oc("click",(function(){return t.cancel()})),u.Yc(65,"Cancel"),u.bc(),u.cc(66,"button",31),u.oc("click",(function(){return t.save()})),u.Yc(67,"\xa0Save\xa0"),u.bc(),u.bc(),u.bc(),u.bc(),u.bc()}2&e&&(u.Jb(11),u.zc("ngIf",t.hideProfilePicture),u.Jb(1),u.zc("ngIf",t.hideInitial),u.Jb(3),u.zc("ngStyle",u.Dc(19,ct,t.hideRemove?"50%":"48%")),u.Jb(3),u.zc("ngIf",t.hideRemove),u.Jb(2),u.zc("ngIf",t.ErrorProfileImg),u.Jb(2),u.zc("formGroup",t.form),u.Jb(16),u.zc("ngIf",t.form.controls.firstName.hasError("required")&&t.form.controls.firstName.touched),u.Jb(1),u.zc("ngIf",t.form.controls.firstName.hasError("pattern")),u.Jb(1),u.zc("ngIf",t.form.controls.firstName.hasError("whitespace")&&t.form.controls.firstName.touched),u.Jb(3),u.zc("ngIf",t.form.controls.lastName.hasError("required")&&t.form.controls.lastName.touched),u.Jb(1),u.zc("ngIf",t.form.controls.lastName.hasError("pattern")),u.Jb(1),u.zc("ngIf",t.form.controls.lastName.hasError("whitespace")&&t.form.controls.lastName.touched),u.Jb(6),u.zc("ngIf",t.form.controls.email.hasError("required")&&t.form.controls.email.touched),u.Jb(1),u.zc("ngIf",t.form.controls.email.hasError("whitespace")&&t.form.controls.email.touched),u.Jb(1),u.zc("ngIf",t.form.controls.email.hasError("isEmailExist")),u.Jb(1),u.zc("ngIf",t.form.controls.email.hasError("pattern")&&t.form.controls.email.touched),u.Jb(6),u.zc("ngIf",t.form.controls.paypalEmail.hasError("whitespace")&&t.form.controls.paypalEmail.touched),u.Jb(1),u.zc("ngIf",t.form.controls.paypalEmail.hasError("pattern")&&t.form.controls.paypalEmail.touched),u.Jb(5),u.zc("disabled",t.form.pristine||!t.form.valid))},directives:[I.b,I.a,I.c,V.a,E.b,r.n,r.l,E.a,r.o,E.c,U.C,U.s,U.k,N.b,N.e,D.b,U.d,U.n,U.r,U.i,V.b,re.a],styles:[".chnage-password-section[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto;display:block!important}.chnage-password-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-weight:300;margin-bottom:16px;font-size:18px}.chnage-password-section[_ngcontent-%COMP%]   .profile-wrapper[_ngcontent-%COMP%]{background-color:#fff9dd;margin:0 0 10px;padding-bottom:35px}.chnage-password-section[_ngcontent-%COMP%]   .profile-wrapper[_ngcontent-%COMP%]   .mat-form-field-appearance-outline[_ngcontent-%COMP%]   .mat-form-field-flex[_ngcontent-%COMP%]{padding:0 .75em;margin-top:0!important;position:relative;background:#fff!important}.chnage-password-section[_ngcontent-%COMP%]   .mat-form-field-infix[_ngcontent-%COMP%]{padding:.5em 0;border-top:.84375em solid transparent}.chnage-password-section[_ngcontent-%COMP%]   .change-password[_ngcontent-%COMP%]{font-size:14px;font-weight:500;text-align:right;color:#00b54f;margin-top:15px}.chnage-password-section[_ngcontent-%COMP%]   .change-password[_ngcontent-%COMP%], .chnage-password-section[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-stretch:normal;font-style:normal;line-height:normal;letter-spacing:normal}.chnage-password-section[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:16px;font-weight:400;text-align:center;color:#333}.chnage-password-section[_ngcontent-%COMP%]   .email-section[_ngcontent-%COMP%]{display:flex;text-align:center;justify-content:center}.chnage-password-section[_ngcontent-%COMP%]   .save-btn[_ngcontent-%COMP%]{border-radius:6px;background-color:#00b54f;font-size:15px!important;height:45px!important;margin-left:20px}.chnage-password-section[_ngcontent-%COMP%]   .cancel-btn[_ngcontent-%COMP%]{border-radius:6px;border:1px solid #00b54f!important;background-color:#fff!important;color:#00b54f!important;box-shadow:none!important;font-size:15px!important;height:45px!important}.chnage-password-section[_ngcontent-%COMP%]   .user-thumb[_ngcontent-%COMP%]{display:flex;text-align:center;margin-left:auto;justify-content:center;position:relative}.chnage-password-section[_ngcontent-%COMP%]   .profile-edit-thumb[_ngcontent-%COMP%]{width:26px;height:25px;background-color:#fff;border-radius:100%;position:absolute;top:90%;right:48%;cursor:pointer;line-height:1.8;border:1px solid #00b54f!important}.chnage-password-section[_ngcontent-%COMP%]   .profile-edit-thumb_xs[_ngcontent-%COMP%]{right:29%}.chnage-password-section[_ngcontent-%COMP%]   .profile-edit-thumb_sm[_ngcontent-%COMP%], .chnage-password-section[_ngcontent-%COMP%]   .profile-edit-thumb_xs[_ngcontent-%COMP%]{width:25px;height:25px;background-color:#fff;border-radius:100%;position:absolute;top:90%;cursor:pointer;line-height:2.3;border:1px solid #00b54f!important}.chnage-password-section[_ngcontent-%COMP%]   .profile-edit-thumb_sm[_ngcontent-%COMP%]{right:36%}.chnage-password-section[_ngcontent-%COMP%]   .profile-delete-thumb[_ngcontent-%COMP%]{width:26px;height:25px;background-color:#fff;border-radius:100%;position:absolute;top:90%;right:43%;cursor:pointer;line-height:1.8;border:1px solid #00b54f!important}.chnage-password-section[_ngcontent-%COMP%]   .profile-delete-thumb_xs[_ngcontent-%COMP%]{right:41%}.chnage-password-section[_ngcontent-%COMP%]   .profile-delete-thumb_sm[_ngcontent-%COMP%], .chnage-password-section[_ngcontent-%COMP%]   .profile-delete-thumb_xs[_ngcontent-%COMP%]{width:25px;height:25px;background-color:#fff;border-radius:100%;position:absolute;top:90%;cursor:pointer;line-height:2.3;border:1px solid #00b54f!important}.chnage-password-section[_ngcontent-%COMP%]   .profile-delete-thumb_sm[_ngcontent-%COMP%]{right:43%}.chnage-password-section[_ngcontent-%COMP%]   .edit-thumb[_ngcontent-%COMP%]{width:25px;height:25px;background-color:#00b54f;border-radius:100%;margin-top:-.005rem;cursor:pointer;line-height:2}.chnage-password-section[_ngcontent-%COMP%]   .edit-thumb_sm[_ngcontent-%COMP%], .chnage-password-section[_ngcontent-%COMP%]   .edit-thumb_xs[_ngcontent-%COMP%]{width:25px;height:25px;background-color:#00b54f;border-radius:100%;margin-top:-.005rem;cursor:pointer;line-height:2.3}.chnage-password-section[_ngcontent-%COMP%]   .edit--icon[_ngcontent-%COMP%]{color:#fff!important;background:#00b54f!important;font-size:16px}.chnage-password-section[_ngcontent-%COMP%]   .profile--edit--icon[_ngcontent-%COMP%]{color:#00b54f!important;background:#fff!important;font-size:16px}.chnage-password-section[_ngcontent-%COMP%]   .img-responsive[_ngcontent-%COMP%]{width:150px;height:150px}.chnage-password-section[_ngcontent-%COMP%]   .profile-img--section[_ngcontent-%COMP%]{border-radius:50%;width:150px;height:150px;background-color:#00b54f}.chnage-password-section[_ngcontent-%COMP%]   .user-intial-letter[_ngcontent-%COMP%]{color:#fff;font-size:40px;position:relative;top:3rem}.chnage-password-section[_ngcontent-%COMP%]   .account--num[_ngcontent-%COMP%]{font-size:26px;font-weight:700;color:#333;margin:30px 0 35px;text-align:center}.chnage-password-section[_ngcontent-%COMP%]   .message-block[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{display:none}.chnage-password-section[_ngcontent-%COMP%]   .message-block[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]:first-child{display:block}  .profile-wrapper .mat-form-field-outline-end,   .profile-wrapper .mat-form-field-outline-gap,   .profile-wrapper .mat-form-field-outline-start{background:#fff!important}"]}),e}(),ut=n("4BGn");function dt(e,t){if(1&e&&(u.cc(0,"small",16),u.Yc(1),u.bc()),2&e){var n=u.sc();u.Jb(1),u.Zc(n.message.error[9])}}function ht(e,t){if(1&e&&(u.cc(0,"small",16),u.Yc(1),u.bc()),2&e){var n=u.sc();u.Jb(1),u.Zc(n.message.error[18])}}function ft(e,t){if(1&e&&(u.cc(0,"small",16),u.Yc(1),u.bc()),2&e){var n=u.sc();u.Jb(1),u.Zc(n.message.error[18])}}function pt(e,t){if(1&e&&(u.cc(0,"small",16),u.Yc(1),u.bc()),2&e){var n=u.sc();u.Jb(1),u.Zc(n.message.error[21])}}function gt(e,t){if(1&e&&(u.cc(0,"small",16),u.Yc(1),u.bc()),2&e){var n=u.sc();u.Jb(1),u.Zc(n.message.error[15])}}function mt(e,t){if(1&e&&(u.cc(0,"small",16),u.Yc(1),u.bc()),2&e){var n=u.sc();u.Jb(1),u.Zc(n.message.error[5])}}function vt(e,t){if(1&e&&(u.cc(0,"small",16),u.Yc(1),u.bc()),2&e){var n=u.sc();u.Jb(1),u.Zc(n.message.error[5])}}function bt(e,t){if(1&e&&(u.cc(0,"small",16),u.Yc(1),u.bc()),2&e){var n=u.sc();u.Jb(1),u.Zc(n.message.error[20])}}function _t(e,t){if(1&e&&(u.cc(0,"small",16),u.Yc(1),u.bc()),2&e){var n=u.sc();u.Jb(1),u.Zc(n.message.error[17])}}var yt=function(){function e(e,t,n,r,i){this.fb=e,this.router=t,this.commonService=n,this.dialog=r,this.authService=i,this.invalidExistPassword=!1}return e.prototype.save=function(){this.router.navigateByUrl("/dashboard/profile-info")},e.prototype.cancel=function(){this.form.reset()},e.prototype.ngOnInit=function(){this.regex=ut.a,this.form=this.fb.group({currentPassword:new U.g("",[U.A.required,U.A.pattern(this.regex.pattern.PASSWORD)]),newPassword:new U.g("",[U.A.required,U.A.pattern(this.regex.pattern.PASSWORD),this.commonService.noWhitespaceValidator]),confirmPassword:new U.g("")},{validator:this.commonService.comparePassword}),this.message=A.a},e.prototype.resetYourPassword=function(){var e=this,t=this.form.value.confirmPassword,n={userId:JSON.parse(localStorage.getItem("endUser")).userId,password:this.form.value.currentPassword,newPassword:this.form.value.newPassword};""!=t&&""!=n.password&&""!=n.newPassword&&this.authService.changePassword(n).subscribe((function(t){1==t&&e.openErrorDialog(A.a.popUpMessages.PASSWORD_CHANGED,A.a.popUpHeaders.SUCCESS)}),(function(t){"inValidExistingPassword"==t.error.text&&(e.form.controls.currentPassword.setValue(""),e.form.controls.currentPassword.markAsUntouched(),e.invalidExistPassword=!0,e.form.controls.currentPassword.setErrors({invalidExistPassword:!0})),t.error.data&&(t.error.data.auth||e.authService.userLogout())}))},e.prototype.openErrorDialog=function(e,t){var n=this;this.dialogRefLocation=this.dialog.open(M.a,{panelClass:"dialog-message",data:{msg:e,headerMsg:t}}),this.dialogRefLocation.afterClosed().subscribe((function(e){n.router.navigateByUrl("/dashboard/profile-info")}))},e.\u0275fac=function(t){return new(t||e)(u.Wb(U.f),u.Wb(a.f),u.Wb(T.a),u.Wb(R.b),u.Wb(S.a))},e.\u0275cmp=u.Qb({type:e,selectors:[["ms-change-password"]],decls:42,vars:11,consts:[["fxLayoutAlign","center center","fxFlex.xl","500px","fxFlex.lg","500px","fxFlex.md","500px","fxFlex.sm","500px","fxFlex.xs","100",1,"chnage-password-section"],["fxLayout","row","fxLayoutAlign","center start"],["fxFlex","100",1,"profile-wrapper"],["fxLayout","column"],[1,"change-title"],[3,"formGroup"],["fxLayout","column","fxLayoutAlign","start stretch"],["appearance","outline"],["matInput","","type","password","maxlength","16","formControlName","currentPassword",3,"keydown.space"],[1,"message-block"],["class","gene-block","class","warn-text error-message",4,"ngIf"],["matInput","","type","password","maxlength","16","formControlName","newPassword",3,"keydown.space"],["matInput","","type","password","maxlength","16","formControlName","confirmPassword",3,"keydown.space"],["fxLayoutAlign","center center"],["mat-raised-button","","routerLink","/dashboard/profile-info",1,"cancel-btn"],["mat-raised-button","",1,"save-btn",3,"disabled","click"],[1,"warn-text","error-message"]],template:function(e,t){1&e&&(u.cc(0,"div",0),u.cc(1,"h2"),u.Yc(2,"Account Settings"),u.bc(),u.cc(3,"div",1),u.cc(4,"mat-card",2),u.cc(5,"div"),u.cc(6,"div",3),u.cc(7,"div",4),u.cc(8,"h5"),u.Yc(9,"Change Password"),u.bc(),u.bc(),u.bc(),u.Xb(10,"br"),u.cc(11,"form",5),u.cc(12,"div",6),u.cc(13,"mat-form-field",7),u.cc(14,"mat-label"),u.Yc(15,"Enter Current Password*"),u.bc(),u.cc(16,"input",8),u.oc("keydown.space",(function(e){return e.preventDefault()})),u.bc(),u.bc(),u.cc(17,"div",9),u.Wc(18,dt,2,1,"small",10),u.Wc(19,ht,2,1,"small",10),u.Wc(20,ft,2,1,"small",10),u.Wc(21,pt,2,1,"small",10),u.bc(),u.cc(22,"mat-form-field",7),u.cc(23,"mat-label"),u.Yc(24,"Enter New Password*"),u.bc(),u.cc(25,"input",11),u.oc("keydown.space",(function(e){return e.preventDefault()})),u.bc(),u.bc(),u.cc(26,"div",9),u.Wc(27,gt,2,1,"small",10),u.Wc(28,mt,2,1,"small",10),u.Wc(29,vt,2,1,"small",10),u.Wc(30,bt,2,1,"small",10),u.bc(),u.cc(31,"mat-form-field",7),u.cc(32,"mat-label"),u.Yc(33,"Confirm New Password*"),u.bc(),u.cc(34,"input",12),u.oc("keydown.space",(function(e){return e.preventDefault()})),u.bc(),u.bc(),u.cc(35,"div",9),u.Wc(36,_t,2,1,"small",10),u.bc(),u.cc(37,"mat-card-actions",13),u.cc(38,"button",14),u.Yc(39,"Cancel"),u.bc(),u.cc(40,"button",15),u.oc("click",(function(){return t.resetYourPassword()})),u.Yc(41,"\xa0Save\xa0"),u.bc(),u.bc(),u.bc(),u.bc(),u.bc(),u.bc(),u.bc(),u.bc()),2&e&&(u.Jb(11),u.zc("formGroup",t.form),u.Jb(7),u.zc("ngIf",t.form.controls.currentPassword.hasError("required")&&t.form.controls.currentPassword.touched),u.Jb(1),u.zc("ngIf",t.form.controls.currentPassword.hasError("pattern")&&t.form.controls.currentPassword.touched),u.Jb(1),u.zc("ngIf",t.form.controls.currentPassword.hasError("whitespace")&&t.form.controls.currentPassword.touched),u.Jb(1),u.zc("ngIf",t.form.controls.currentPassword.hasError("invalidExistPassword")),u.Jb(6),u.zc("ngIf",t.form.controls.newPassword.hasError("required")&&t.form.controls.newPassword.touched),u.Jb(1),u.zc("ngIf",t.form.controls.newPassword.hasError("pattern")&&t.form.controls.newPassword.touched),u.Jb(1),u.zc("ngIf",t.form.controls.newPassword.hasError("whitespace")&&t.form.controls.newPassword.touched),u.Jb(1),u.zc("ngIf",t.form.controls.newPassword.hasError("oldPasswordCompare")),u.Jb(6),u.zc("ngIf",t.form.controls.confirmPassword.hasError("passwordCompare")),u.Jb(4),u.zc("disabled",!t.form.valid))},directives:[I.b,I.a,I.c,V.a,U.C,U.s,U.k,N.b,N.e,D.b,U.d,U.n,U.r,U.i,r.n,V.b,re.a,a.g],styles:[".chnage-password-section[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto;display:block!important}.chnage-password-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-weight:300;margin-bottom:16px;font-size:18px}.chnage-password-section[_ngcontent-%COMP%]   .profile-wrapper[_ngcontent-%COMP%]{background-color:#fff9dd;margin:0!important}.chnage-password-section[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:16px;font-weight:500;font-stretch:normal;font-style:normal;line-height:normal;letter-spacing:normal;text-align:left;color:#333}.chnage-password-section[_ngcontent-%COMP%]   .profile-wrapper[_ngcontent-%COMP%]   .mat-form-field-appearance-outline[_ngcontent-%COMP%]   .mat-form-field-flex[_ngcontent-%COMP%]{padding:0 .75em;margin-top:0!important;position:relative;background:#fff!important}.chnage-password-section[_ngcontent-%COMP%]   .mat-form-field-infix[_ngcontent-%COMP%]{padding:.5em 0;border-top:.84375em solid transparent}.chnage-password-section[_ngcontent-%COMP%]   .change-title[_ngcontent-%COMP%]{font-size:16px;font-weight:500;font-stretch:normal;font-style:normal;line-height:normal;letter-spacing:normal;text-align:left;color:#333}.chnage-password-section[_ngcontent-%COMP%]   .save-btn[_ngcontent-%COMP%]{border-radius:6px;background-color:#00b54f;font-size:15px!important;height:45px!important;margin-left:20px}.chnage-password-section[_ngcontent-%COMP%]   .cancel-btn[_ngcontent-%COMP%]{border-radius:6px;border:1px solid #00b54f!important;background-color:#fff!important;color:#00b54f!important;box-shadow:none!important;font-size:15px!important;height:45px!important}.chnage-password-section[_ngcontent-%COMP%]   .message-block[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{display:none}.chnage-password-section[_ngcontent-%COMP%]   .message-block[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]:first-child{display:block}  .profile-wrapper .mat-form-field-outline-end,   .profile-wrapper .mat-form-field-outline-gap,   .profile-wrapper .mat-form-field-outline-start{background:#fff!important}"]}),e}(),xt=function(){function e(){this.completePartnerList=!1,this.displayHeader=!1,this.showSubText="Visit our partner sites and earn credit points on watching your preferred advertisements!"}return e.prototype.ngOnInit=function(){},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=u.Qb({type:e,selectors:[["ms-redeem-success"]],decls:14,vars:2,consts:[[1,"gene-welcome-note"],["fxLayout","row","fxLayout.xs","column","fxLayout.sm","column","fxLayoutGap.sm","3%","fxLayoutGap","1%","fxLayoutGap.xs","10%"],["fxLayout","column","fxFlex.xs","100","fxFlex.sm","100","fxFlex","78",1,"dash-card"],["fxFlex","100","ngClass","redeem-section","ngClass.xs","redeem-section_xs","fxLayout","column","fxLayoutAlign","center center"],["src","assets/img/doranto-img/redeem.png","alt","dollar image"],[1,"title"],[1,"subtitle"],[3,"completePartnerList","showSubText"],["fxFlex.sm","100","fxFlex","22","fxFlex.xs","100"]],template:function(e,t){1&e&&(u.cc(0,"div",0),u.cc(1,"h2"),u.Yc(2,"Redeem Credits"),u.bc(),u.bc(),u.cc(3,"div",1),u.cc(4,"div",2),u.cc(5,"div",3),u.Xb(6,"img",4),u.Xb(7,"br"),u.cc(8,"h2",5),u.Yc(9,"Your request to redeem credits will be processed shortly..."),u.bc(),u.cc(10,"p",6),u.Yc(11," You will receive an update regarding this transaction on your email."),u.bc(),u.bc(),u.Xb(12,"ms-partner-site",7),u.bc(),u.Xb(13,"ms-ad-blocker",8),u.bc()),2&e&&(u.Jb(12),u.zc("completePartnerList",t.completePartnerList)("showSubText",t.showSubText))},directives:[I.c,I.d,I.a,r.l,E.a,I.b,ne,Ce],styles:[".redeem-section[_ngcontent-%COMP%]{background-color:#fff9dd;text-align:center;padding:20px 50px}.redeem-section[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:26px;font-weight:500;line-height:normal}.redeem-section[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%], .redeem-section[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-family:Roboto;font-stretch:normal;font-style:normal;letter-spacing:normal;text-align:center;color:#333}.redeem-section[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-size:16px;font-weight:400;line-height:1.5}.redeem-section_xs[_ngcontent-%COMP%]{background-color:#fff9dd;text-align:center;padding:20px}.redeem-section_xs[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:21px;font-weight:500;line-height:normal}.redeem-section_xs[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%], .redeem-section_xs[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-family:Roboto;font-stretch:normal;font-style:normal;letter-spacing:normal;text-align:center;color:#333}.redeem-section_xs[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-size:14px;font-weight:400;line-height:1.5}h2[_ngcontent-%COMP%]{font-weight:300;font-size:18px;margin-bottom:20px}"]}),e}();function Ct(e,t){if(1&e&&(u.cc(0,"small",15),u.Yc(1),u.bc()),2&e){var n=u.sc();u.Jb(1),u.ad(" ",n.message.error[6]," ")}}function Pt(e,t){if(1&e&&(u.cc(0,"small",15),u.Yc(1),u.bc()),2&e){var n=u.sc();u.Jb(1),u.ad(" ",n.message.error[7]," ")}}function kt(e,t){if(1&e&&(u.cc(0,"small",15),u.Yc(1),u.bc()),2&e){var n=u.sc();u.Jb(1),u.ad(" ",n.message.error[7]," ")}}function wt(e,t){if(1&e&&(u.cc(0,"small",15),u.Yc(1),u.bc()),2&e){var n=u.sc();u.Jb(1),u.ad(" ",n.message.error[10]," ")}}function At(e,t){if(1&e&&(u.cc(0,"small",15),u.Yc(1),u.bc()),2&e){var n=u.sc();u.Jb(1),u.ad(" ",n.message.error[11]," ")}}function St(e,t){if(1&e&&(u.cc(0,"small",15),u.Yc(1),u.bc()),2&e){var n=u.sc();u.Jb(1),u.ad(" ",n.message.error[11]," ")}}var Mt=function(){function e(e,t,n,r,i){this.fb=e,this.router=t,this.authService=n,this.dialog=r,this.commonService=i}return e.prototype.ngOnInit=function(){this.regex=ut.a,this.form=this.fb.group({firstName:new U.g("",[U.A.required,this.commonService.noWhitespaceValidator,U.A.pattern(this.regex.pattern.NAME)]),lastName:new U.g("",[U.A.required,this.commonService.noWhitespaceValidator,U.A.pattern(this.regex.pattern.NAME)])}),this.message=A.a,this.getUserDetails()},e.prototype.getUserDetails=function(){var e=this,t={userId:JSON.parse(localStorage.getItem("endUser")).userId};this.authService.getUserDetailsById(t).subscribe((function(t){e.form.patchValue({firstName:t.firstName}),e.form.patchValue({lastName:t.lastName})}),(function(t){t.error.data&&(t.error.data.auth||e.authService.userLogout())}))},e.prototype.updateUser=function(){var e=this;this.authService.updateUser({firstName:this.form.value.firstName,lastName:this.form.value.lastName}).subscribe((function(t){t&&e.openErrorDialog(A.a.popUpMessages.NAME_CHANGED,A.a.popUpHeaders.SUCCESS)}),(function(t){t.error.data&&(t.error.data.auth||e.authService.userLogout())}))},e.prototype.openErrorDialog=function(e,t){var n=this;this.dialogRefLocation=this.dialog.open(M.a,{panelClass:"dialog-message",data:{msg:e,headerMsg:t}}),this.dialogRefLocation.afterClosed().subscribe((function(e){n.router.navigateByUrl("/dashboard/profile-info")}))},e.\u0275fac=function(t){return new(t||e)(u.Wb(U.f),u.Wb(a.f),u.Wb(S.a),u.Wb(R.b),u.Wb(T.a))},e.\u0275cmp=u.Qb({type:e,selectors:[["ms-change-fullname"]],decls:34,vars:8,consts:[["fxLayoutAlign","center center","fxFlex.xl","500px","fxFlex.lg","500px","fxFlex.md","500px","fxFlex.sm","500px","fxFlex.xs","100",1,"chnage-password-section"],["fxLayout","row","fxLayoutAlign","center start"],["fxFlex","100",1,"profile-wrapper"],["fxLayout","column"],[1,"change-title"],[3,"formGroup"],["fxLayout","column","fxLayoutAlign","start stretch"],["appearance","outline"],["matInput","","type","text","maxlength","256","name","firstName","formControlName","firstName",2,"text-transform","capitalize",3,"keydown.space","keyup"],[1,"message-block"],["class","gene-block","class","warn-text error-message",4,"ngIf"],["matInput","","type","text","maxlength","256","name","lastName","formControlName","lastName",2,"text-transform","capitalize",3,"keydown.space","keyup"],["fxLayoutAlign","center center"],["mat-raised-button","","routerLink","/dashboard/profile-info",1,"cancel-btn"],["mat-raised-button","",1,"save-btn",3,"disabled","click"],[1,"warn-text","error-message"]],template:function(e,t){1&e&&(u.cc(0,"div",0),u.cc(1,"h2"),u.Yc(2,"Account Settings"),u.bc(),u.cc(3,"div",1),u.cc(4,"mat-card",2),u.cc(5,"div"),u.cc(6,"div",3),u.cc(7,"div",4),u.cc(8,"h5"),u.Yc(9,"Change Name"),u.bc(),u.bc(),u.bc(),u.Xb(10,"br"),u.cc(11,"form",5),u.cc(12,"div",6),u.cc(13,"mat-form-field",7),u.cc(14,"mat-label"),u.Yc(15,"First Name*"),u.bc(),u.cc(16,"input",8),u.oc("keydown.space",(function(e){return e.preventDefault()}))("keyup",(function(e){return t.commonService.firstCapitalize(e)})),u.bc(),u.bc(),u.cc(17,"div",9),u.Wc(18,Ct,2,1,"small",10),u.Wc(19,Pt,2,1,"small",10),u.Wc(20,kt,2,1,"small",10),u.bc(),u.cc(21,"mat-form-field",7),u.cc(22,"mat-label"),u.Yc(23,"Last Name*"),u.bc(),u.cc(24,"input",11),u.oc("keydown.space",(function(e){return e.preventDefault()}))("keyup",(function(e){return t.commonService.firstCapitalize(e)})),u.bc(),u.bc(),u.cc(25,"div",9),u.Wc(26,wt,2,1,"small",10),u.Wc(27,At,2,1,"small",10),u.Wc(28,St,2,1,"small",10),u.bc(),u.cc(29,"mat-card-actions",12),u.cc(30,"button",13),u.Yc(31,"Cancel"),u.bc(),u.cc(32,"button",14),u.oc("click",(function(){return t.updateUser()})),u.Yc(33,"\xa0Save\xa0"),u.bc(),u.bc(),u.bc(),u.bc(),u.bc(),u.bc(),u.bc(),u.bc()),2&e&&(u.Jb(11),u.zc("formGroup",t.form),u.Jb(7),u.zc("ngIf",t.form.controls.firstName.hasError("required")&&t.form.controls.firstName.touched),u.Jb(1),u.zc("ngIf",t.form.controls.firstName.hasError("pattern")),u.Jb(1),u.zc("ngIf",t.form.controls.firstName.hasError("whitespace")&&t.form.controls.firstName.touched),u.Jb(6),u.zc("ngIf",t.form.controls.lastName.hasError("required")&&t.form.controls.lastName.touched),u.Jb(1),u.zc("ngIf",t.form.controls.lastName.hasError("pattern")),u.Jb(1),u.zc("ngIf",t.form.controls.lastName.hasError("whitespace")&&t.form.controls.lastName.touched),u.Jb(4),u.zc("disabled",!t.form.valid))},directives:[I.b,I.a,I.c,V.a,U.C,U.s,U.k,N.b,N.e,D.b,U.d,U.n,U.r,U.i,r.n,V.b,re.a,a.g],styles:[".chnage-password-section[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto;display:block!important}.chnage-password-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-weight:300;margin-bottom:16px;font-size:18px}.chnage-password-section[_ngcontent-%COMP%]   .profile-wrapper[_ngcontent-%COMP%]{background-color:#fff9dd;margin:0!important}.chnage-password-section[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:16px;font-weight:500;font-stretch:normal;font-style:normal;line-height:normal;letter-spacing:normal;text-align:left;color:#333}.chnage-password-section[_ngcontent-%COMP%]   .profile-wrapper[_ngcontent-%COMP%]   .mat-form-field-appearance-outline[_ngcontent-%COMP%]   .mat-form-field-flex[_ngcontent-%COMP%]{padding:0 .75em;margin-top:0!important;position:relative;background:#fff!important}.chnage-password-section[_ngcontent-%COMP%]   .mat-form-field-infix[_ngcontent-%COMP%]{padding:.5em 0;border-top:.84375em solid transparent}.chnage-password-section[_ngcontent-%COMP%]   .change-title[_ngcontent-%COMP%]{font-size:16px;font-weight:500;font-stretch:normal;font-style:normal;line-height:normal;letter-spacing:normal;text-align:left;color:#333}.chnage-password-section[_ngcontent-%COMP%]   .save-btn[_ngcontent-%COMP%]{border-radius:6px;background-color:#00b54f;font-size:15px!important;height:45px!important;margin-left:20px}.chnage-password-section[_ngcontent-%COMP%]   .cancel-btn[_ngcontent-%COMP%]{border-radius:6px;border:1px solid #00b54f!important;background-color:#fff!important;color:#00b54f!important;box-shadow:none!important;font-size:15px!important;height:45px!important}.chnage-password-section[_ngcontent-%COMP%]   .message-block[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{display:none}.chnage-password-section[_ngcontent-%COMP%]   .message-block[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]:first-child{display:block}  .profile-wrapper .mat-form-field-outline-end,   .profile-wrapper .mat-form-field-outline-gap,   .profile-wrapper .mat-form-field-outline-start{background:#fff!important}"]}),e}(),Ot=n("WL6L");function Lt(e,t){if(1&e){var n=u.dc();u.cc(0,"mat-icon",29),u.oc("click",(function(){u.Mc(n);var e=u.sc();return e.myControl.value.length>0&&e.myControl.setValue(""),e.searchField()})),u.Yc(1),u.bc()}if(2&e){var r=u.sc();u.Jb(1),u.ad(" ",r.myControl&&r.myControl.value&&r.myControl.value.length>0?"close":"search"," ")}}function Tt(e,t){if(1&e){var n=u.dc();u.cc(0,"mat-option",30),u.oc("click",(function(){return u.Mc(n),u.sc().searchField()})),u.Yc(1),u.bc()}if(2&e){var r=t.$implicit;u.zc("value",r),u.Jb(1),u.ad(" ",r," ")}}function Rt(e,t){if(1&e){var n=u.dc();u.cc(0,"mat-radio-button",41),u.oc("change",(function(e){return u.Mc(n),u.sc(2).genderRadioChange(e)})),u.Yc(1),u.bc()}if(2&e){var r=t.$implicit;u.zc("value",r._id),u.Jb(1),u.ad(" ",r.preferenceName.split(":").pop().trim()," ")}}function It(e,t){if(1&e){var n=u.dc();u.cc(0,"mat-radio-button",41),u.oc("change",(function(e){return u.Mc(n),u.sc(2).ageRadioChange(e)})),u.Yc(1),u.bc()}if(2&e){var r=t.$implicit;u.zc("value",r._id),u.Jb(1),u.ad(" ",r.preferenceName.split(":").pop().trim()," ")}}var Et=function(){return[]};function Ft(e,t){if(1&e){var n=u.dc();u.cc(0,"mat-accordion",22),u.cc(1,"mat-expansion-panel",31),u.cc(2,"mat-expansion-panel-header",32),u.cc(3,"mat-panel-title",33),u.Xb(4,"img",34),u.Yc(5," \xa0\xa0\xa0\xa0 "),u.cc(6,"div",35),u.cc(7,"h4"),u.Yc(8),u.cc(9,"span"),u.Yc(10),u.bc(),u.bc(),u.cc(11,"div",36),u.Yc(12,"Important"),u.bc(),u.bc(),u.bc(),u.Xb(13,"mat-panel-description"),u.bc(),u.cc(14,"div",37),u.cc(15,"label",38),u.Yc(16," Gender "),u.bc(),u.cc(17,"mat-radio-group",39),u.oc("ngModelChange",(function(e){return u.Mc(n),u.sc().selectedGender=e})),u.Wc(18,Rt,2,2,"mat-radio-button",40),u.bc(),u.bc(),u.cc(19,"div",37),u.cc(20,"label",38),u.Yc(21," Age "),u.bc(),u.cc(22,"mat-radio-group",39),u.oc("ngModelChange",(function(e){return u.Mc(n),u.sc().selectedAge=e})),u.Wc(23,It,2,2,"mat-radio-button",40),u.bc(),u.bc(),u.bc(),u.bc()}if(2&e){var r=u.sc();u.Jb(1),u.zc("expanded",!0),u.Jb(7),u.ad("",r.profilePref?r.profilePref.mainPreferenceName:""," "),u.Jb(2),u.ad("(",r.selectedGender&&r.selectedAge?"2":r.selectedAge||r.selectedGender?"1":"0",") "),u.Jb(7),u.zc("ngModel",r.selectedGender),u.Jb(1),u.zc("ngForOf",r.profilePref?r.profilePref.subPrefGender:u.Cc(7,Et)),u.Jb(4),u.zc("ngModel",r.selectedAge),u.Jb(1),u.zc("ngForOf",r.profilePref?r.profilePref.subPrefAge:u.Cc(8,Et))}}function Nt(e,t){if(1&e&&(u.cc(0,"div",64),u.Yc(1),u.tc(2,"titlecase"),u.bc()),2&e){var n=u.sc(2).$implicit;u.Jb(1),u.Zc(u.uc(2,1,n.tag))}}function Dt(e,t){if(1&e){var n=u.dc();u.cc(0,"div",65),u.cc(1,"mat-checkbox",66,48),u.oc("change",(function(e){u.Mc(n);var r=t.$implicit,i=t.index,a=u.sc(2),o=a.$implicit,s=a.index;return u.sc().changeSubPrefStatus(e,o._id,r._id,s,i)})),u.Yc(3),u.bc(),u.bc()}if(2&e){var r=t.$implicit;u.Jb(1),u.zc("checked",r.checked),u.Jb(2),u.Zc(r.preferenceName)}}function Ut(e,t){if(1&e&&(u.cc(0,"mat-option",67),u.Yc(1),u.bc()),2&e){var n=t.$implicit;u.zc("value",n._id),u.Jb(1),u.ad(" ",n.timeFrame,"")}}function zt(e,t){1&e&&(u.cc(0,"small",68),u.Yc(1," Preference Required "),u.bc())}function Wt(e,t){if(1&e&&(u.cc(0,"mat-option",67),u.Yc(1),u.bc()),2&e){var n=t.$implicit;u.zc("value",n._id),u.Jb(1),u.ad(" ",n.interestType,"")}}function Vt(e,t){1&e&&(u.cc(0,"small",68),u.Yc(1," Interest level required "),u.bc())}function jt(e,t){1&e&&(u.cc(0,"small",68),u.Yc(1," Preference Required "),u.bc())}function Ht(e,t){1&e&&(u.cc(0,"small",68),u.Yc(1," Interest level required "),u.bc())}function Bt(e,t){if(1&e){var n=u.dc();u.cc(0,"mat-expansion-panel",43),u.oc("opened",(function(){u.Mc(n);var e=u.sc().index;return u.sc().changePanelState(e,!0)}))("closed",(function(){u.Mc(n);var e=u.sc().index;return u.sc().changePanelState(e,!1)})),u.cc(1,"mat-expansion-panel-header",32),u.cc(2,"mat-panel-title",44),u.Xb(3,"img",34),u.Yc(4," \xa0\xa0\xa0\xa0 "),u.cc(5,"div",35),u.cc(6,"h4",45),u.oc("click",(function(){u.Mc(n);var e=u.sc().index;return u.sc().changePopularAt(e)})),u.Yc(7),u.cc(8,"span"),u.Yc(9),u.bc(),u.bc(),u.Wc(10,Nt,3,3,"div",46),u.bc(),u.bc(),u.cc(11,"mat-panel-description"),u.cc(12,"mat-checkbox",47,48),u.oc("click",(function(e){u.Mc(n);var t=u.sc().index;return u.sc().stopPropagation(e,t)}))("change",(function(e){u.Mc(n);var t=u.sc(),r=t.$implicit,i=t.index;return u.sc().changePrefStatus(r,e,i)})),u.bc(),u.bc(),u.bc(),u.cc(14,"div",49),u.Wc(15,Dt,4,2,"div",50),u.bc(),u.Xb(16,"br"),u.cc(17,"div",51),u.cc(18,"mat-form-field",52),u.cc(19,"mat-label"),u.Yc(20,"When do you intend to buy a product in this category?*"),u.bc(),u.cc(21,"mat-select",53),u.oc("selectionChange",(function(e){u.Mc(n);var t=u.sc().index;return u.sc().changeTimeFrame(e,t)})),u.Wc(22,Ut,2,2,"mat-option",54),u.bc(),u.bc(),u.cc(23,"div",55),u.Wc(24,zt,2,0,"small",56),u.bc(),u.Xb(25,"p",57),u.Xb(26,"p",57),u.cc(27,"mat-form-field",58),u.cc(28,"mat-label"),u.Yc(29,"What is your Interest Level?*"),u.bc(),u.cc(30,"mat-select",59),u.oc("selectionChange",(function(e){u.Mc(n);var t=u.sc().index;return u.sc().chnageInterestLevel(e,t)})),u.Wc(31,Wt,2,2,"mat-option",54),u.bc(),u.bc(),u.cc(32,"div",60),u.Wc(33,Vt,2,0,"small",56),u.bc(),u.bc(),u.cc(34,"div",61),u.cc(35,"div",62),u.Wc(36,jt,2,0,"small",56),u.bc(),u.cc(37,"div",63),u.Wc(38,Ht,2,0,"small",56),u.bc(),u.bc(),u.bc()}if(2&e){var r=u.sc(),i=r.$implicit,a=r.index,o=u.sc();u.Tc("border",o.isContinue&&!i.isValid?"1px solid red":""),u.zc("expanded",i.expanded),u.Kb("id","pref_"+a),u.Jb(7),u.ad(" ",i.mainPreferenceName," "),u.Jb(2),u.ad("(",o.getCount(i),")"),u.Jb(1),u.zc("ngIf","none"!=i.tag),u.Jb(2),u.zc("checked",i.checked),u.Jb(3),u.zc("ngForOf",i.subPreference),u.Jb(2),u.zc("formGroupName",a),u.Jb(4),u.zc("disabled",o.checkSelectDisabled(i)),u.Jb(1),u.zc("ngForOf",o.purchaseTimeFrameList),u.Jb(2),u.zc("ngIf",o.prefs.at(a).controls.timeframe.hasError("required")&&o.prefs.at(a).controls.timeframe.touched),u.Jb(6),u.zc("disabled",o.checkSelectDisabled(i)),u.Jb(1),u.zc("ngForOf",o.interestLevelList),u.Jb(2),u.zc("ngIf",o.prefs.at(a).controls.interestLevel.hasError("required")&&o.prefs.at(a).controls.interestLevel.touched),u.Jb(1),u.zc("formGroupName",a),u.Jb(2),u.zc("ngIf",o.prefs.at(a).controls.timeframe.hasError("required")&&o.prefs.at(a).controls.timeframe.touched),u.Jb(2),u.zc("ngIf",o.prefs.at(a).controls.interestLevel.hasError("required")&&o.prefs.at(a).controls.interestLevel.touched)}}function Gt(e,t){if(1&e&&(u.ac(0),u.Wc(1,Bt,39,19,"mat-expansion-panel",42),u.Zb()),2&e){var n=t.index,r=u.sc();u.Jb(1),u.zc("ngIf",n<6||r.viewAll)}}function qt(e,t){if(1&e){var n=u.dc();u.cc(0,"mat-accordion",22),u.cc(1,"mat-expansion-panel",69),u.cc(2,"mat-expansion-panel-header",32),u.cc(3,"mat-panel-title",33),u.Xb(4,"img",34),u.Yc(5," \xa0\xa0\xa0\xa0 "),u.cc(6,"div",35),u.cc(7,"h4"),u.Yc(8,"Wildcard "),u.bc(),u.cc(9,"span",70,71),u.Yc(11," help "),u.bc(),u.bc(),u.bc(),u.cc(12,"mat-panel-description"),u.cc(13,"mat-checkbox",47,48),u.oc("click",(function(e){return u.Mc(n),e.stopPropagation()}))("change",(function(e){return u.Mc(n),u.sc().changeWildcardStatus(e)})),u.bc(),u.bc(),u.bc(),u.bc(),u.bc()}if(2&e){var r=u.sc();u.Jb(1),u.zc("expanded",!1)("disabled","true"),u.Jb(8),u.Ac("matTooltip",r.tooltiptext),u.Jb(4),u.zc("checked",r.wildCardStatus)}}function Yt(e,t){if(1&e){var n=u.dc();u.cc(0,"h4",72),u.oc("click",(function(){return u.Mc(n),u.sc().increaseLength()})),u.Yc(1,"View all"),u.bc()}}function Jt(e,t){1&e&&(u.cc(0,"h4"),u.Yc(1,"No Preference available"),u.bc())}var Xt=function(){function e(e,t,n,r,i,a,o){this.router=e,this.fb=t,this.dialog=r,this.authService=i,this.http=a,this.commonService=o,this.firstLoad=!1,this.options=[],this.preferences=[],this.preferencesGlobal=[],this.myControl=new U.g,this.wildcardExpanded=!1,this.ifResp=!1,this.isUserResp=!1,this.selectedFilter="all",this.tag=!0,this.wildCardTag=!0,this.isContinue=!1,this.viewAll=!1,this.tooltiptext="If you add 'Wildcard' to your preferences, Dorado Exchange will show you some advertisements outside of your preferences. This will help you earn more credit points."}return e.prototype._filter=function(e){var t=e.toLowerCase();return this.options.filter((function(e){return 0===e.toLowerCase().indexOf(t)}))},e.prototype.getFilteredList=function(){var e=this;this.filteredOptions=this.myControl.valueChanges.pipe(Object(f.a)(""),Object(d.a)((function(t){return e._filter(t)})))},e.prototype.onChangeFilter=function(){var e=this;this.myControl.setValue(""),"all"==this.selectedFilter?(this.preferences=this.preferencesGlobal,this.tag=!0,this.wildCardTag=!0):"important"==this.selectedFilter?(this.tag=!0,this.wildCardTag=!1,this.preferences=this.preferencesGlobal.filter((function(t){return t.tag==e.selectedFilter}))):"popular"==this.selectedFilter&&(this.tag=!1,this.wildCardTag=!1,this.preferences=this.preferencesGlobal.filter((function(t){return t.tag==e.selectedFilter})))},e.prototype.ngOnInit=function(){this.getFilteredList(),this.getPreferences(),this.getLocation()},e.prototype.createForm=function(){return this.fb.group({timeframe:[null,U.A.compose([U.A.required])],interestLevel:[null,U.A.compose([U.A.required])]})},e.prototype.initializeForm=function(){this.form=this.fb.group({prefs:this.fb.array([this.createForm()])})},e.prototype.addPrefs=function(){this.prefs=this.form.get("prefs"),this.prefs.push(this.createForm())},e.prototype.searchField=function(){this.selectedFilter="all",this.tag=!0,this.wildCardTag=!0;var e=this.myControl.value;if(""!=e){e=e.replace(/^(.)|\s+(.)/g,(function(e){return e.toUpperCase()}));var t=this.preferencesGlobal;this.preferences=[];for(var n=function(n){t[n].mainPreferenceName.search(new RegExp(e,"i"))>-1&&(r.preferences.filter((function(e){return e._id==t[n]._id})).length>0||r.preferences.push(t[n]));for(var i=0;i<t[n].subPreference.length;i++)if(t[n].subPreference[i].preferenceName.search(new RegExp(e,"i"))>-1&&!(r.preferences.filter((function(e){return e._id==t[n]._id})).length>0)){r.preferences.push(t[n]);break}},r=this,i=0;i<t.length;i++)n(i);this.initializeForm();for(var a=0;a<this.preferences.length;a++)this.addPrefs(),this.preferences[a].expanded=0==a,this.preferences[a].timeframe="",this.preferences[a].interestLevel="";this.getUser()}else this.getPreferences()},e.prototype.checkIfContainsProfile=function(){var e=this.myControl.value;return null==e||""==e||(e=e.replace(/^(.)|\s+(.)/g,(function(e){return e.toUpperCase()})),"Profile".search(new RegExp(e,"i"))>-1||"Age".search(new RegExp(e,"i"))>-1||"Gender".search(new RegExp(e,"i"))>-1)},e.prototype.checkIfContainsWildcard=function(){var e=this.myControl.value;return null==e||""==e||(e=e.replace(/^(.)|\s+(.)/g,(function(e){return e.toUpperCase()})),"Wildcard".search(new RegExp(e,"i"))>-1)},e.prototype.changeWildcardStatus=function(e){var t=this,n={status:e.checked};this.wildcardExpanded=!0,this.authService.wildCard(n).subscribe((function(n){t.wildCardStatus=e.checked}),(function(e){e.error.data&&(e.error.data.auth||t.authService.userLogout())}))},e.prototype.getPreferences=function(){var e=this;this.initializeForm(),this.authService.getAdPreferenceList().subscribe((function(t){e.preferences=t[0].preferences.filter((function(e){return"Profile"!=e.mainPreferenceName})),e.preferencesGlobal=t[0].preferences.filter((function(e){return"Profile"!=e.mainPreferenceName})),e.autoFillData(t[0].preferences.filter((function(e){return"Profile"!=e.mainPreferenceName}))),e.purchaseTimeFrameList=t[0].purchaseTimeFrameList,e.interestLevelList=t[0].interestLevel;var n=0;e.preferences.forEach((function(t){0==n?t.expanded=!0:(t.expanded=!1,e.addPrefs()),t.isValid=!0,t.timeframe="",t.interestLevel="",n++})),e.profilePref=t[0].preferences.filter((function(e){return"Profile"==e.mainPreferenceName}))[0];var r=e.profilePref.subPreference.filter((function(e){return e.preferenceName.search(new RegExp("age","i"))>-1})),i=e.profilePref.subPreference.filter((function(e){return e.preferenceName.search(new RegExp("gender","i"))>-1}));e.profilePref.subPrefAge=r,e.profilePref.subPrefGender=i,e.preferences=e.preferences.filter((function(e){return"Profile"!=e.mainPreferenceName})),e.getUser(),e.ifResp=!0;var a=0;e.preferences.forEach((function(t){t.isValid=!0,e.prefs.at(a).get("timeframe").markAsUntouched(),e.prefs.at(a).get("interestLevel").markAsUntouched(),a++}))}))},e.prototype.stopPropagation=function(e,t){e.stopPropagation()},e.prototype.autoFillData=function(e){this.options=[];for(var t=0;t<e.length;t++){this.options.push(e[t].mainPreferenceName);for(var n=0;n<e[t].subPreference.length;n++)this.options.push(e[t].subPreference[n].preferenceName)}this.options.sort()},e.prototype.ageRadioChange=function(e){var t=this;this.authService.changeProfileSubPreference({mainPreferenceId:this.profilePref._id,oldSubPrefId:this.selectedAge?this.selectedAge:null,subPreferenceId:e.value}).subscribe((function(e){t.getUser()}),(function(e){e.error.data&&(e.error.data.auth||t.authService.userLogout())}))},e.prototype.genderRadioChange=function(e){var t=this;this.authService.changeProfileSubPreference({mainPreferenceId:this.profilePref._id,oldSubPrefId:this.selectedGender?this.selectedGender:null,subPreferenceId:e.value}).subscribe((function(e){t.getUser()}),(function(e){e.error.data&&(e.error.data.auth||t.authService.userLogout())}))},e.prototype.changeTimeFrame=function(e,t){var n=this;this.authService.userInterest({purchaseTimeFrameList:e.value,mainPreferenceId:this.preferences[t]._id}).subscribe((function(e){n.getUser(),n.commonService.checkIfPreferenceAvailable(null,null,!0)}),(function(e){e.error.data&&(e.error.data.auth||n.authService.userLogout())}))},e.prototype.chnageInterestLevel=function(e,t){var n=this;this.authService.userInterest({interestLevel:e.value,mainPreferenceId:this.preferences[t]._id}).subscribe((function(e){n.getUser(),n.commonService.checkIfPreferenceAvailable(null,null,!0)}),(function(e){e.error.data&&(e.error.data.auth||n.authService.userLogout())}))},e.prototype.changePrefStatus=function(e,t,n){var r=this;this.preferences[n].expanded=!0,this.preferences[n].checked=t.checked;for(var i=0;i<this.preferences.length;i++)n!=i&&(this.preferences[i].expanded=!1);this.authService.addMain({status:t.checked,mainPreferenceId:e._id}).subscribe((function(e){r.getUser(),r.commonService.checkIfPreferenceAvailable(null,null,!0)}),(function(e){e.error.data&&(e.error.data.auth||r.authService.userLogout())}))},e.prototype.changeSubPrefStatus=function(e,t,n,r,i){var a=this;this.preferences[r].subPreference[i].checked=e.checked,this.authService.addSub({mainPreferenceId:t,subPreferenceId:n,status:e.checked}).subscribe((function(e){a.getUser(),a.commonService.checkIfPreferenceAvailable(null,null,!0)}),(function(e){e.error.data&&(e.error.data.auth||a.authService.userLogout())}))},e.prototype.navigateToDashboard=function(){this.router.navigateByUrl("/dashboard/day2")},e.prototype.changePopularAt=function(e){this.preferences[e].popular=!0},e.prototype.changePanelState=function(e,t){this.preferences[e].isOpened=t},e.prototype.getUser=function(){var e=this;this.isUserResp=!1,this.authService.getUser().subscribe((function(t){if(e.userpreference=t.preference,e.userpreference.length>0){e.userProfile=t.profile,e.wildCardStatus=t.wildCard;for(var n=0;n<e.preferences.length;n++)for(var r=0;r<e.userpreference.length;r++)if(e.preferences[n]._id==e.userpreference[r].mainPreference){e.userpreference[r].mainPreferenceStatus&&(e.firstLoad||(e.preferences[n].checked=!0),e.userpreference[r].purchaseTimeFrameList||(e.preferences[n].isValid=!1,e.prefs.at(n).get("timeframe").setValidators([U.A.required]),e.prefs.at(n).get("timeframe").updateValueAndValidity(),e.prefs.at(n).get("timeframe").markAsTouched()),e.userpreference[r].interestLevel||(e.preferences[n].isValid=!1,e.prefs.at(n).get("interestLevel").setValidators([U.A.required]),e.prefs.at(n).get("interestLevel").updateValueAndValidity(),e.prefs.at(n).get("interestLevel").markAsTouched()),e.userpreference[r].purchaseTimeFrameList&&e.userpreference[r].interestLevel&&(e.preferences[n].isValid=!0,e.prefs.at(n).get("interestLevel").setValidators([]),e.prefs.at(n).get("interestLevel").updateValueAndValidity(),e.prefs.at(n).get("interestLevel").markAsUntouched(),e.prefs.at(n).get("timeframe").setValidators([]),e.prefs.at(n).get("timeframe").updateValueAndValidity(),e.prefs.at(n).get("timeframe").markAsUntouched())),e.userpreference[r].purchaseTimeFrameList&&e.prefs.at(n).get("timeframe").setValue(e.userpreference[r].purchaseTimeFrameList),e.userpreference[r].interestLevel&&e.prefs.at(n).get("interestLevel").setValue(e.userpreference[r].interestLevel),0!=e.userpreference[r].subPreference.length||e.userpreference[r].mainPreferenceStatus||(e.preferences[n].isValid=!0,e.prefs.at(n).get("interestLevel").setValidators([]),e.prefs.at(n).get("interestLevel").updateValueAndValidity(),e.prefs.at(n).get("interestLevel").markAsUntouched(),e.prefs.at(n).get("timeframe").setValidators([]),e.prefs.at(n).get("timeframe").updateValueAndValidity(),e.prefs.at(n).get("timeframe").markAsUntouched());for(var i=0;i<e.userpreference[r].subPreference.length;i++)for(var a=0;a<e.preferences[n].subPreference.length;a++)e.preferences[n].subPreference[a]._id==e.userpreference[r].subPreference[i]&&(e.firstLoad||(e.preferences[n].subPreference[a].checked=!0),e.userpreference[r].purchaseTimeFrameList||(e.preferences[n].isValid=!1,e.prefs.at(n).get("timeframe").setValidators([U.A.required]),e.prefs.at(n).get("timeframe").updateValueAndValidity(),e.prefs.at(n).get("timeframe").markAsTouched()),e.userpreference[r].interestLevel||(e.preferences[n].isValid=!1,e.prefs.at(n).get("interestLevel").setValidators([U.A.required]),e.prefs.at(n).get("interestLevel").updateValueAndValidity(),e.prefs.at(n).get("interestLevel").markAsTouched()),e.userpreference[r].purchaseTimeFrameList&&e.userpreference[r].interestLevel&&(e.preferences[n].isValid=!0,e.prefs.at(n).get("interestLevel").setValidators([]),e.prefs.at(n).get("interestLevel").updateValueAndValidity(),e.prefs.at(n).get("interestLevel").markAsUntouched(),e.prefs.at(n).get("timeframe").setValidators([]),e.prefs.at(n).get("timeframe").updateValueAndValidity(),e.prefs.at(n).get("timeframe").markAsUntouched()))}e.profileRespPref=e.userpreference.filter((function(t){return t.mainPreference==e.profilePref._id}))[0],e.profilePref.subPrefAge.forEach((function(t){e.profileRespPref&&e.profileRespPref.subPreference.length>0&&e.profileRespPref.subPreference.forEach((function(n){t._id==n&&(e.selectedAge=n)}))})),e.ngModelselAge=e.selectedAge,e.profilePref.subPrefGender.forEach((function(t){e.profileRespPref&&e.profileRespPref.subPreference.length>0&&e.profileRespPref.subPreference.forEach((function(n){t._id==n&&(e.selectedGender=n)}))})),e.ngModelselGender=e.selectedGender,e.isUserResp=!0}e.firstLoad=!0}),(function(t){t.error.data&&(t.error.data.auth||e.authService.userLogout())}))},e.prototype.checkMainPref=function(e){for(var t=0,n=0;n<this.userpreference.length;n++)e._id==this.userpreference[n].mainPreference&&this.userpreference[n].mainPreferenceStatus&&(t=1);return 1==t},e.prototype.getCount=function(e){return e.subPreference.filter((function(e){return!0===e.checked})).length+(e.checked?1:0)},e.prototype.checkSubPref=function(e,t){for(var n=0,r=0;r<this.userpreference.length;r++)if(t._id==this.userpreference[r].mainPreference)for(var i=0;i<this.userpreference[r].subPreference.length;i++)e._id==this.userpreference[r].subPreference[i]&&(n=1);return 1==n},e.prototype.checkSelectDisabled=function(e){var t=0;return e.checked?t=1:e.subPreference.forEach((function(e){e.checked&&(t=1)})),0==t},e.prototype.checkTimeAndIntrestForPreferences=function(){var e=this;this.isContinue=!0;var t=0;0==this.preferences.length&&(t=1);for(var n=!1,r=0;r<this.userpreference.length;r++)(this.userpreference[r].mainPreference&&1==this.userpreference[r].mainPreferenceStatus&&this.userpreference[r].purchaseTimeFrameList&&this.userpreference[r].interestLevel||this.userpreference[r].mainPreference&&this.userpreference[r].subPreference.length>0&&this.userpreference[r].purchaseTimeFrameList&&this.userpreference[r].interestLevel)&&(n=!0);for(var i=function(n){if(!a.preferences[n].isValid)return t=1,a.viewAll=!0,setTimeout((function(){e.scroll(document.getElementById("pref_"+n))}),200),"break"},a=this,o=0;o<this.preferences.length&&"break"!==i(o);o++);1!=t&&(0==t&&this.isUserResp&&n?this.router.navigateByUrl("/dashboard/day1"):this.openErrorDialog(A.a.popUpMessages.ATLEAST_ONE_PREFERENCE,A.a.popUpHeaders.ERROR))},e.prototype.scroll=function(e){e.scrollIntoView({behavior:"smooth",inline:"nearest"})},e.prototype.increaseLength=function(){this.viewAll=!0},e.prototype.getLocation=function(){navigator.geolocation?navigator.geolocation.getCurrentPosition(this.showPosition.bind(this),this.positionDenied.bind(this)):console.log("Geolocation is not supported by this browser.")},e.prototype.positionDenied=function(e){var t=this;this.commonService.userLocation||this.http.get("https://api.ipify.org?format=json").subscribe((function(e){t.authService.getUserLocation({ipDetails:e.ip}).subscribe((function(e){e&&(t.commonService.userLocation=!0)}))}))},e.prototype.showPosition=function(e){var t=this;this.longitude=e.coords.longitude,this.latitude=e.coords.latitude,this.authService.getGeoLocation({longitude:this.longitude,latitude:this.latitude}).subscribe((function(e){}),(function(e){e.error.data&&(e.error.data.auth||t.authService.userLogout())}))},e.prototype.openErrorDialog=function(e,t){this.dialogRefLocation=this.dialog.open(M.a,{panelClass:"dialog-message",data:{msg:e,headerMsg:t}}),this.dialogRefLocation.afterClosed().subscribe((function(e){}))},e.\u0275fac=function(t){return new(t||e)(u.Wb(a.f),u.Wb(U.f),u.Wb(r.v),u.Wb(R.b),u.Wb(S.a),u.Wb(F.a),u.Wb(T.a))},e.\u0275cmp=u.Qb({type:e,selectors:[["ms-new-ad-preference"]],viewQuery:function(e,t){var n;1&e&&(u.dd(me.d,!0),u.dd(me.d,!0)),2&e&&(u.Hc(n=u.pc())&&(t.trigger=n.first),u.Hc(n=u.pc())&&(t.matMenu=n.first))},decls:43,vars:13,consts:[["fxLayout","row","fxLayout.xs","column","fxLayout.sm","column","fxLayoutGap","1%","fxLayoutGap.xs","10%","fxLayoutGap.sm","3%","fxLayoutAlign","start stretch"],["fxFlex","75","fxFlex.xs","100","fxFlex.sm","100","fxFlex","100"],[1,"partner-list-wrapper","main-section"],["fxLayout","row","fxLayout.xs","column","fxLayout.sm","column",1,"gene-welcome-note"],[2,"margin-right","auto"],["fxShow.xs","true","fxShow.sm","true"],["appearance","outline"],[3,"ngModel","selectionChange","ngModelChange"],["value","popular"],["value","important"],["value","all"],["fxLayout","column","fxLayoutAlign","start"],["fxFlex","100",1,"mat-list-wrapper"],["fxFlex.xs","100","fxFlex.sm","100","fxFlex.md","100","fxFlex.lg","100","fxFlex.xl","100"],["appearance","outline",1,"full--width","search--input"],["type","text","placeholder","Search Preference","aria-label","Number","matInput","",3,"formControl","matAutocomplete","keyup"],["class","cursor","matSuffix","",3,"click",4,"ngIf"],["autoActiveFirstOption",""],["auto","matAutocomplete"],[3,"value","click",4,"ngFor","ngForOf"],["class","example-headers-align","fxFlex","100",4,"ngIf"],["fxLayout","column",1,"full--width",3,"formGroup"],["fxFlex","100",1,"example-headers-align"],[4,"ngFor","ngForOf"],["class","view-all",3,"click",4,"ngIf"],[4,"ngIf"],[1,"search-wrap"],[1,"manage-ad"],["mat-raised-button","",1,"continue-button",3,"click"],["matSuffix","",1,"cursor",3,"click"],[3,"value","click"],[1,"margin-panel",3,"expanded"],["fxLayoutAlign","center center"],["fxLayoutAlign","center center","fxFlex","100"],["src","assets/img/doranto-img/prederences-icon.png","alt","partner list image",1,"img-responsive","img-circle"],["fxFlex","100","fxLayout","row"],["fxHide.xs","true",1,"important-tag"],["fxLayour","row","fxLayout.xs","column",1,"panel-description"],["fxFlex","6"],["fxLayout.xs","column","fxLayoutGap.xs","2%",1,"example-radio-group",3,"ngModel","ngModelChange"],["class","radio-button",3,"value","change",4,"ngFor","ngForOf"],[1,"radio-button",3,"value","change"],["formArrayName","prefs","class","panel-cards",3,"expanded","border","opened","closed",4,"ngIf"],["formArrayName","prefs",1,"panel-cards",3,"expanded","opened","closed"],["fxLayoutAlign","center center","fxFlex","100","fxLayout","row"],[3,"click"],["fxHide.xs","","class","important-tag",4,"ngIf"],["color","primary",1,"example-margin",3,"checked","click","change"],["adcheck1",""],["fxLayout","row wrap","fxLayoutGap","10%",1,"panel-description"],["fxFlex","22.5","fxFlex.xs","100","class","category-section",4,"ngFor","ngForOf"],["fxLayout","row","fxLayout.xs","column","fxLayout.sm","column","fxLayoutGap","2%","fxLayoutGap.xs","10px","fxLayoutGap.sm","10px",3,"formGroupName"],["fxFlex","50","fxFlex.xs","100","fxFlex.sm","100","appearance","outline"],["formControlName","timeframe",3,"disabled","selectionChange"],[3,"value",4,"ngFor","ngForOf"],["fxFlex","50","fxHide","","fxFlex.xs","100","fxFlex.sm","100",1,"message-block"],["class","gene-block","class","warn-text error-message",4,"ngIf"],["fxHide","","fxShow.xs","","fxShow.sm","","fxFlex.xs","100","fxFlex.sm","100"],["fxShow.xs","","fxShow.sm","","fxFlex","50","fxFlex.xs","100","fxFlex.sm","100","appearance","outline","ngClass","interest-level-sel","ngClass.xs","interest-sel_xs","ngClass.sm","interest-sel_xs"],["formControlName","interestLevel",3,"disabled","selectionChange"],["fxFlex","50","fxHide","","fxShow.xs","","fxShow.sm","","fxFlex.xs","100","fxFlex.sm","100",1,"message-block"],["fxLayout","row","fxShow","","fxHide.xs","","fxHide.sm","","fxLayout.xs","column","fxLayout.sm","column","fxLayoutGap","2%","fxLayoutGap.xs","5%","fxLayoutGap.sm","5%",3,"formGroupName"],["fxFlex","50","fxFlex.xs","100","fxFlex.sm","100",1,"message-block"],["fxFlex","50","ngClass","interest-level-sel","ngClass.xs","interest-sel_xs","ngClass.sm","interest-sel_xs","fxFlex.xs","100","fxFlex.sm","100",1,"message-block"],["fxHide.xs","",1,"important-tag"],["fxFlex","22.5","fxFlex.xs","100",1,"category-section"],["color","primary",1,"example-margin",3,"checked","change"],[3,"value"],[1,"warn-text","error-message"],[1,"margin-panel",3,"expanded","disabled"],["matTooltipPosition","right",1,"material-icons","cursor",3,"matTooltip"],["tooltip","matTooltip"],[1,"view-all",3,"click"]],template:function(e,t){if(1&e&&(u.cc(0,"h2"),u.Yc(1,"Ad Preferences"),u.bc(),u.cc(2,"div",0),u.cc(3,"div",1),u.cc(4,"div",2),u.cc(5,"div",3),u.cc(6,"h4",4),u.Yc(7,"Select Ad Preferences to earn credits on your commercial interests! "),u.bc(),u.Xb(8,"br",5),u.cc(9,"mat-form-field",6),u.cc(10,"mat-label"),u.Yc(11,"Show:"),u.bc(),u.cc(12,"mat-select",7),u.oc("selectionChange",(function(){return t.onChangeFilter()}))("ngModelChange",(function(e){return t.selectedFilter=e})),u.cc(13,"mat-option",8),u.Yc(14,"Popular"),u.bc(),u.cc(15,"mat-option",9),u.Yc(16,"Important"),u.bc(),u.cc(17,"mat-option",10),u.Yc(18,"All"),u.bc(),u.bc(),u.bc(),u.bc(),u.Xb(19,"br"),u.cc(20,"div",11),u.cc(21,"div",12),u.cc(22,"div",13),u.cc(23,"mat-form-field",14),u.cc(24,"input",15),u.oc("keyup",(function(){return t.searchField()})),u.bc(),u.Wc(25,Lt,2,1,"mat-icon",16),u.cc(26,"mat-autocomplete",17,18),u.Wc(28,Tt,2,2,"mat-option",19),u.tc(29,"async"),u.bc(),u.bc(),u.bc(),u.bc(),u.Wc(30,Ft,24,9,"mat-accordion",20),u.cc(31,"form",21),u.cc(32,"mat-accordion",22),u.Wc(33,Gt,2,1,"ng-container",23),u.bc(),u.bc(),u.Wc(34,qt,15,4,"mat-accordion",20),u.bc(),u.cc(35,"a"),u.Wc(36,Yt,2,0,"h4",24),u.bc(),u.Wc(37,Jt,2,0,"h4",25),u.bc(),u.Xb(38,"br"),u.cc(39,"div",26),u.cc(40,"div",27),u.cc(41,"button",28),u.oc("click",(function(){return t.checkTimeAndIntrestForPreferences()})),u.Yc(42,"Continue"),u.bc(),u.bc(),u.bc(),u.bc(),u.bc()),2&e){var n=u.Ic(27);u.Jb(12),u.zc("ngModel",t.selectedFilter),u.Jb(12),u.zc("formControl",t.myControl)("matAutocomplete",n),u.Jb(1),u.zc("ngIf",t.ifResp),u.Jb(3),u.zc("ngForOf",u.uc(29,11,t.filteredOptions)),u.Jb(2),u.zc("ngIf",t.tag&&t.checkIfContainsProfile()),u.Jb(1),u.zc("formGroup",t.form),u.Jb(2),u.zc("ngForOf",t.preferences),u.Jb(1),u.zc("ngIf",t.wildCardTag&&t.checkIfContainsWildcard()),u.Jb(2),u.zc("ngIf",!t.viewAll&&t.preferences.length>6),u.Jb(1),u.zc("ngIf",0==t.preferences.length&&!t.checkIfContainsWildcard()&&!t.checkIfContainsProfile())}},directives:[I.c,I.d,I.b,I.a,E.b,N.b,N.e,be.a,U.r,U.u,_e.o,D.b,U.d,ye.c,U.h,r.n,ye.a,r.m,U.C,U.s,U.k,Pe.a,re.a,W.a,N.g,Pe.c,Pe.e,Pe.f,Pe.d,we.b,we.a,U.e,ke.a,U.l,U.i,r.l,E.a,j.a],pipes:[r.b,r.x],styles:['h2[_ngcontent-%COMP%]{font-weight:400;font-stretch:normal;font-style:normal;line-height:normal;letter-spacing:normal;text-align:left;color:#333;font-weight:300;font-size:18px;margin-bottom:20px}.main-section[_ngcontent-%COMP%]{background:#fff9dd;padding:1rem 1.5rem 1.8rem 1.8rem;border-radius:4px}.main-section[_ngcontent-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-infix .mat-select-trigger{height:unset;padding-bottom:0}.main-section[_ngcontent-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-wrapper{margin:0;padding:0}.main-section[_ngcontent-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-wrapper .mat-form-field-flex{font-size:14px}.main-section[_ngcontent-%COMP%]     .mat-form-field-appearance-outline mat-label{color:#333}.main-section[_ngcontent-%COMP%]     .mat-form-field-appearance-outline .mat-select-value-text{font-size:15px}.main-section[_ngcontent-%COMP%]     .mat-form-field.mat-focused.mat-primary .mat-select-arrow, .main-section[_ngcontent-%COMP%]     .mat-primary .mat-option.mat-selected:not(.mat-option-disabled){color:#00b54f}.main-section[_ngcontent-%COMP%]     .search--input input{padding-right:40px}.main-section[_ngcontent-%COMP%]     .search--input .icon--search{position:absolute;right:0;top:2px;cursor:pointer;color:#666;font-size:21px}.main-section[_ngcontent-%COMP%]     .mat-form-field{background-color:#fff}.main-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:26px!important}.main-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .main-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-weight:500;font-stretch:normal;font-style:normal;line-height:normal;letter-spacing:normal;text-align:left;color:#333}.main-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:15px;margin:.3rem 1rem 0 0}.main-section[_ngcontent-%COMP%]   .img-circle[_ngcontent-%COMP%]{width:25px;height:25px;margin-top:.1rem}.main-section[_ngcontent-%COMP%]   .ad-cards[_ngcontent-%COMP%]{width:190px;border-radius:4px;background-color:#fff;margin:.65rem}.main-section[_ngcontent-%COMP%]   .ad-cards[_ngcontent-%COMP%]:hover{border:1px solid #00b54f}.main-section[_ngcontent-%COMP%]   .ad-img-cards[_ngcontent-%COMP%]{display:flex}.main-section[_ngcontent-%COMP%]   .ad-count[_ngcontent-%COMP%]{width:20px;height:20px;float:right;background:#00b54f;border-radius:100%}.main-section[_ngcontent-%COMP%]   .count[_ngcontent-%COMP%]{font-size:14px;font-weight:500;font-stretch:normal;font-style:normal;line-height:normal;letter-spacing:normal;text-align:center;color:#fff;margin-top:2px;cursor:pointer}.main-section[_ngcontent-%COMP%]   .manage-ad[_ngcontent-%COMP%]{float:right;margin-top:10px;margin-left:auto}.main-section[_ngcontent-%COMP%]   .continue-button[_ngcontent-%COMP%]{font-size:15px;font-weight:400;height:45px;border-radius:4px;border:none!important;color:#fff!important;background:#00b54f!important}.main-section[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{margin-top:8px}.main-section[_ngcontent-%COMP%]   .panel-cards[_ngcontent-%COMP%]{border-radius:4px;background-color:#fff;margin:.65rem}.main-section[_ngcontent-%COMP%]   .checked[_ngcontent-%COMP%]{border-radius:4px;background-color:#fff;margin:.65rem;border:1px solid #00b54f}.main-section[_ngcontent-%COMP%]   .error-icon[_ngcontent-%COMP%]{color:red}.manage-ad[_ngcontent-%COMP%]{float:right;margin-top:10px;margin-left:auto}.continue-button[_ngcontent-%COMP%]{font-size:15px;font-weight:400;height:45px;border-radius:4px;border:none!important;color:#fff!important;background:#00b54f!important}.img-circle[_ngcontent-%COMP%]{border-radius:0}.partner-card[_ngcontent-%COMP%]{padding:10px}.card-section[_ngcontent-%COMP%]{display:flex}.mat-checkbox-indeterminate.mat-accent[_ngcontent-%COMP%]   .mat-checkbox-background[_ngcontent-%COMP%],   .mat-checkbox-checked.mat-accent .mat-checkbox-background{background-color:#005691}.search-wrap[_ngcontent-%COMP%]{display:block!important}.search-wrap[_ngcontent-%COMP%]   .search-badge-div[_ngcontent-%COMP%]{padding:0;border-radius:6px;border:1px solid #ddd;background-color:#ddffec}.search-wrap[_ngcontent-%COMP%]   .badge-text[_ngcontent-%COMP%]{font-size:13px;font-weight:400;font-stretch:normal;font-style:normal;letter-spacing:normal;text-align:left;color:#00b54f;margin-left:5px}.search-wrap[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{font-size:18px!important;color:#00b54f!important;margin-left:5px;margin-right:0;position:relative;top:4px;cursor:pointer}.search-wrap[_ngcontent-%COMP%]   .disable[_ngcontent-%COMP%]{background-color:#fff}.search-wrap[_ngcontent-%COMP%]   .disable[_ngcontent-%COMP%]   .badge-text[_ngcontent-%COMP%]{color:#666}.mat-list-wrapper[_ngcontent-%COMP%]{padding:.5rem .5rem .5rem 0;flex-flow:initial!important;margin:.65rem}  .mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;border-radius:inherit;transition:height 225ms cubic-bezier(.4,0,.2,1);min-height:4.5em}  .mat-expansion-indicator:after{border-style:solid;border-width:0 3px 3px 0!important;content:"";display:inline-block;padding:4px!important;transform:rotate(45deg);vertical-align:middle;margin-top:-.5em;color:#00b54f!important}  .example-headers-align .mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden;min-height:2rem;height:3rem;max-height:100%;word-break:break-all;overflow-y:auto}.badge-div[_ngcontent-%COMP%]{width:75px;height:20px;display:flex;top:5px!important;border-radius:9.5px}.badge-div[_ngcontent-%COMP%], .popular-tag[_ngcontent-%COMP%]{background-color:#e7aa37;position:relative}.popular-tag[_ngcontent-%COMP%]{font-size:12px;padding:0 6px;margin-top:2px;margin-right:0;margin-left:.55rem}.important-tag[_ngcontent-%COMP%], .popular-tag[_ngcontent-%COMP%]{display:inline-block;color:#fff}.important-tag[_ngcontent-%COMP%]{background-color:#e7aa37;font-size:12.5px;padding:4px 15px;height:-webkit-fit-content;height:-moz-fit-content;height:fit-content;margin-top:0;margin-right:7px;border-radius:50px}.triangle[_ngcontent-%COMP%]{width:0;height:0;border-top:10px solid transparent;border-right:15px solid #fff;border-bottom:10px solid transparent;margin-top:0}.pad-section[_ngcontent-%COMP%]{padding:15px!important;display:block!important}.accordian-icons[_ngcontent-%COMP%]{font-size:30px!important;color:#00b54f!important;margin-right:5px;margin-top:-6px}.panel-description[_ngcontent-%COMP%]{margin-top:20px;display:flex!important;margin-bottom:1em}.panel-description[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-family:Roboto;font-size:15px;font-weight:500;font-stretch:normal;font-style:normal;line-height:normal;letter-spacing:normal;text-align:left;color:#333;width:4em}.example-radio-group[_ngcontent-%COMP%]{display:flex;flex-direction:row;margin:0 15px}.radio-button[_ngcontent-%COMP%]{margin-left:1em;width:7em}.dropdown[_ngcontent-%COMP%]{position:absolute;display:inline-block}.category-section[_ngcontent-%COMP%]{margin-bottom:1em}  .mat-check .mat-checkbox-inner-container{display:inline-block;height:16px;line-height:0;margin:auto 8px auto auto;order:0;position:relative;vertical-align:middle;white-space:nowrap;width:16px;flex-shrink:0;margin-top:0!important}  .mat-check .mat-checkbox-layout{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:inherit;align-items:flex-start;vertical-align:top;display:inline-flex;white-space:normal}.example-headers-align[_ngcontent-%COMP%]   .mat-expansion-panel-header-description[_ngcontent-%COMP%], .example-headers-align[_ngcontent-%COMP%]   .mat-expansion-panel-header-title[_ngcontent-%COMP%]{flex-basis:0}.example-headers-align[_ngcontent-%COMP%]   .mat-expansion-panel-header-description[_ngcontent-%COMP%]{justify-content:space-between;align-items:center}.interest-level-sel[_ngcontent-%COMP%]{margin-left:8px}  .description-section .warn-text{color:#e53935!important;margin-top:0!important;width:100%;margin-bottom:1rem!important;font-size:12.5px}  .mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{color:red!important}.view-all[_ngcontent-%COMP%]{font-size:16px!important;font-weight:500;font-stretch:normal;font-style:normal;line-height:normal;letter-spacing:normal;text-align:center!important;color:#00b54f!important;margin-top:2rem!important;cursor:pointer}.margin-panel[_ngcontent-%COMP%]{margin:.65rem}']}),e}(),Qt=[{path:"",redirectTo:"day1",pathMatch:"full"},{path:"",children:[{path:"saas",canActivate:[Ot.a],component:w},{path:"day1",canActivate:[Ot.a],component:ge},{path:"day2",canActivate:[Ot.a],component:Be},{path:"partner",canActivate:[Ot.a],component:Ve},{path:"ad",canActivate:[Ot.a],component:We},{path:"redeem",canActivate:[Ot.a],component:He},{path:"redeem-success",canActivate:[Ot.a],component:xt},{path:"profile-info",canActivate:[Ot.a],component:lt},{path:"change-password",canActivate:[Ot.a],component:yt},{path:"change-name",canActivate:[Ot.a],component:Mt},{path:"location",component:M.a},{path:"new-ad",component:Xt}]}],Kt=n("nrXU"),Zt=n("n9IX"),$t=function(){function e(){}return e.\u0275mod=u.Ub({type:e}),e.\u0275inj=u.Tb({factory:function(t){return new(t||e)},imports:[[r.c,U.x]]}),e}();n("eevI"),n("g93O"),n("uwGv");var en=function(){var e=function e(){Object(l.a)(this,e)};return e.\u0275mod=u.Ub({type:e}),e.\u0275inj=u.Tb({factory:function(t){return new(t||e)}}),e}(),tn={suppressScrollX:!0},nn=function(){function e(){}return e.\u0275mod=u.Ub({type:e}),e.\u0275inj=u.Tb({factory:function(t){return new(t||e)},providers:[{provide:i.a,useValue:tn}],imports:[[r.c,Kt.a,C.b,i.c,a.j.forChild(Qt),i.c,Zt.a.forRoot(),z.a,$t,en,x.forRoot({apiKey:"AIzaSyD4y2luRxfM8Q8yKHSLdOOdNpkiilVhD9k"})]]}),e}()},nxTg:function(e,t,n){var r=n("+3YS"),i=n("S411"),a=n("Zhxd"),o=n("+bRE");e.exports=function(e,t){return r(e)||i(e,t)||a(e,t)||o()}},uwGv:function(e,t,n){var r,i=n("kxHp"),a=n("+IV6"),o=n("eef+"),s=n("Pe5x"),c=n("vhlT"),l=n("NthX"),u=n("fFdx"),d=n("nxTg"),h=n("SDJZ"),f=n("NToG");r=function(){return function(){"use strict";var e=[function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"AnnotationLayerBuilder",{enumerable:!0,get:function(){return r.AnnotationLayerBuilder}}),Object.defineProperty(t,"DefaultAnnotationLayerFactory",{enumerable:!0,get:function(){return r.DefaultAnnotationLayerFactory}}),Object.defineProperty(t,"DefaultTextLayerFactory",{enumerable:!0,get:function(){return i.DefaultTextLayerFactory}}),Object.defineProperty(t,"TextLayerBuilder",{enumerable:!0,get:function(){return i.TextLayerBuilder}}),Object.defineProperty(t,"EventBus",{enumerable:!0,get:function(){return a.EventBus}}),Object.defineProperty(t,"NullL10n",{enumerable:!0,get:function(){return a.NullL10n}}),Object.defineProperty(t,"ProgressBar",{enumerable:!0,get:function(){return a.ProgressBar}}),Object.defineProperty(t,"PDFLinkService",{enumerable:!0,get:function(){return o.PDFLinkService}}),Object.defineProperty(t,"SimpleLinkService",{enumerable:!0,get:function(){return o.SimpleLinkService}}),Object.defineProperty(t,"DownloadManager",{enumerable:!0,get:function(){return s.DownloadManager}}),Object.defineProperty(t,"GenericL10n",{enumerable:!0,get:function(){return c.GenericL10n}}),Object.defineProperty(t,"PDFFindController",{enumerable:!0,get:function(){return l.PDFFindController}}),Object.defineProperty(t,"PDFHistory",{enumerable:!0,get:function(){return u.PDFHistory}}),Object.defineProperty(t,"PDFPageView",{enumerable:!0,get:function(){return d.PDFPageView}}),Object.defineProperty(t,"PDFSinglePageViewer",{enumerable:!0,get:function(){return h.PDFSinglePageViewer}}),Object.defineProperty(t,"PDFViewer",{enumerable:!0,get:function(){return f.PDFViewer}});var r=n(1),i=n(5),a=n(3),o=n(4),s=n(6),c=n(8),l=n(10),u=n(12),d=n(13),h=n(15),f=n(17)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultAnnotationLayerFactory=t.AnnotationLayerBuilder=void 0;var r=n(2),i=n(3),a=n(4),o=function(){function e(t){var n=t.pageDiv,r=t.pdfPage,a=t.linkService,o=t.downloadManager,s=t.annotationStorage,c=void 0===s?null:s,l=t.imageResourcesPath,u=void 0===l?"":l,d=t.renderInteractiveForms,f=void 0===d||d,p=t.l10n,g=void 0===p?i.NullL10n:p,m=t.enableScripting,v=void 0!==m&&m,b=t.hasJSActionsPromise,_=void 0===b?null:b,y=t.mouseState,x=void 0===y?null:y;h(this,e),this.pageDiv=n,this.pdfPage=r,this.linkService=a,this.downloadManager=o,this.imageResourcesPath=u,this.renderInteractiveForms=f,this.l10n=g,this.annotationStorage=c,this.enableScripting=v,this._hasJSActionsPromise=_,this._mouseState=x,this.div=null,this._cancelled=!1}return f(e,[{key:"render",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"display";return Promise.all([this.pdfPage.getAnnotations({intent:n}),this._hasJSActionsPromise]).then((function(n){var i=d(n,2),a=i[0],o=i[1],s=void 0!==o&&o;if(!t._cancelled&&0!==a.length){var c={viewport:e.clone({dontFlip:!0}),div:t.div,annotations:a,page:t.pdfPage,imageResourcesPath:t.imageResourcesPath,renderInteractiveForms:t.renderInteractiveForms,linkService:t.linkService,downloadManager:t.downloadManager,annotationStorage:t.annotationStorage,enableScripting:t.enableScripting,hasJSActions:s,mouseState:t._mouseState};t.div?r.AnnotationLayer.update(c):(t.div=document.createElement("div"),t.div.className="annotationLayer",t.pageDiv.appendChild(t.div),c.div=t.div,r.AnnotationLayer.render(c),t.l10n.translate(t.div))}}))}},{key:"cancel",value:function(){this._cancelled=!0}},{key:"hide",value:function(){this.div&&this.div.setAttribute("hidden","true")}}]),e}();t.AnnotationLayerBuilder=o,t.DefaultAnnotationLayerFactory=function(){function e(){h(this,e)}return f(e,[{key:"createAnnotationLayerBuilder",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",s=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:i.NullL10n,l=arguments.length>6&&void 0!==arguments[6]&&arguments[6],u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,d=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null;return new o({pageDiv:e,pdfPage:t,imageResourcesPath:r,renderInteractiveForms:s,linkService:new a.SimpleLinkService,l10n:c,annotationStorage:n,enableScripting:l,hasJSActionsPromise:u,mouseState:d})}}]),e}()},function(e){var t;t="undefined"!=typeof window&&window["pdfjs-dist/build/pdf"]?window["pdfjs-dist/build/pdf"]:n("g93O"),e.exports=t},function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.approximateFraction=function(e){if(Math.floor(e)===e)return[e,1];var t=1/e;if(t>8)return[1,8];if(Math.floor(t)===t)return[1,t];for(var n=e>1?t:e,r=0,i=1,a=1,o=1;;){var s=r+a,c=i+o;if(c>8)break;n<=s/c?(a=s,o=c):(r=s,i=c)}return n-r/i<a/o-n?n===e?[r,i]:[i,r]:n===e?[a,o]:[o,a]},t.backtrackBeforeAllVisibleElements=o,t.binarySearchFirstItem=a,t.getActiveOrFocusedElement=function(){for(var e=document,t=e.activeElement||e.querySelector(":focus");t&&t.shadowRoot;)t=(e=t.shadowRoot).activeElement||e.querySelector(":focus");return t},t.getOutputScale=function(e){var t=(window.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.backingStorePixelRatio||1);return{sx:t,sy:t,scaled:1!==t}},t.getPageSizeInches=function(e){var t=e.userUnit,n=e.rotate,r=d(e.view,4),i=n%180!=0,a=(r[2]-r[0])/72*t,o=(r[3]-r[1])/72*t;return{width:i?o:a,height:i?a:o}},t.getPDFFileNameFromURL=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"document.pdf";if("string"!=typeof e)return t;if(s(e))return console.warn('getPDFFileNameFromURL: ignoring "data:" URL for performance reasons.'),t;var n=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,r=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,i=n.exec(e),a=r.exec(i[1])||r.exec(i[2])||r.exec(i[3]);if(a&&(a=a[0]).includes("%"))try{a=r.exec(decodeURIComponent(a))[0]}catch(o){}return a||t},t.getVisibleElements=function(e){var t=e.scrollEl,n=e.views,r=e.sortByVisibility,i=void 0!==r&&r,s=e.horizontal,c=void 0!==s&&s,l=e.rtl,u=void 0!==l&&l,d=t.scrollTop,h=d+t.clientHeight,f=t.scrollLeft,p=f+t.clientWidth,g=[],m=n.length,v=a(n,c?function(e){var t=e.div,n=t.offsetLeft+t.clientLeft;return u?n<p:n+t.clientWidth>f}:function(e){var t=e.div;return t.offsetTop+t.clientTop+t.clientHeight>d});v>0&&v<m&&!c&&(v=o(v,n,d));for(var b=c?p:-1,_=v;_<m;_++){var y=n[_],x=y.div,C=x.offsetLeft+x.clientLeft,P=x.offsetTop+x.clientTop,k=x.clientWidth,w=x.clientHeight,A=C+k,S=P+w;if(-1===b)S>=h&&(b=S);else if((c?C:P)>b)break;if(!(S<=d||P>=h||A<=f||C>=p)){var M=Math.max(0,d-P)+Math.max(0,S-h),O=(k-(Math.max(0,f-C)+Math.max(0,A-p)))/k;g.push({id:y.id,x:C,y:P,view:y,percent:(w-M)/w*O*100|0,widthPercent:100*O|0})}}var L=g[0],T=g[g.length-1];return i&&g.sort((function(e,t){var n=e.percent-t.percent;return Math.abs(n)>.001?-n:e.id-t.id})),{first:L,last:T,views:g}},t.isPortraitOrientation=function(e){return e.width<=e.height},t.isValidRotation=function(e){return Number.isInteger(e)&&e%90==0},t.isValidScrollMode=function(e){return Number.isInteger(e)&&Object.values(n).includes(e)&&e!==n.UNKNOWN},t.isValidSpreadMode=function(e){return Number.isInteger(e)&&Object.values(r).includes(e)&&e!==r.UNKNOWN},t.moveToEndOfArray=function(e,t){for(var n=[],r=e.length,i=0,a=0;a<r;++a)t(e[a])?n.push(e[a]):(e[i]=e[a],++i);for(var o=0;i<r;++o,++i)e[i]=n[o]},t.noContextMenuHandler=function(e){e.preventDefault()},t.normalizeWheelEventDelta=function(e){var t=c(e);return 0===e.deltaMode?t/=900:1===e.deltaMode&&(t/=30),t},t.normalizeWheelEventDirection=c,t.parseQueryString=function(e){for(var t=e.split("&"),n=Object.create(null),r=0,i=t.length;r<i;++r){var a=t[r].split("="),o=a[0].toLowerCase(),s=a.length>1?a[1]:null;n[decodeURIComponent(o)]=decodeURIComponent(s)}return n},t.roundToDivide=function(e,t){var n=e%t;return 0===n?e:Math.round(e-n+t)},t.scrollIntoView=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=e.offsetParent;if(r){for(var i=e.offsetTop+e.clientTop,a=e.offsetLeft+e.clientLeft;r.clientHeight===r.scrollHeight&&r.clientWidth===r.scrollWidth||n&&"hidden"===getComputedStyle(r).overflow;)if(r.dataset._scaleY&&(i/=r.dataset._scaleY,a/=r.dataset._scaleX),i+=r.offsetTop,a+=r.offsetLeft,!(r=r.offsetParent))return;t&&(void 0!==t.top&&(i+=t.top),void 0!==t.left&&(r.scrollLeft=a+=t.left)),r.scrollTop=i}else console.error("offsetParent is not set -- cannot scroll")},t.waitOnEventOrTimeout=function(e){var t=e.target,n=e.name,r=e.delay,i=void 0===r?0:r;return new Promise((function(e,r){if("object"!=typeof t||!n||"string"!=typeof n||!(Number.isInteger(i)&&i>=0))throw new Error("waitOnEventOrTimeout - invalid parameters.");function a(r){t instanceof m?t._off(n,o):t.removeEventListener(n,o),c&&clearTimeout(c),e(r)}var o=a.bind(null,p.EVENT);t instanceof m?t._on(n,o):t.addEventListener(n,o);var s=a.bind(null,p.TIMEOUT),c=setTimeout(s,i)}))},t.watchScroll=function(e,t){var n=function(n){i||(i=window.requestAnimationFrame((function(){i=null;var n=e.scrollLeft,a=r.lastX;n!==a&&(r.right=n>a),r.lastX=n;var o=e.scrollTop,s=r.lastY;o!==s&&(r.down=o>s),r.lastY=o,t(r)})))},r={right:!0,down:!0,lastX:e.scrollLeft,lastY:e.scrollTop,_eventHandler:n},i=null;return e.addEventListener("scroll",n,!0),r},t.WaitOnType=t.VERTICAL_PADDING=t.UNKNOWN_SCALE=t.TextLayerMode=t.SpreadMode=t.SidebarView=t.ScrollMode=t.SCROLLBAR_PADDING=t.RendererType=t.ProgressBar=t.PresentationModeState=t.NullL10n=t.MIN_SCALE=t.MAX_SCALE=t.MAX_AUTO_SCALE=t.EventBus=t.DEFAULT_SCALE_VALUE=t.DEFAULT_SCALE=t.CSS_UNITS=t.AutoPrintRegExp=t.animationStarted=void 0,t.CSS_UNITS=96/72,t.DEFAULT_SCALE_VALUE="auto",t.DEFAULT_SCALE=1,t.MIN_SCALE=.1,t.MAX_SCALE=10,t.UNKNOWN_SCALE=0,t.MAX_AUTO_SCALE=1.25,t.SCROLLBAR_PADDING=40,t.VERTICAL_PADDING=5,t.PresentationModeState={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3},t.SidebarView={UNKNOWN:-1,NONE:0,THUMBS:1,OUTLINE:2,ATTACHMENTS:3,LAYERS:4},t.RendererType={CANVAS:"canvas",SVG:"svg"},t.TextLayerMode={DISABLE:0,ENABLE:1,ENABLE_ENHANCE:2};var n={UNKNOWN:-1,VERTICAL:0,HORIZONTAL:1,WRAPPED:2};t.ScrollMode=n;var r={UNKNOWN:-1,NONE:0,ODD:1,EVEN:2};function i(e,t){return t?e.replace(/\{\{\s*(\w+)\s*\}\}/g,(function(e,n){return n in t?t[n]:"{{"+n+"}}"})):e}function a(e,t){var n=0,r=e.length-1;if(r<0||!t(e[r]))return e.length;if(t(e[n]))return n;for(;n<r;){var i=n+r>>1;t(e[i])?r=i:n=i+1}return n}function o(e,t,n){if(e<2)return e;var r=t[e].div,i=r.offsetTop+r.clientTop;i>=n&&(i=(r=t[e-1].div).offsetTop+r.clientTop);for(var a=e-2;a>=0&&!((r=t[a].div).offsetTop+r.clientTop+r.clientHeight<=i);--a)e=a;return e}function s(e){for(var t=0,n=e.length;t<n&&""===e[t].trim();)t++;return"data:"===e.substring(t,t+5).toLowerCase()}function c(e){var t=Math.sqrt(e.deltaX*e.deltaX+e.deltaY*e.deltaY),n=Math.atan2(e.deltaY,e.deltaX);return-.25*Math.PI<n&&n<.75*Math.PI&&(t=-t),t}t.SpreadMode=r,t.AutoPrintRegExp=/\bprint\s*\(/,t.NullL10n={getLanguage:function(){return u(l.mark((function e(){return l.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return","en-us");case 1:case"end":return e.stop()}}),e)})))()},getDirection:function(){return u(l.mark((function e(){return l.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return","ltr");case 1:case"end":return e.stop()}}),e)})))()},get:function(e,t,n){return u(l.mark((function e(){return l.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",i(n,t));case 1:case"end":return e.stop()}}),e)})))()},translate:function(e){return u(l.mark((function e(){return l.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()}};var p={EVENT:"event",TIMEOUT:"timeout"};t.WaitOnType=p;var g=new Promise((function(e){window.requestAnimationFrame(e)}));t.animationStarted=g;var m=function(){function e(t){h(this,e),this._listeners=Object.create(null)}return f(e,[{key:"on",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._on(e,t,{external:!0,once:null==n?void 0:n.once})}},{key:"off",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._off(e,t,{external:!0,once:null==n?void 0:n.once})}},{key:"dispatch",value:function(e){var t=this,n=this._listeners[e];if(n&&0!==n.length){var r,i=Array.prototype.slice.call(arguments,1);n.slice(0).forEach((function(n){var a=n.listener,o=n.external;n.once&&t._off(e,a),o?(r||(r=[])).push(a):a.apply(null,i)})),r&&(r.forEach((function(e){e.apply(null,i)})),r=null)}}},{key:"_on",value:function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=(n=this._listeners)[e]||(n[e]=[]);i.push({listener:t,external:!0===(null==r?void 0:r.external),once:!0===(null==r?void 0:r.once)})}},{key:"_off",value:function(e,t){var n=this._listeners[e];if(n)for(var r=0,i=n.length;r<i;r++)if(n[r].listener===t)return void n.splice(r,1)}}]),e}();t.EventBus=m,t.ProgressBar=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.height,i=n.width,a=n.units;h(this,e),this.visible=!0,this.div=document.querySelector(t+" .progress"),this.bar=this.div.parentNode,this.height=r||100,this.width=i||100,this.units=a||"%",this.div.style.height=this.height+this.units,this.percent=0}return f(e,[{key:"_updateBar",value:function(){if(this._indeterminate)return this.div.classList.add("indeterminate"),void(this.div.style.width=this.width+this.units);this.div.classList.remove("indeterminate"),this.div.style.width=this.width*this._percent/100+this.units}},{key:"percent",get:function(){return this._percent},set:function(e){this._indeterminate=isNaN(e),this._percent=Math.min(Math.max(e,0),100),this._updateBar()}},{key:"setWidth",value:function(e){if(e){var t=e.parentNode.offsetWidth-e.offsetWidth;t>0&&document.documentElement.style.setProperty("--loadingBar-end-offset","".concat(t,"px"))}}},{key:"hide",value:function(){this.visible&&(this.visible=!1,this.bar.classList.add("hidden"))}},{key:"show",value:function(){this.visible||(this.visible=!0,this.bar.classList.remove("hidden"))}}]),e}()},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.SimpleLinkService=t.PDFLinkService=void 0;var r=n(3);t.PDFLinkService=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.eventBus,r=t.externalLinkTarget,i=void 0===r?null:r,a=t.externalLinkRel,o=void 0===a?null:a,s=t.externalLinkEnabled,c=void 0===s||s,l=t.ignoreDestinationZoom,u=void 0!==l&&l;h(this,e),this.eventBus=n,this.externalLinkTarget=i,this.externalLinkRel=o,this.externalLinkEnabled=c,this._ignoreDestinationZoom=u,this.baseUrl=null,this.pdfDocument=null,this.pdfViewer=null,this.pdfHistory=null,this._pagesRefCache=null}var t;return f(e,[{key:"setDocument",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.baseUrl=t,this.pdfDocument=e,this._pagesRefCache=Object.create(null)}},{key:"setViewer",value:function(e){this.pdfViewer=e}},{key:"setHistory",value:function(e){this.pdfHistory=e}},{key:"pagesCount",get:function(){return this.pdfDocument?this.pdfDocument.numPages:0}},{key:"page",get:function(){return this.pdfViewer.currentPageNumber},set:function(e){this.pdfViewer.currentPageNumber=e}},{key:"rotation",get:function(){return this.pdfViewer.pagesRotation},set:function(e){this.pdfViewer.pagesRotation=e}},{key:"navigateTo",value:function(e){console.error("Deprecated method: `navigateTo`, use `goToDestination` instead."),this.goToDestination(e)}},{key:"_goToDestinationHelper",value:function(e){var t,n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2?arguments[2]:void 0,a=i[0];if(a instanceof Object){if(null===(t=this._cachedPageNumber(a)))return void this.pdfDocument.getPageIndex(a).then((function(t){n.cachePageRef(t+1,a),n._goToDestinationHelper(e,r,i)})).catch((function(){console.error('PDFLinkService._goToDestinationHelper: "'.concat(a,'" is not ')+'a valid page reference, for dest="'.concat(e,'".'))}))}else{if(!Number.isInteger(a))return void console.error('PDFLinkService._goToDestinationHelper: "'.concat(a,'" is not ')+'a valid destination reference, for dest="'.concat(e,'".'));t=a+1}!t||t<1||t>this.pagesCount?console.error('PDFLinkService._goToDestinationHelper: "'.concat(t,'" is not ')+'a valid page number, for dest="'.concat(e,'".')):(this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.push({namedDest:r,explicitDest:i,pageNumber:t})),this.pdfViewer.scrollPageIntoView({pageNumber:t,destArray:i,ignoreDestinationZoom:this._ignoreDestinationZoom}))}},{key:"goToDestination",value:(t=u(l.mark((function e(t){var n,r;return l.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.pdfDocument){e.next=2;break}return e.abrupt("return");case 2:if("string"!=typeof t){e.next=9;break}return n=t,e.next=6,this.pdfDocument.getDestination(t);case 6:r=e.sent,e.next=13;break;case 9:return n=null,e.next=12,t;case 12:r=e.sent;case 13:if(Array.isArray(r)){e.next=16;break}return console.error('PDFLinkService.goToDestination: "'.concat(r,'" is not ')+'a valid destination array, for dest="'.concat(t,'".')),e.abrupt("return");case 16:this._goToDestinationHelper(t,n,r);case 17:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"goToPage",value:function(e){if(this.pdfDocument){var t="string"==typeof e&&this.pdfViewer.pageLabelToPageNumber(e)||0|e;Number.isInteger(t)&&t>0&&t<=this.pagesCount?(this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.pushPage(t)),this.pdfViewer.scrollPageIntoView({pageNumber:t})):console.error('PDFLinkService.goToPage: "'.concat(e,'" is not a valid page.'))}}},{key:"getDestinationHash",value:function(e){if("string"==typeof e){if(e.length>0)return this.getAnchorUrl("#"+escape(e))}else if(Array.isArray(e)){var t=JSON.stringify(e);if(t.length>0)return this.getAnchorUrl("#"+escape(t))}return this.getAnchorUrl("")}},{key:"getAnchorUrl",value:function(e){return(this.baseUrl||"")+e}},{key:"setHash",value:function(e){var t,n;if(this.pdfDocument)if(e.includes("=")){var i=(0,r.parseQueryString)(e);if("search"in i&&this.eventBus.dispatch("findfromurlhash",{source:this,query:i.search.replace(/"/g,""),phraseSearch:"true"===i.phrase}),"page"in i&&(t=0|i.page||1),"zoom"in i){var a=i.zoom.split(","),o=a[0],s=parseFloat(o);o.includes("Fit")?"Fit"===o||"FitB"===o?n=[null,{name:o}]:"FitH"===o||"FitBH"===o||"FitV"===o||"FitBV"===o?n=[null,{name:o},a.length>1?0|a[1]:null]:"FitR"===o?5!==a.length?console.error('PDFLinkService.setHash: Not enough parameters for "FitR".'):n=[null,{name:o},0|a[1],0|a[2],0|a[3],0|a[4]]:console.error('PDFLinkService.setHash: "'.concat(o,'" is not ')+"a valid zoom value."):n=[null,{name:"XYZ"},a.length>1?0|a[1]:null,a.length>2?0|a[2]:null,s?s/100:o]}n?this.pdfViewer.scrollPageIntoView({pageNumber:t||this.page,destArray:n,allowNegativeOffset:!0}):t&&(this.page=t),"pagemode"in i&&this.eventBus.dispatch("pagemode",{source:this,mode:i.pagemode}),"nameddest"in i&&this.goToDestination(i.nameddest)}else{n=unescape(e);try{n=JSON.parse(n),Array.isArray(n)||(n=n.toString())}catch(c){}if("string"==typeof n||function(e){if(!Array.isArray(e))return!1;var t=e.length;if(t<2)return!1;var n=e[0];if(!("object"==typeof n&&Number.isInteger(n.num)&&Number.isInteger(n.gen)||Number.isInteger(n)&&n>=0))return!1;var r=e[1];if("object"!=typeof r||"string"!=typeof r.name)return!1;var i=!0;switch(r.name){case"XYZ":if(5!==t)return!1;break;case"Fit":case"FitB":return 2===t;case"FitH":case"FitBH":case"FitV":case"FitBV":if(3!==t)return!1;break;case"FitR":if(6!==t)return!1;i=!1;break;default:return!1}for(var a=2;a<t;a++){var o=e[a];if(!("number"==typeof o||i&&null===o))return!1}return!0}(n))return void this.goToDestination(n);console.error('PDFLinkService.setHash: "'.concat(unescape(e),'" is not ')+"a valid destination.")}}},{key:"executeNamedAction",value:function(e){switch(e){case"GoBack":this.pdfHistory&&this.pdfHistory.back();break;case"GoForward":this.pdfHistory&&this.pdfHistory.forward();break;case"NextPage":this.pdfViewer.nextPage();break;case"PrevPage":this.pdfViewer.previousPage();break;case"LastPage":this.page=this.pagesCount;break;case"FirstPage":this.page=1}this.eventBus.dispatch("namedaction",{source:this,action:e})}},{key:"cachePageRef",value:function(e,t){if(t){var n=0===t.gen?"".concat(t.num,"R"):"".concat(t.num,"R").concat(t.gen);this._pagesRefCache[n]=e}}},{key:"_cachedPageNumber",value:function(e){var t=0===e.gen?"".concat(e.num,"R"):"".concat(e.num,"R").concat(e.gen);return this._pagesRefCache&&this._pagesRefCache[t]||null}},{key:"isPageVisible",value:function(e){return this.pdfViewer.isPageVisible(e)}},{key:"isPageCached",value:function(e){return this.pdfViewer.isPageCached(e)}}]),e}(),t.SimpleLinkService=function(){function e(){h(this,e),this.externalLinkTarget=null,this.externalLinkRel=null,this.externalLinkEnabled=!0,this._ignoreDestinationZoom=!1}var t;return f(e,[{key:"pagesCount",get:function(){return 0}},{key:"page",get:function(){return 0},set:function(e){}},{key:"rotation",get:function(){return 0},set:function(e){}},{key:"goToDestination",value:(t=u(l.mark((function e(t){return l.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),function(e){return t.apply(this,arguments)})},{key:"goToPage",value:function(e){}},{key:"getDestinationHash",value:function(e){return"#"}},{key:"getAnchorUrl",value:function(e){return"#"}},{key:"setHash",value:function(e){}},{key:"executeNamedAction",value:function(e){}},{key:"cachePageRef",value:function(e,t){}},{key:"isPageVisible",value:function(e){return!0}},{key:"isPageCached",value:function(e){return!0}}]),e}()},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.TextLayerBuilder=t.DefaultTextLayerFactory=void 0;var r=n(2),i=function(){function e(t){var n=t.textLayerDiv,r=t.eventBus,i=t.pageIndex,a=t.viewport,o=t.findController,s=void 0===o?null:o,c=t.enhanceTextSelection,l=void 0!==c&&c;h(this,e),this.textLayerDiv=n,this.eventBus=r,this.textContent=null,this.textContentItemsStr=[],this.textContentStream=null,this.renderingDone=!1,this.pageIdx=i,this.pageNumber=this.pageIdx+1,this.matches=[],this.viewport=a,this.textDivs=[],this.findController=s,this.textLayerRenderTask=null,this.enhanceTextSelection=l,this._onUpdateTextLayerMatches=null,this._bindMouse()}return f(e,[{key:"_finishRendering",value:function(){if(this.renderingDone=!0,!this.enhanceTextSelection){var e=document.createElement("div");e.className="endOfContent",this.textLayerDiv.appendChild(e)}this.eventBus.dispatch("textlayerrendered",{source:this,pageNumber:this.pageNumber,numTextDivs:this.textDivs.length})}},{key:"render",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if((this.textContent||this.textContentStream)&&!this.renderingDone){this.cancel(),this.textDivs=[];var n=document.createDocumentFragment();this.textLayerRenderTask=(0,r.renderTextLayer)({textContent:this.textContent,textContentStream:this.textContentStream,container:n,viewport:this.viewport,textDivs:this.textDivs,textContentItemsStr:this.textContentItemsStr,timeout:t,enhanceTextSelection:this.enhanceTextSelection}),this.textLayerRenderTask.promise.then((function(){e.textLayerDiv.appendChild(n),e._finishRendering(),e._updateMatches()}),(function(e){})),this._onUpdateTextLayerMatches||(this._onUpdateTextLayerMatches=function(t){t.pageIndex!==e.pageIdx&&-1!==t.pageIndex||e._updateMatches()},this.eventBus._on("updatetextlayermatches",this._onUpdateTextLayerMatches))}}},{key:"cancel",value:function(){this.textLayerRenderTask&&(this.textLayerRenderTask.cancel(),this.textLayerRenderTask=null),this._onUpdateTextLayerMatches&&(this.eventBus._off("updatetextlayermatches",this._onUpdateTextLayerMatches),this._onUpdateTextLayerMatches=null)}},{key:"setTextContentStream",value:function(e){this.cancel(),this.textContentStream=e}},{key:"setTextContent",value:function(e){this.cancel(),this.textContent=e}},{key:"_convertMatches",value:function(e,t){if(!e)return[];for(var n=this.textContentItemsStr,r=0,i=0,a=n.length-1,o=[],s=0,c=e.length;s<c;s++){for(var l=e[s];r!==a&&l>=i+n[r].length;)i+=n[r].length,r++;r===n.length&&console.error("Could not find a matching mapping");var u={begin:{divIdx:r,offset:l-i}};for(l+=t[s];r!==a&&l>i+n[r].length;)i+=n[r].length,r++;u.end={divIdx:r,offset:l-i},o.push(u)}return o}},{key:"_renderMatches",value:function(e){if(0!==e.length){var t=this.findController,n=this.pageIdx,r=this.textContentItemsStr,i=this.textDivs,a=n===t.selected.pageIdx,o=t.selected.matchIdx,s=null,c={divIdx:-1,offset:void 0},l=o,u=l+1;if(t.state.highlightAll)l=0,u=e.length;else if(!a)return;for(var d=l;d<u;d++){var h=e[d],f=h.begin,p=h.end,g=a&&d===o,m=g?" selected":"";if(g&&t.scrollMatchIntoView({element:i[f.divIdx],pageIndex:n,matchIndex:o}),s&&f.divIdx===s.divIdx?y(s.divIdx,s.offset,f.offset):(null!==s&&y(s.divIdx,s.offset,c.offset),_(f)),f.divIdx===p.divIdx)y(f.divIdx,f.offset,p.offset,"highlight"+m);else{y(f.divIdx,f.offset,c.offset,"highlight begin"+m);for(var v=f.divIdx+1,b=p.divIdx;v<b;v++)i[v].className="highlight middle"+m;_(p,"highlight end"+m)}s=p}s&&y(s.divIdx,s.offset,c.offset)}function _(e,t){var n=e.divIdx;i[n].textContent="",y(n,0,e.offset,t)}function y(e,t,n,a){var o=i[e],s=r[e].substring(t,n),c=document.createTextNode(s);if(a){var l=document.createElement("span");return l.className=a,l.appendChild(c),void o.appendChild(l)}o.appendChild(c)}}},{key:"_updateMatches",value:function(){if(this.renderingDone){for(var e=this.findController,t=this.matches,n=this.pageIdx,r=this.textContentItemsStr,i=this.textDivs,a=-1,o=0,s=t.length;o<s;o++){for(var c=t[o],l=Math.max(a,c.begin.divIdx),u=c.end.divIdx;l<=u;l++){var d=i[l];d.textContent=r[l],d.className=""}a=c.end.divIdx+1}e&&e.highlightMatches&&(this.matches=this._convertMatches(e.pageMatches[n]||null,e.pageMatchesLength[n]||null),this._renderMatches(this.matches))}}},{key:"_bindMouse",value:function(){var e=this,t=this.textLayerDiv,n=null;t.addEventListener("mousedown",(function(r){if(e.enhanceTextSelection&&e.textLayerRenderTask)return e.textLayerRenderTask.expandTextDivs(!0),void(n&&(clearTimeout(n),n=null));var i=t.querySelector(".endOfContent");if(i){var a=r.target!==t;if(a=a&&"none"!==window.getComputedStyle(i).getPropertyValue("-moz-user-select")){var o=t.getBoundingClientRect(),s=Math.max(0,(r.pageY-o.top)/o.height);i.style.top=(100*s).toFixed(2)+"%"}i.classList.add("active")}})),t.addEventListener("mouseup",(function(){if(e.enhanceTextSelection&&e.textLayerRenderTask)n=setTimeout((function(){e.textLayerRenderTask&&e.textLayerRenderTask.expandTextDivs(!1),n=null}),300);else{var r=t.querySelector(".endOfContent");r&&(r.style.top="",r.classList.remove("active"))}}))}}]),e}();t.TextLayerBuilder=i,t.DefaultTextLayerFactory=function(){function e(){h(this,e)}return f(e,[{key:"createTextLayerBuilder",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4?arguments[4]:void 0;return new i({textLayerDiv:e,pageIndex:t,viewport:n,enhanceTextSelection:r,eventBus:a})}}]),e}()},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.DownloadManager=void 0;var r=n(2),i=n(7);function a(e,t){var n=document.createElement("a");if(!n.click)throw new Error('DownloadManager: "a.click()" is not supported.');n.href=e,n.target="_parent","download"in n&&(n.download=t),(document.body||document.documentElement).appendChild(n),n.click(),n.remove()}t.DownloadManager=function(){function e(){h(this,e)}return f(e,[{key:"downloadUrl",value:function(e,t){(0,r.createValidAbsoluteUrl)(e,"http://example.com")&&a(e+"#pdfjs.action=download",t)}},{key:"downloadData",value:function(e,t,n){a((0,r.createObjectURL)(e,n,i.viewerCompatibilityParams.disableCreateObjectURL),t)}},{key:"download",value:function(e,t,n){i.viewerCompatibilityParams.disableCreateObjectURL?this.downloadUrl(t,n):a(URL.createObjectURL(e),n)}}]),e}()},function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.viewerCompatibilityParams=void 0;var n=Object.create(null),r="undefined"!=typeof navigator&&navigator.userAgent||"",i="undefined"!=typeof navigator&&navigator.platform||"",a="undefined"!=typeof navigator&&navigator.maxTouchPoints||1,o=/Android/.test(r),s=/\b(iPad|iPhone|iPod)(?=;)/.test(r)||"MacIntel"===i&&a>1;/CriOS/.test(r)&&(n.disableCreateObjectURL=!0),(s||o)&&(n.maxCanvasPixels=5242880);var c=Object.freeze(n);t.viewerCompatibilityParams=c},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.GenericL10n=void 0,n(9);var r=document.webL10n;t.GenericL10n=function(){function e(t){h(this,e),this._lang=t,this._ready=new Promise((function(e,n){r.setLanguage(t,(function(){e(r)}))}))}var t,n,i,a;return f(e,[{key:"getLanguage",value:(a=u(l.mark((function e(){return l.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._ready;case 2:return e.abrupt("return",e.sent.getLanguage());case 4:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"getDirection",value:(i=u(l.mark((function e(){return l.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._ready;case 2:return e.abrupt("return",e.sent.getDirection());case 4:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"get",value:(n=u(l.mark((function e(t,n,r){return l.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._ready;case 2:return e.abrupt("return",e.sent.get(t,n,r));case 4:case"end":return e.stop()}}),e,this)}))),function(e,t,r){return n.apply(this,arguments)})},{key:"translate",value:(t=u(l.mark((function e(t){return l.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._ready;case 2:return e.abrupt("return",e.sent.translate(t));case 4:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),e}()},function(){document.webL10n=function(e,t,n){var r={},i="",a="textContent",o="",s={},c="loading";function l(e,t,n){t=t||function(e){},n=n||function(){};var r=new XMLHttpRequest;r.open("GET",e,!0),r.overrideMimeType&&r.overrideMimeType("text/plain; charset=utf-8"),r.onreadystatechange=function(){4==r.readyState&&(200==r.status||0===r.status?t(r.responseText):n())},r.onerror=n,r.ontimeout=n;try{r.send(null)}catch(i){n()}}function u(e,t,n){var i=r[e];if(!i){if(console.warn("#"+e+" is undefined."),!n)return null;i=n}var a={};for(var o in i){var s=i[o];s=h(s=d(s,t,e,o),t,e),a[o]=s}return a}function d(e,t,n,i){var a=/\{\[\s*([a-zA-Z]+)\(([a-zA-Z]+)\)\s*\]\}/.exec(e);if(!a||!a.length)return e;var o,c=a[1],l=a[2];return t&&l in t?o=t[l]:l in r&&(o=r[l]),c in s&&(e=(0,s[c])(e,o,n,i)),e}function h(e,t,n){return e.replace(/\{\{\s*(.+?)\s*\}\}/g,(function(e,i){return t&&i in t?t[i]:i in r?r[i]:(console.log("argument {{"+i+"}} for #"+n+" is undefined."),e)}))}function f(e){var n=function(e){if(!e)return{};var t=e.getAttribute("data-l10n-id"),n=e.getAttribute("data-l10n-args"),r={};if(n)try{r=JSON.parse(n)}catch(i){console.warn("could not parse arguments for #"+t)}return{id:t,args:r}}(e);if(n.id){var r=u(n.id,n.args);if(r){if(r[a]){if(0===function(e){if(e.children)return e.children.length;if(void 0!==e.childElementCount)return e.childElementCount;for(var t=0,n=0;n<e.childNodes.length;n++)t+=1===e.nodeType?1:0;return t}(e))e[a]=r[a];else{for(var i=e.childNodes,o=!1,s=0,c=i.length;s<c;s++)3===i[s].nodeType&&/\S/.test(i[s].nodeValue)&&(o?i[s].nodeValue="":(i[s].nodeValue=r[a],o=!0));if(!o){var l=t.createTextNode(r[a]);e.insertBefore(l,e.firstChild)}}delete r[a]}for(var d in r)e[d]=r[d]}else console.warn("#"+n.id+" is undefined.")}}return s.plural=function(e,t,n,i){var c=parseFloat(t);if(isNaN(c))return e;if(i!=a)return e;s._pluralRules||(s._pluralRules=function(e){function t(e,t){return-1!==t.indexOf(e)}function n(e,t,n){return t<=e&&e<=n}var r={0:function(e){return"other"},1:function(e){return n(e%100,3,10)?"few":0===e?"zero":n(e%100,11,99)?"many":2==e?"two":1==e?"one":"other"},2:function(e){return 0!==e&&e%10==0?"many":2==e?"two":1==e?"one":"other"},3:function(e){return 1==e?"one":"other"},4:function(e){return n(e,0,1)?"one":"other"},5:function(e){return n(e,0,2)&&2!=e?"one":"other"},6:function(e){return 0===e?"zero":e%10==1&&e%100!=11?"one":"other"},7:function(e){return 2==e?"two":1==e?"one":"other"},8:function(e){return n(e,3,6)?"few":n(e,7,10)?"many":2==e?"two":1==e?"one":"other"},9:function(e){return 0===e||1!=e&&n(e%100,1,19)?"few":1==e?"one":"other"},10:function(e){return n(e%10,2,9)&&!n(e%100,11,19)?"few":e%10!=1||n(e%100,11,19)?"other":"one"},11:function(e){return n(e%10,2,4)&&!n(e%100,12,14)?"few":e%10==0||n(e%10,5,9)||n(e%100,11,14)?"many":e%10==1&&e%100!=11?"one":"other"},12:function(e){return n(e,2,4)?"few":1==e?"one":"other"},13:function(e){return n(e%10,2,4)&&!n(e%100,12,14)?"few":1!=e&&n(e%10,0,1)||n(e%10,5,9)||n(e%100,12,14)?"many":1==e?"one":"other"},14:function(e){return n(e%100,3,4)?"few":e%100==2?"two":e%100==1?"one":"other"},15:function(e){return 0===e||n(e%100,2,10)?"few":n(e%100,11,19)?"many":1==e?"one":"other"},16:function(e){return e%10==1&&11!=e?"one":"other"},17:function(e){return 3==e?"few":0===e?"zero":6==e?"many":2==e?"two":1==e?"one":"other"},18:function(e){return 0===e?"zero":n(e,0,2)&&0!==e&&2!=e?"one":"other"},19:function(e){return n(e,2,10)?"few":n(e,0,1)?"one":"other"},20:function(e){return!n(e%10,3,4)&&e%10!=9||n(e%100,10,19)||n(e%100,70,79)||n(e%100,90,99)?e%1e6==0&&0!==e?"many":e%10!=2||t(e%100,[12,72,92])?e%10!=1||t(e%100,[11,71,91])?"other":"one":"two":"few"},21:function(e){return 0===e?"zero":1==e?"one":"other"},22:function(e){return n(e,0,1)||n(e,11,99)?"one":"other"},23:function(e){return n(e%10,1,2)||e%20==0?"one":"other"},24:function(e){return n(e,3,10)||n(e,13,19)?"few":t(e,[2,12])?"two":t(e,[1,11])?"one":"other"}},i={af:3,ak:4,am:4,ar:1,asa:3,az:0,be:11,bem:3,bez:3,bg:3,bh:4,bm:0,bn:3,bo:0,br:20,brx:3,bs:11,ca:3,cgg:3,chr:3,cs:12,cy:17,da:3,de:3,dv:3,dz:0,ee:3,el:3,en:3,eo:3,es:3,et:3,eu:3,fa:0,ff:5,fi:3,fil:4,fo:3,fr:5,fur:3,fy:3,ga:8,gd:24,gl:3,gsw:3,gu:3,guw:4,gv:23,ha:3,haw:3,he:2,hi:4,hr:11,hu:0,id:0,ig:0,ii:0,is:3,it:3,iu:7,ja:0,jmc:3,jv:0,ka:0,kab:5,kaj:3,kcg:3,kde:0,kea:0,kk:3,kl:3,km:0,kn:0,ko:0,ksb:3,ksh:21,ku:3,kw:7,lag:18,lb:3,lg:3,ln:4,lo:0,lt:10,lv:6,mas:3,mg:4,mk:16,ml:3,mn:3,mo:9,mr:3,ms:0,mt:15,my:0,nah:3,naq:7,nb:3,nd:3,ne:3,nl:3,nn:3,no:3,nr:3,nso:4,ny:3,nyn:3,om:3,or:3,pa:3,pap:3,pl:13,ps:3,pt:3,rm:3,ro:9,rof:3,ru:11,rwk:3,sah:0,saq:3,se:7,seh:3,ses:0,sg:0,sh:11,shi:19,sk:12,sl:14,sma:7,smi:7,smj:7,smn:7,sms:7,sn:3,so:3,sq:3,sr:11,ss:3,ssy:3,st:3,sv:3,sw:3,syr:3,ta:3,te:3,teo:3,th:0,ti:4,tig:3,tk:3,tl:4,tn:3,to:0,tr:0,ts:3,tzm:22,uk:11,ur:3,ve:3,vi:0,vun:3,wa:4,wae:3,wo:0,xh:3,xog:3,yo:0,zh:0,zu:3}[e.replace(/-.*$/,"")];return i in r?r[i]:(console.warn("plural form unknown for ["+e+"]"),function(){return"other"})}(o));var l="["+s._pluralRules(c)+"]";return 0===c&&n+"[zero]"in r?e=r[n+"[zero]"][i]:1==c&&n+"[one]"in r?e=r[n+"[one]"][i]:2==c&&n+"[two]"in r?e=r[n+"[two]"][i]:n+l in r?e=r[n+l][i]:n+"[other]"in r&&(e=r[n+"[other]"][i]),e},{get:function(e,t,n){var r,i=e.lastIndexOf("."),o=a;i>0&&(o=e.substring(i+1),e=e.substring(0,i)),n&&((r={})[o]=n);var s=u(e,t,r);return s&&o in s?s[o]:"{{"+e+"}}"},getData:function(){return r},getText:function(){return i},getLanguage:function(){return o},setLanguage:function(e,n){!function(e,n){e&&(e=e.toLowerCase()),n=n||function(){},r={},i="",o="",o=e;var s=t.querySelectorAll('link[type="application/l10n"]'),u=s.length;if(0!==u){var d,h,f=0;h=function(){++f>=u&&(n(),c="complete")};for(var p=0;p<u;p++)new b(s[p]).load(e,h)}else{var g=(d=t.querySelector('script[type="application/l10n"]'))?JSON.parse(d.innerHTML):null;if(g&&g.locales&&g.default_locale){if(console.log("using the embedded JSON directory, early way out"),!(r=g.locales[e])){var m=g.default_locale.toLowerCase();for(var v in g.locales){if((v=v.toLowerCase())===e){r=g.locales[e];break}v===m&&(r=g.locales[m])}}n()}else console.log("no resource to load, early way out");c="complete"}function b(e){var t=e.href;this.load=function(e,n){!function(e,t,n,o){var s=e.replace(/[^\/]*$/,"")||"./";function c(e){return e.lastIndexOf("\\")<0?e:e.replace(/\\\\/g,"\\").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\b/g,"\b").replace(/\\f/g,"\f").replace(/\\{/g,"{").replace(/\\}/g,"}").replace(/\\"/g,'"').replace(/\\'/g,"'")}l(e,(function(e){i+=e,function(e,i){var o={},u=/^\s*|\s*$/,d=/^\s*#|^\s*$/,h=/^\s*\[(.*)\]\s*$/,f=/^\s*@import\s+url\((.*)\)\s*$/i,p=/^([^=\s]*)\s*=\s*(.+)$/;function g(e,n,r){var i=e.replace(u,"").split(/[\r\n]+/),a="*",l=t.split("-",1)[0],g=!1,v="";!function e(){for(;;){if(!i.length)return void r();var u=i.shift();if(!d.test(u)){if(n){if(v=h.exec(u)){a=v[1].toLowerCase(),g="*"!==a&&a!==t&&a!==l;continue}if(g)continue;if(v=f.exec(u))return void m(s+v[1],e)}var b=u.match(p);b&&3==b.length&&(o[b[1]]=c(b[2]))}}}()}function m(e,t){l(e,(function(e){g(e,!1,t)}),(function(){console.warn(e+" not found."),t()}))}g(e,!0,(function(){!function(e){for(var t in e){var i,o,s=t.lastIndexOf(".");s>0?(i=t.substring(0,s),o=t.substring(s+1)):(i=t,o=a),r[i]||(r[i]={}),r[i][o]=e[t]}n&&n()}(o)}))}(e)}),o)}(t,e,n,(function(){console.warn(t+" not found."),console.warn('"'+e+'" resource not found'),o="",n()}))}}}(e,(function(){n&&n()}))},getDirection:function(){var e=o.split("-",1)[0];return["ar","he","fa","ps","ur"].indexOf(e)>=0?"rtl":"ltr"},translate:function(e){for(var n=function(e){return e?e.querySelectorAll("*[data-l10n-id]"):[]}(e=e||t.documentElement),r=n.length,i=0;i<r;i++)f(n[i]);f(e)},getReadyState:function(){return c},ready:function(n){n&&("complete"==c||"interactive"==c?e.setTimeout((function(){n()})):t.addEventListener&&t.addEventListener("localized",(function e(){t.removeEventListener("localized",e),n()})))}}}(window,document)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.PDFFindController=t.FindState=void 0;var r=n(2),i=n(11),a=n(3),o={FOUND:0,NOT_FOUND:1,WRAPPED:2,PENDING:3};t.FindState=o;var s={"\u2018":"'","\u2019":"'","\u201a":"'","\u201b":"'","\u201c":'"',"\u201d":'"',"\u201e":'"',"\u201f":'"',"\xbc":"1/4","\xbd":"1/2","\xbe":"3/4"},l=null;function u(e){if(!l){var t=Object.keys(s).join("");l=new RegExp("[".concat(t,"]"),"g")}var n=null;return[e.replace(l,(function(e,t){var r=s[e],i=r.length-e.length;return 0!==i&&(n||(n=[])).push([t,i]),r})),n]}function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!t)return e;var n,r=0,i=c(t);try{for(i.s();!(n=i.n()).done;){var a=d(n.value,2),o=a[0],s=a[1],l=o+r;if(l>=e)break;if(l+s>e){r+=e-l;break}r+=s}}catch(u){i.e(u)}finally{i.f()}return e-r}t.PDFFindController=function(){function e(t){var n=t.linkService,r=t.eventBus;h(this,e),this._linkService=n,this._eventBus=r,this._reset(),r._on("findbarclose",this._onFindBarClose.bind(this))}return f(e,[{key:"highlightMatches",get:function(){return this._highlightMatches}},{key:"pageMatches",get:function(){return this._pageMatches}},{key:"pageMatchesLength",get:function(){return this._pageMatchesLength}},{key:"selected",get:function(){return this._selected}},{key:"state",get:function(){return this._state}},{key:"setDocument",value:function(e){this._pdfDocument&&this._reset(),e&&(this._pdfDocument=e,this._firstPageCapability.resolve())}},{key:"executeCommand",value:function(e,t){var n=this;if(t){var r=this._pdfDocument;(null===this._state||this._shouldDirtyMatch(e,t))&&(this._dirtyMatch=!0),this._state=t,"findhighlightallchange"!==e&&this._updateUIState(o.PENDING),this._firstPageCapability.promise.then((function(){if(n._pdfDocument&&(!r||n._pdfDocument===r)){n._extractText();var t=!n._highlightMatches,i=!!n._findTimeout;n._findTimeout&&(clearTimeout(n._findTimeout),n._findTimeout=null),"find"===e?n._findTimeout=setTimeout((function(){n._nextMatch(),n._findTimeout=null}),250):n._dirtyMatch?n._nextMatch():"findagain"===e?(n._nextMatch(),t&&n._state.highlightAll&&n._updateAllPages()):"findhighlightallchange"===e?(i?n._nextMatch():n._highlightMatches=!0,n._updateAllPages()):n._nextMatch()}}))}}},{key:"scrollMatchIntoView",value:function(e){var t=e.element,n=void 0===t?null:t,r=e.pageIndex,i=void 0===r?-1:r,o=e.matchIndex,s=void 0===o?-1:o;this._scrollMatches&&n&&-1!==s&&s===this._selected.matchIdx&&-1!==i&&i===this._selected.pageIdx&&(this._scrollMatches=!1,(0,a.scrollIntoView)(n,{top:-50,left:-400},!0))}},{key:"_reset",value:function(){this._highlightMatches=!1,this._scrollMatches=!1,this._pdfDocument=null,this._pageMatches=[],this._pageMatchesLength=[],this._state=null,this._selected={pageIdx:-1,matchIdx:-1},this._offset={pageIdx:null,matchIdx:null,wrapped:!1},this._extractTextPromises=[],this._pageContents=[],this._pageDiffs=[],this._matchesCountTotal=0,this._pagesToSearch=null,this._pendingFindMatches=Object.create(null),this._resumePageIdx=null,this._dirtyMatch=!1,clearTimeout(this._findTimeout),this._findTimeout=null,this._firstPageCapability=(0,r.createPromiseCapability)()}},{key:"_query",get:function(){if(this._state.query!==this._rawQuery){this._rawQuery=this._state.query;var e=u(this._state.query),t=d(e,1);this._normalizedQuery=t[0]}return this._normalizedQuery}},{key:"_shouldDirtyMatch",value:function(e,t){if(t.query!==this._state.query)return!0;switch(e){case"findagain":var n=this._selected.pageIdx+1,r=this._linkService;return n>=1&&n<=r.pagesCount&&n!==r.page&&!r.isPageVisible(n);case"findhighlightallchange":return!1}return!0}},{key:"_prepareMatches",value:function(e,t,n){function r(t){var n=e[t];if(t<e.length-1&&n.match===e[t+1].match)return n.skipped=!0,!0;for(var r=t-1;r>=0;r--){var i=e[r];if(!i.skipped){if(i.match+i.matchLength<n.match)break;if(i.match+i.matchLength>=n.match+n.matchLength)return n.skipped=!0,!0}}return!1}e.sort((function(e,t){return e.match===t.match?e.matchLength-t.matchLength:e.match-t.match}));for(var i=0,a=e.length;i<a;i++)r(i)||(t.push(e[i].match),n.push(e[i].matchLength))}},{key:"_isEntireWord",value:function(e,t,n){if(t>0){var r=e.charCodeAt(t),a=e.charCodeAt(t-1);if((0,i.getCharacterType)(r)===(0,i.getCharacterType)(a))return!1}var o=t+n-1;if(o<e.length-1){var s=e.charCodeAt(o),c=e.charCodeAt(o+1);if((0,i.getCharacterType)(s)===(0,i.getCharacterType)(c))return!1}return!0}},{key:"_calculatePhraseMatch",value:function(e,t,n,r,i){for(var a=[],o=[],s=e.length,c=-s;-1!==(c=n.indexOf(e,c+s));)if(!i||this._isEntireWord(n,c,s)){var l=p(c,r),u=p(c+s-1,r)-l+1;a.push(l),o.push(u)}this._pageMatches[t]=a,this._pageMatchesLength[t]=o}},{key:"_calculateWordMatch",value:function(e,t,n,r,i){for(var a=[],o=e.match(/\S+/g),s=0,c=o.length;s<c;s++)for(var l=o[s],u=l.length,d=-u;-1!==(d=n.indexOf(l,d+u));)if(!i||this._isEntireWord(n,d,u)){var h=p(d,r),f=p(d+u-1,r)-h+1;a.push({match:h,matchLength:f,skipped:!1})}this._pageMatchesLength[t]=[],this._pageMatches[t]=[],this._prepareMatches(a,this._pageMatches[t],this._pageMatchesLength[t])}},{key:"_calculateMatch",value:function(e){var t=this._pageContents[e],n=this._pageDiffs[e],r=this._query,i=this._state,a=i.entireWord,o=i.phraseSearch;if(0!==r.length){i.caseSensitive||(t=t.toLowerCase(),r=r.toLowerCase()),o?this._calculatePhraseMatch(r,e,t,n,a):this._calculateWordMatch(r,e,t,n,a),this._state.highlightAll&&this._updatePage(e),this._resumePageIdx===e&&(this._resumePageIdx=null,this._nextPageMatch());var s=this._pageMatches[e].length;s>0&&(this._matchesCountTotal+=s,this._updateUIResultsCount())}}},{key:"_extractText",value:function(){var e=this;if(!(this._extractTextPromises.length>0))for(var t=Promise.resolve(),n=function(n,i){var a=(0,r.createPromiseCapability)();e._extractTextPromises[n]=a.promise,t=t.then((function(){return e._pdfDocument.getPage(n+1).then((function(e){return e.getTextContent({normalizeWhitespace:!0})})).then((function(t){for(var r=t.items,i=[],o=0,s=r.length;o<s;o++)i.push(r[o].str);var c=u(i.join("")),l=d(c,2);e._pageContents[n]=l[0],e._pageDiffs[n]=l[1],a.resolve(n)}),(function(t){console.error("Unable to get text content for page ".concat(n+1),t),e._pageContents[n]="",e._pageDiffs[n]=null,a.resolve(n)}))}))},i=0,a=this._linkService.pagesCount;i<a;i++)n(i)}},{key:"_updatePage",value:function(e){this._scrollMatches&&this._selected.pageIdx===e&&(this._linkService.page=e+1),this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:e})}},{key:"_updateAllPages",value:function(){this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:-1})}},{key:"_nextMatch",value:function(){var e=this,t=this._state.findPrevious,n=this._linkService.page-1,r=this._linkService.pagesCount;if(this._highlightMatches=!0,this._dirtyMatch){this._dirtyMatch=!1,this._selected.pageIdx=this._selected.matchIdx=-1,this._offset.pageIdx=n,this._offset.matchIdx=null,this._offset.wrapped=!1,this._resumePageIdx=null,this._pageMatches.length=0,this._pageMatchesLength.length=0,this._matchesCountTotal=0,this._updateAllPages();for(var i=0;i<r;i++)!0!==this._pendingFindMatches[i]&&(this._pendingFindMatches[i]=!0,this._extractTextPromises[i].then((function(t){delete e._pendingFindMatches[t],e._calculateMatch(t)})))}if(""!==this._query){if(!this._resumePageIdx){var a=this._offset;if(this._pagesToSearch=r,null!==a.matchIdx){if(!t&&a.matchIdx+1<this._pageMatches[a.pageIdx].length||t&&a.matchIdx>0)return a.matchIdx=t?a.matchIdx-1:a.matchIdx+1,void this._updateMatch(!0);this._advanceOffsetPage(t)}this._nextPageMatch()}}else this._updateUIState(o.FOUND)}},{key:"_matchesReady",value:function(e){var t=this._offset,n=e.length,r=this._state.findPrevious;return n?(t.matchIdx=r?n-1:0,this._updateMatch(!0),!0):(this._advanceOffsetPage(r),!!(t.wrapped&&(t.matchIdx=null,this._pagesToSearch<0))&&(this._updateMatch(!1),!0))}},{key:"_nextPageMatch",value:function(){null!==this._resumePageIdx&&console.error("There can only be one pending page.");var e=null;do{var t=this._offset.pageIdx;if(!(e=this._pageMatches[t])){this._resumePageIdx=t;break}}while(!this._matchesReady(e))}},{key:"_advanceOffsetPage",value:function(e){var t=this._offset,n=this._linkService.pagesCount;t.pageIdx=e?t.pageIdx-1:t.pageIdx+1,t.matchIdx=null,this._pagesToSearch--,(t.pageIdx>=n||t.pageIdx<0)&&(t.pageIdx=e?n-1:0,t.wrapped=!0)}},{key:"_updateMatch",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=o.NOT_FOUND,n=this._offset.wrapped;if(this._offset.wrapped=!1,e){var r=this._selected.pageIdx;this._selected.pageIdx=this._offset.pageIdx,this._selected.matchIdx=this._offset.matchIdx,t=n?o.WRAPPED:o.FOUND,-1!==r&&r!==this._selected.pageIdx&&this._updatePage(r)}this._updateUIState(t,this._state.findPrevious),-1!==this._selected.pageIdx&&(this._scrollMatches=!0,this._updatePage(this._selected.pageIdx))}},{key:"_onFindBarClose",value:function(e){var t=this,n=this._pdfDocument;this._firstPageCapability.promise.then((function(){!t._pdfDocument||n&&t._pdfDocument!==n||(t._findTimeout&&(clearTimeout(t._findTimeout),t._findTimeout=null),t._resumePageIdx&&(t._resumePageIdx=null,t._dirtyMatch=!0),t._updateUIState(o.FOUND),t._highlightMatches=!1,t._updateAllPages())}))}},{key:"_requestMatchesCount",value:function(){var e=this._selected,t=e.pageIdx,n=e.matchIdx,r=0,i=this._matchesCountTotal;if(-1!==n){for(var a=0;a<t;a++)r+=this._pageMatches[a]&&this._pageMatches[a].length||0;r+=n+1}return(r<1||r>i)&&(r=i=0),{current:r,total:i}}},{key:"_updateUIResultsCount",value:function(){this._eventBus.dispatch("updatefindmatchescount",{source:this,matchesCount:this._requestMatchesCount()})}},{key:"_updateUIState",value:function(e,t){this._eventBus.dispatch("updatefindcontrolstate",{source:this,state:e,previous:t,matchesCount:this._requestMatchesCount(),rawQuery:this._state?this._state.query:null})}}]),e}()},function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.getCharacterType=function(e){return function(e){return e<11904}(e)?function(e){return 0==(65408&e)}(e)?function(e){return 32===e||9===e||13===e||10===e}(e)?n.SPACE:function(e){return e>=97&&e<=122||e>=65&&e<=90}(e)||function(e){return e>=48&&e<=57}(e)||95===e?n.ALPHA_LETTER:n.PUNCT:function(e){return 3584==(65408&e)}(e)?n.THAI_LETTER:160===e?n.SPACE:n.ALPHA_LETTER:function(e){return e>=13312&&e<=40959||e>=63744&&e<=64255}(e)?n.HAN_LETTER:function(e){return e>=12448&&e<=12543}(e)?n.KATAKANA_LETTER:function(e){return e>=12352&&e<=12447}(e)?n.HIRAGANA_LETTER:function(e){return e>=65376&&e<=65439}(e)?n.HALFWIDTH_KATAKANA_LETTER:n.ALPHA_LETTER},t.CharacterType=void 0;var n={SPACE:0,ALPHA_LETTER:1,PUNCT:2,HAN_LETTER:3,KATAKANA_LETTER:4,HIRAGANA_LETTER:5,HALFWIDTH_KATAKANA_LETTER:6,THAI_LETTER:7};t.CharacterType=n},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.isDestArraysEqual=o,t.isDestHashesEqual=a,t.PDFHistory=void 0;var r=n(3);function i(){return document.location.hash}function a(e,t){return"string"==typeof e&&"string"==typeof t&&(e===t||(0,r.parseQueryString)(e).nameddest===t)}function o(e,t){function n(e,t){if(typeof e!=typeof t)return!1;if(Array.isArray(e)||Array.isArray(t))return!1;if(null!==e&&"object"==typeof e&&null!==t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var r in e)if(!n(e[r],t[r]))return!1;return!0}return e===t||Number.isNaN(e)&&Number.isNaN(t)}if(!Array.isArray(e)||!Array.isArray(t))return!1;if(e.length!==t.length)return!1;for(var r=0,i=e.length;r<i;r++)if(!n(e[r],t[r]))return!1;return!0}t.PDFHistory=function(){function e(t){var n=this,i=t.linkService,a=t.eventBus;h(this,e),this.linkService=i,this.eventBus=a,this._initialized=!1,this._fingerprint="",this.reset(),this._boundEvents=null,this._isViewerInPresentationMode=!1,this.eventBus._on("presentationmodechanged",(function(e){n._isViewerInPresentationMode=e.state!==r.PresentationModeState.NORMAL})),this.eventBus._on("pagesinit",(function(){n._isPagesLoaded=!1,n.eventBus._on("pagesloaded",(function(e){n._isPagesLoaded=!!e.pagesCount}),{once:!0})}))}return f(e,[{key:"initialize",value:function(e){var t=e.fingerprint,n=e.resetHistory,r=void 0!==n&&n,a=e.updateUrl,o=void 0!==a&&a;if(t&&"string"==typeof t){this._initialized&&this.reset();var s=""!==this._fingerprint&&this._fingerprint!==t;this._fingerprint=t,this._updateUrl=!0===o,this._initialized=!0,this._bindEvents();var c=window.history.state;if(this._popStateInProgress=!1,this._blockHashChange=0,this._currentHash=i(),this._numPositionUpdates=0,this._uid=this._maxUid=0,this._destination=null,this._position=null,!this._isValidState(c,!0)||r){var l=this._parseCurrentHash(!0),u=l.hash,d=l.page,h=l.rotation;return!u||s||r?void this._pushOrReplaceState(null,!0):void this._pushOrReplaceState({hash:u,page:d,rotation:h},!0)}var f=c.destination;this._updateInternalState(f,c.uid,!0),void 0!==f.rotation&&(this._initialRotation=f.rotation),f.dest?(this._initialBookmark=JSON.stringify(f.dest),this._destination.page=null):f.hash?this._initialBookmark=f.hash:f.page&&(this._initialBookmark="page=".concat(f.page))}else console.error('PDFHistory.initialize: The "fingerprint" must be a non-empty string.')}},{key:"reset",value:function(){this._initialized&&(this._pageHide(),this._initialized=!1,this._unbindEvents()),this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._initialBookmark=null,this._initialRotation=null}},{key:"push",value:function(e){var t=this,n=e.namedDest,r=void 0===n?null:n,i=e.explicitDest,s=e.pageNumber;if(this._initialized)if(r&&"string"!=typeof r)console.error("PDFHistory.push: "+'"'.concat(r,'" is not a valid namedDest parameter.'));else if(Array.isArray(i))if(Number.isInteger(s)&&s>0&&s<=this.linkService.pagesCount||null===s&&!this._destination){var c=r||JSON.stringify(i);if(c){var l=!1;if(this._destination&&(a(this._destination.hash,c)||o(this._destination.dest,i))){if(this._destination.page)return;l=!0}this._popStateInProgress&&!l||(this._pushOrReplaceState({dest:i,hash:c,page:s,rotation:this.linkService.rotation},l),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then((function(){t._popStateInProgress=!1}))))}}else console.error("PDFHistory.push: "+'"'.concat(s,'" is not a valid pageNumber parameter.'));else console.error("PDFHistory.push: "+'"'.concat(i,'" is not a valid explicitDest parameter.'))}},{key:"pushPage",value:function(e){var t,n=this;this._initialized&&(Number.isInteger(e)&&e>0&&e<=this.linkService.pagesCount?(null===(t=this._destination)||void 0===t?void 0:t.page)!==e&&(this._popStateInProgress||(this._pushOrReplaceState({hash:"page=".concat(e),page:e,rotation:this.linkService.rotation}),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then((function(){n._popStateInProgress=!1}))))):console.error('PDFHistory.pushPage: "'.concat(e,'" is not a valid page number.')))}},{key:"pushCurrentPosition",value:function(){this._initialized&&!this._popStateInProgress&&this._tryPushCurrentPosition()}},{key:"back",value:function(){if(this._initialized&&!this._popStateInProgress){var e=window.history.state;this._isValidState(e)&&e.uid>0&&window.history.back()}}},{key:"forward",value:function(){if(this._initialized&&!this._popStateInProgress){var e=window.history.state;this._isValidState(e)&&e.uid<this._maxUid&&window.history.forward()}}},{key:"popStateInProgress",get:function(){return this._initialized&&(this._popStateInProgress||this._blockHashChange>0)}},{key:"initialBookmark",get:function(){return this._initialized?this._initialBookmark:null}},{key:"initialRotation",get:function(){return this._initialized?this._initialRotation:null}},{key:"_pushOrReplaceState",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=n||!this._destination,i={fingerprint:this._fingerprint,uid:r?this._uid:this._uid+1,destination:e};if(this._updateInternalState(e,i.uid),this._updateUrl&&null!=e&&e.hash){var a=document.location.href.split("#")[0];a.startsWith("file://")||(t="".concat(a,"#").concat(e.hash))}r?window.history.replaceState(i,"",t):window.history.pushState(i,"",t)}},{key:"_tryPushCurrentPosition",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this._position){var t=this._position;if(e&&((t=Object.assign(Object.create(null),this._position)).temporary=!0),this._destination){if(this._destination.temporary)this._pushOrReplaceState(t,!0);else if(this._destination.hash!==t.hash&&(this._destination.page||!(this._numPositionUpdates<=50))){var n=!1;if(this._destination.page>=t.first&&this._destination.page<=t.page){if(this._destination.dest||!this._destination.first)return;n=!0}this._pushOrReplaceState(t,n)}}else this._pushOrReplaceState(t)}}},{key:"_isValidState",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return!1;if(e.fingerprint!==this._fingerprint){if(!t)return!1;if("string"!=typeof e.fingerprint||e.fingerprint.length!==this._fingerprint.length)return!1;var n=performance.getEntriesByType("navigation"),r=d(n,1),i=r[0];if("reload"!==(null==i?void 0:i.type))return!1}return!(!Number.isInteger(e.uid)||e.uid<0)&&null!==e.destination&&"object"==typeof e.destination}},{key:"_updateInternalState",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),n&&null!=e&&e.temporary&&delete e.temporary,this._destination=e,this._uid=t,this._maxUid=Math.max(this._maxUid,t),this._numPositionUpdates=0}},{key:"_parseCurrentHash",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=unescape(i()).substring(1),n=(0,r.parseQueryString)(t),a=n.nameddest||"",o=0|n.page;return Number.isInteger(o)&&o>0&&o<=this.linkService.pagesCount&&!(e&&a.length>0)||(o=null),{hash:t,page:o,rotation:this.linkService.rotation}}},{key:"_updateViewarea",value:function(e){var t=this,n=e.location;this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._position={hash:this._isViewerInPresentationMode?"page=".concat(n.pageNumber):n.pdfOpenParams.substring(1),page:this.linkService.page,first:n.pageNumber,rotation:n.rotation},this._popStateInProgress||(this._isPagesLoaded&&this._destination&&!this._destination.page&&this._numPositionUpdates++,this._updateViewareaTimeout=setTimeout((function(){t._popStateInProgress||t._tryPushCurrentPosition(!0),t._updateViewareaTimeout=null}),1e3))}},{key:"_popState",value:function(e){var t=this,n=e.state,a=i(),o=this._currentHash!==a;if(this._currentHash=a,n){if(this._isValidState(n)){this._popStateInProgress=!0,o&&(this._blockHashChange++,(0,r.waitOnEventOrTimeout)({target:window,name:"hashchange",delay:1e3}).then((function(){t._blockHashChange--})));var s=n.destination;this._updateInternalState(s,n.uid,!0),(0,r.isValidRotation)(s.rotation)&&(this.linkService.rotation=s.rotation),s.dest?this.linkService.goToDestination(s.dest):s.hash?this.linkService.setHash(s.hash):s.page&&(this.linkService.page=s.page),Promise.resolve().then((function(){t._popStateInProgress=!1}))}}else{this._uid++;var c=this._parseCurrentHash();this._pushOrReplaceState({hash:c.hash,page:c.page,rotation:c.rotation},!0)}}},{key:"_pageHide",value:function(){this._destination&&!this._destination.temporary||this._tryPushCurrentPosition()}},{key:"_bindEvents",value:function(){this._boundEvents||(this._boundEvents={updateViewarea:this._updateViewarea.bind(this),popState:this._popState.bind(this),pageHide:this._pageHide.bind(this)},this.eventBus._on("updateviewarea",this._boundEvents.updateViewarea),window.addEventListener("popstate",this._boundEvents.popState),window.addEventListener("pagehide",this._boundEvents.pageHide))}},{key:"_unbindEvents",value:function(){this._boundEvents&&(this.eventBus._off("updateviewarea",this._boundEvents.updateViewarea),window.removeEventListener("popstate",this._boundEvents.popState),window.removeEventListener("pagehide",this._boundEvents.pageHide),this._boundEvents=null)}}]),e}()},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.PDFPageView=void 0;var r=n(3),i=n(2),a=n(14),o=n(7).viewerCompatibilityParams.maxCanvasPixels||16777216;t.PDFPageView=function(){function e(t){h(this,e);var n=t.container,i=t.defaultViewport;this.id=t.id,this.renderingId="page"+this.id,this.pdfPage=null,this.pageLabel=null,this.rotation=0,this.scale=t.scale||r.DEFAULT_SCALE,this.viewport=i,this.pdfPageRotate=i.rotation,this._optionalContentConfigPromise=t.optionalContentConfigPromise||null,this.hasRestrictedScaling=!1,this.textLayerMode=Number.isInteger(t.textLayerMode)?t.textLayerMode:r.TextLayerMode.ENABLE,this.imageResourcesPath=t.imageResourcesPath||"",this.renderInteractiveForms="boolean"!=typeof t.renderInteractiveForms||t.renderInteractiveForms,this.useOnlyCssZoom=t.useOnlyCssZoom||!1,this.maxCanvasPixels=t.maxCanvasPixels||o,this.eventBus=t.eventBus,this.renderingQueue=t.renderingQueue,this.textLayerFactory=t.textLayerFactory,this.annotationLayerFactory=t.annotationLayerFactory,this.renderer=t.renderer||r.RendererType.CANVAS,this.enableWebGL=t.enableWebGL||!1,this.l10n=t.l10n||r.NullL10n,this.enableScripting=t.enableScripting||!1,this.paintTask=null,this.paintedViewportMap=new WeakMap,this.renderingState=a.RenderingStates.INITIAL,this.resume=null,this._renderError=null,this.annotationLayer=null,this.textLayer=null,this.zoomLayer=null;var s=document.createElement("div");s.className="page",s.style.width=Math.floor(this.viewport.width)+"px",s.style.height=Math.floor(this.viewport.height)+"px",s.setAttribute("data-page-number",this.id),this.div=s,n.appendChild(s)}var t;return f(e,[{key:"setPdfPage",value:function(e){this.pdfPage=e,this.pdfPageRotate=e.rotate,this.viewport=e.getViewport({scale:this.scale*r.CSS_UNITS,rotation:(this.rotation+this.pdfPageRotate)%360}),this.reset()}},{key:"destroy",value:function(){this.reset(),this.pdfPage&&this.pdfPage.cleanup()}},{key:"_renderAnnotationLayer",value:(t=u(l.mark((function e(){var t;return l.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=null,e.prev=1,e.next=4,this.annotationLayer.render(this.viewport,"display");case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),t=e.t0;case 9:return e.prev=9,this.eventBus.dispatch("annotationlayerrendered",{source:this,pageNumber:this.id,error:t}),e.finish(9);case 12:case"end":return e.stop()}}),e,this,[[1,6,9,12]])}))),function(){return t.apply(this,arguments)})},{key:"_resetZoomLayer",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.zoomLayer){var t=this.zoomLayer.firstChild;this.paintedViewportMap.delete(t),t.width=0,t.height=0,e&&this.zoomLayer.remove(),this.zoomLayer=null}}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.cancelRendering(t),this.renderingState=a.RenderingStates.INITIAL;var n=this.div;n.style.width=Math.floor(this.viewport.width)+"px",n.style.height=Math.floor(this.viewport.height)+"px";for(var r=n.childNodes,i=e&&this.zoomLayer||null,o=t&&this.annotationLayer&&this.annotationLayer.div||null,s=r.length-1;s>=0;s--){var c=r[s];i!==c&&o!==c&&n.removeChild(c)}n.removeAttribute("data-loaded"),o?this.annotationLayer.hide():this.annotationLayer&&(this.annotationLayer.cancel(),this.annotationLayer=null),i||(this.canvas&&(this.paintedViewportMap.delete(this.canvas),this.canvas.width=0,this.canvas.height=0,delete this.canvas),this._resetZoomLayer()),this.svg&&(this.paintedViewportMap.delete(this.svg),delete this.svg),this.loadingIconDiv=document.createElement("div"),this.loadingIconDiv.className="loadingIcon",n.appendChild(this.loadingIconDiv)}},{key:"update",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.scale=e||this.scale,void 0!==t&&(this.rotation=t),n instanceof Promise&&(this._optionalContentConfigPromise=n);var i=(this.rotation+this.pdfPageRotate)%360;if(this.viewport=this.viewport.clone({scale:this.scale*r.CSS_UNITS,rotation:i}),this.svg)return this.cssTransform(this.svg,!0),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError});var a=!1;if(this.canvas&&this.maxCanvasPixels>0){var o=this.outputScale;(Math.floor(this.viewport.width)*o.sx|0)*(Math.floor(this.viewport.height)*o.sy|0)>this.maxCanvasPixels&&(a=!0)}if(this.canvas){if(this.useOnlyCssZoom||this.hasRestrictedScaling&&a)return this.cssTransform(this.canvas,!0),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError});this.zoomLayer||this.canvas.hasAttribute("hidden")||(this.zoomLayer=this.canvas.parentNode,this.zoomLayer.style.position="absolute")}this.zoomLayer&&this.cssTransform(this.zoomLayer.firstChild),this.reset(!0,!0)}},{key:"cancelRendering",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.paintTask&&(this.paintTask.cancel(),this.paintTask=null),this.resume=null,this.textLayer&&(this.textLayer.cancel(),this.textLayer=null),!e&&this.annotationLayer&&(this.annotationLayer.cancel(),this.annotationLayer=null)}},{key:"cssTransform",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.viewport.width,r=this.viewport.height,i=this.div;e.style.width=e.parentNode.style.width=i.style.width=Math.floor(n)+"px",e.style.height=e.parentNode.style.height=i.style.height=Math.floor(r)+"px";var a=this.viewport.rotation-this.paintedViewportMap.get(e).rotation,o=Math.abs(a),s=1,c=1;if(90!==o&&270!==o||(s=r/n,c=n/r),e.style.transform="rotate(".concat(a,"deg) scale(").concat(s,", ").concat(c,")"),this.textLayer){var l=this.textLayer.viewport,u=this.viewport.rotation-l.rotation,d=Math.abs(u),h=n/l.width;90!==d&&270!==d||(h=n/l.height);var f,p,g=this.textLayer.textLayerDiv;switch(d){case 0:f=p=0;break;case 90:f=0,p="-"+g.style.height;break;case 180:f="-"+g.style.width,p="-"+g.style.height;break;case 270:f="-"+g.style.width,p=0;break;default:console.error("Bad rotation value.")}g.style.transform="rotate(".concat(d,"deg) ")+"scale(".concat(h,") ")+"translate(".concat(f,", ").concat(p,")"),g.style.transformOrigin="0% 0%"}t&&this.annotationLayer&&this._renderAnnotationLayer()}},{key:"width",get:function(){return this.viewport.width}},{key:"height",get:function(){return this.viewport.height}},{key:"getPagePoint",value:function(e,t){return this.viewport.convertToPdfPoint(e,t)}},{key:"draw",value:function(){var e=this;this.renderingState!==a.RenderingStates.INITIAL&&(console.error("Must be in new state before drawing"),this.reset());var t=this.div,n=this.pdfPage;if(!n)return this.renderingState=a.RenderingStates.FINISHED,this.loadingIconDiv&&(t.removeChild(this.loadingIconDiv),delete this.loadingIconDiv),Promise.reject(new Error("pdfPage is not loaded"));this.renderingState=a.RenderingStates.RUNNING;var o=document.createElement("div");o.style.width=t.style.width,o.style.height=t.style.height,o.classList.add("canvasWrapper"),this.annotationLayer&&this.annotationLayer.div?t.insertBefore(o,this.annotationLayer.div):t.appendChild(o);var s=null;if(this.textLayerMode!==r.TextLayerMode.DISABLE&&this.textLayerFactory){var c=document.createElement("div");c.className="textLayer",c.style.width=o.style.width,c.style.height=o.style.height,this.annotationLayer&&this.annotationLayer.div?t.insertBefore(c,this.annotationLayer.div):t.appendChild(c),s=this.textLayerFactory.createTextLayerBuilder(c,this.id-1,this.viewport,this.textLayerMode===r.TextLayerMode.ENABLE_ENHANCE,this.eventBus)}this.textLayer=s;var d=null;this.renderingQueue&&(d=function(t){if(!e.renderingQueue.isHighestPriority(e))return e.renderingState=a.RenderingStates.PAUSED,void(e.resume=function(){e.renderingState=a.RenderingStates.RUNNING,t()});t()});var h=function(){var n=u(l.mark((function n(){var r,o=arguments;return l.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=o.length>0&&void 0!==o[0]?o[0]:null,f===e.paintTask&&(e.paintTask=null),!(r instanceof i.RenderingCancelledException)){n.next=5;break}return e._renderError=null,n.abrupt("return");case 5:if(e._renderError=r,e.renderingState=a.RenderingStates.FINISHED,e.loadingIconDiv&&(t.removeChild(e.loadingIconDiv),delete e.loadingIconDiv),e._resetZoomLayer(!0),e.eventBus.dispatch("pagerendered",{source:e,pageNumber:e.id,cssTransform:!1,timestamp:performance.now(),error:e._renderError}),!r){n.next=12;break}throw r;case 12:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),f=this.renderer===r.RendererType.SVG?this.paintOnSvg(o):this.paintOnCanvas(o);f.onRenderContinue=d,this.paintTask=f;var p=f.promise.then((function(){return h(null).then((function(){if(s){var e=n.streamTextContent({normalizeWhitespace:!0});s.setTextContentStream(e),s.render()}}))}),(function(e){return h(e)}));return this.annotationLayerFactory&&(this.annotationLayer||(this.annotationLayer=this.annotationLayerFactory.createAnnotationLayerBuilder(t,n,null,this.imageResourcesPath,this.renderInteractiveForms,this.l10n,this.enableScripting,null,null)),this._renderAnnotationLayer()),t.setAttribute("data-loaded",!0),this.eventBus.dispatch("pagerender",{source:this,pageNumber:this.id}),p}},{key:"paintOnCanvas",value:function(e){var t=(0,i.createPromiseCapability)(),n={promise:t.promise,onRenderContinue:function(e){e()},cancel:function(){g.cancel()}},a=this.viewport,o=document.createElement("canvas");this.l10n.get("page_canvas",{page:this.id},"Page {{page}}").then((function(e){o.setAttribute("aria-label",e)})),o.setAttribute("hidden","hidden");var s=!0,c=function(){s&&(o.removeAttribute("hidden"),s=!1)};e.appendChild(o),this.canvas=o,o.mozOpaque=!0;var l=o.getContext("2d",{alpha:!1}),u=(0,r.getOutputScale)(l);if(this.outputScale=u,this.useOnlyCssZoom){var d=a.clone({scale:r.CSS_UNITS});u.sx*=d.width/a.width,u.sy*=d.height/a.height,u.scaled=!0}if(this.maxCanvasPixels>0){var h=Math.sqrt(this.maxCanvasPixels/(a.width*a.height));u.sx>h||u.sy>h?(u.sx=h,u.sy=h,u.scaled=!0,this.hasRestrictedScaling=!0):this.hasRestrictedScaling=!1}var f=(0,r.approximateFraction)(u.sx),p=(0,r.approximateFraction)(u.sy);o.width=(0,r.roundToDivide)(a.width*u.sx,f[0]),o.height=(0,r.roundToDivide)(a.height*u.sy,p[0]),o.style.width=(0,r.roundToDivide)(a.width,f[1])+"px",o.style.height=(0,r.roundToDivide)(a.height,p[1])+"px",this.paintedViewportMap.set(o,a);var g=this.pdfPage.render({canvasContext:l,transform:u.scaled?[u.sx,0,0,u.sy,0,0]:null,viewport:this.viewport,enableWebGL:this.enableWebGL,renderInteractiveForms:this.renderInteractiveForms,optionalContentConfigPromise:this._optionalContentConfigPromise});return g.onContinue=function(e){c(),n.onRenderContinue?n.onRenderContinue(e):e()},g.promise.then((function(){c(),t.resolve(void 0)}),(function(e){c(),t.reject(e)})),n}},{key:"paintOnSvg",value:function(e){var t=this,n=!1,o=function(){if(n)throw new i.RenderingCancelledException("Rendering cancelled, page ".concat(t.id),"svg")},s=this.pdfPage,c=this.viewport.clone({scale:r.CSS_UNITS});return{promise:s.getOperatorList().then((function(n){return o(),new i.SVGGraphics(s.commonObjs,s.objs).getSVG(n,c).then((function(n){o(),t.svg=n,t.paintedViewportMap.set(n,c),n.style.width=e.style.width,n.style.height=e.style.height,t.renderingState=a.RenderingStates.FINISHED,e.appendChild(n)}))})),onRenderContinue:function(e){e()},cancel:function(){n=!0}}}},{key:"setPageLabel",value:function(e){this.pageLabel="string"==typeof e?e:null,null!==this.pageLabel?this.div.setAttribute("data-page-label",this.pageLabel):this.div.removeAttribute("data-page-label")}}]),e}()},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.RenderingStates=t.PDFRenderingQueue=void 0;var r=n(2),i={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3};t.RenderingStates=i,t.PDFRenderingQueue=function(){function e(){h(this,e),this.pdfViewer=null,this.pdfThumbnailViewer=null,this.onIdle=null,this.highestPriorityPage=null,this.idleTimeout=null,this.printing=!1,this.isThumbnailViewEnabled=!1}return f(e,[{key:"setViewer",value:function(e){this.pdfViewer=e}},{key:"setThumbnailViewer",value:function(e){this.pdfThumbnailViewer=e}},{key:"isHighestPriority",value:function(e){return this.highestPriorityPage===e.renderingId}},{key:"renderHighestPriority",value:function(e){this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null),this.pdfViewer.forceRendering(e)||this.pdfThumbnailViewer&&this.isThumbnailViewEnabled&&this.pdfThumbnailViewer.forceRendering()||this.printing||this.onIdle&&(this.idleTimeout=setTimeout(this.onIdle.bind(this),3e4))}},{key:"getHighestPriority",value:function(e,t,n){var r=e.views,i=r.length;if(0===i)return null;for(var a=0;a<i;++a){var o=r[a].view;if(!this.isViewFinished(o))return o}if(n){var s=e.last.id;if(t[s]&&!this.isViewFinished(t[s]))return t[s]}else{var c=e.first.id-2;if(t[c]&&!this.isViewFinished(t[c]))return t[c]}return null}},{key:"isViewFinished",value:function(e){return e.renderingState===i.FINISHED}},{key:"renderView",value:function(e){var t=this;switch(e.renderingState){case i.FINISHED:return!1;case i.PAUSED:this.highestPriorityPage=e.renderingId,e.resume();break;case i.RUNNING:this.highestPriorityPage=e.renderingId;break;case i.INITIAL:this.highestPriorityPage=e.renderingId,e.draw().finally((function(){t.renderHighestPriority()})).catch((function(e){e instanceof r.RenderingCancelledException||console.error('renderView: "'.concat(e,'"'))}))}return!0}}]),e}()},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.PDFSinglePageViewer=void 0;var r=n(16),c=n(2);t.PDFSinglePageViewer=function(e){o(n,e);var t=s(n);function n(e){var r;return h(this,n),(r=t.call(this,e)).eventBus._on("pagesinit",(function(e){r._ensurePageViewVisible()})),r}return f(n,[{key:"_viewerElement",get:function(){return(0,c.shadow)(this,"_viewerElement",this._shadowViewer)}},{key:"_pageWidthScaleFactor",get:function(){return 1}},{key:"_resetView",value:function(){i(a(n.prototype),"_resetView",this).call(this),this._previousPageNumber=1,this._shadowViewer=document.createDocumentFragment(),this._updateScrollDown=null}},{key:"_ensurePageViewVisible",value:function(){var e=this._pages[this._currentPageNumber-1],t=this._pages[this._previousPageNumber-1],n=this.viewer.childNodes;switch(n.length){case 0:this.viewer.appendChild(e.div);break;case 1:if(n[0]!==t.div)throw new Error("_ensurePageViewVisible: Unexpected previously visible page.");if(e===t)break;this._shadowViewer.appendChild(t.div),this.viewer.appendChild(e.div),this.container.scrollTop=0;break;default:throw new Error("_ensurePageViewVisible: Only one page should be visible at a time.")}this._previousPageNumber=this._currentPageNumber}},{key:"_scrollUpdate",value:function(){this._updateScrollDown&&this._updateScrollDown(),i(a(n.prototype),"_scrollUpdate",this).call(this)}},{key:"_scrollIntoView",value:function(e){var t=this,r=e.pageDiv,o=e.pageSpot,s=void 0===o?null:o,c=e.pageNumber,l=void 0===c?null:c;l&&this._setCurrentPageNumber(l);var u=this._currentPageNumber>=this._previousPageNumber;this._ensurePageViewVisible(),this.update(),i(a(n.prototype),"_scrollIntoView",this).call(this,{pageDiv:r,pageSpot:s,pageNumber:l}),this._updateScrollDown=function(){t.scroll.down=u,t._updateScrollDown=null}}},{key:"_getVisiblePages",value:function(){return this._getCurrentVisiblePage()}},{key:"_updateHelper",value:function(e){}},{key:"_isScrollModeHorizontal",get:function(){return(0,c.shadow)(this,"_isScrollModeHorizontal",!1)}},{key:"_updateScrollMode",value:function(){}},{key:"_updateSpreadMode",value:function(){}},{key:"_getPageAdvance",value:function(){return 1}}]),n}(r.BaseViewer)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.BaseViewer=void 0;var r=n(2),i=n(3),a=n(14),o=n(1),s=n(13),l=n(4),u=n(5);function d(e){var t=[];this.push=function(n){var r=t.indexOf(n);r>=0&&t.splice(r,1),t.push(n),t.length>e&&t.shift().destroy()},this.resize=function(n,r){if(e=n,r){for(var a=new Set,o=0,s=r.length;o<s;++o)a.add(r[o].id);(0,i.moveToEndOfArray)(t,(function(e){return a.has(e.id)}))}for(;t.length>e;)t.shift().destroy()},this.has=function(e){return t.includes(e)}}function p(e,t){return t===e||Math.abs(t-e)<1e-15}t.BaseViewer=function(){function e(t){var n,o,s=this;if(h(this,e),this.constructor===e)throw new Error("Cannot initialize BaseViewer.");if("2.7.570"!==r.version)throw new Error('The API version "'.concat(r.version,'" does not match the Viewer version "').concat("2.7.570",'".'));if(this._name=this.constructor.name,this.container=t.container,this.viewer=t.viewer||t.container.firstElementChild,"DIV"!==(null===(n=this.container)||void 0===n?void 0:n.tagName.toUpperCase())||"DIV"!==(null===(o=this.viewer)||void 0===o?void 0:o.tagName.toUpperCase()))throw new Error("Invalid `container` and/or `viewer` option.");if("absolute"!==getComputedStyle(this.container).position)throw new Error("The `container` must be absolutely positioned.");this.eventBus=t.eventBus,this.linkService=t.linkService||new l.SimpleLinkService,this.downloadManager=t.downloadManager||null,this.findController=t.findController||null,this.removePageBorders=t.removePageBorders||!1,this.textLayerMode=Number.isInteger(t.textLayerMode)?t.textLayerMode:i.TextLayerMode.ENABLE,this.imageResourcesPath=t.imageResourcesPath||"",this.renderInteractiveForms="boolean"!=typeof t.renderInteractiveForms||t.renderInteractiveForms,this.enablePrintAutoRotate=t.enablePrintAutoRotate||!1,this.renderer=t.renderer||i.RendererType.CANVAS,this.enableWebGL=t.enableWebGL||!1,this.useOnlyCssZoom=t.useOnlyCssZoom||!1,this.maxCanvasPixels=t.maxCanvasPixels,this.l10n=t.l10n||i.NullL10n,this.enableScripting=t.enableScripting||!1,this._mouseState=t.mouseState||null,this.defaultRenderingQueue=!t.renderingQueue,this.defaultRenderingQueue?(this.renderingQueue=new a.PDFRenderingQueue,this.renderingQueue.setViewer(this)):this.renderingQueue=t.renderingQueue,this.scroll=(0,i.watchScroll)(this.container,this._scrollUpdate.bind(this)),this.presentationModeState=i.PresentationModeState.UNKNOWN,this._onBeforeDraw=this._onAfterDraw=null,this._resetView(),this.removePageBorders&&this.viewer.classList.add("removePageBorders"),Promise.resolve().then((function(){s.eventBus.dispatch("baseviewerinit",{source:s})}))}return f(e,[{key:"pagesCount",get:function(){return this._pages.length}},{key:"getPageView",value:function(e){return this._pages[e]}},{key:"pageViewsReady",get:function(){return!!this._pagesCapability.settled&&this._pages.every((function(e){return e&&e.pdfPage}))}},{key:"currentPageNumber",get:function(){return this._currentPageNumber},set:function(e){if(!Number.isInteger(e))throw new Error("Invalid page number.");this.pdfDocument&&(this._setCurrentPageNumber(e,!0)||console.error("".concat(this._name,'.currentPageNumber: "').concat(e,'" is not a valid page.')))}},{key:"_setCurrentPageNumber",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this._currentPageNumber===e)return t&&this._resetCurrentPageView(),!0;if(!(0<e&&e<=this.pagesCount))return!1;var n=this._currentPageNumber;return this._currentPageNumber=e,this.eventBus.dispatch("pagechanging",{source:this,pageNumber:e,pageLabel:this._pageLabels&&this._pageLabels[e-1],previous:n}),t&&this._resetCurrentPageView(),!0}},{key:"currentPageLabel",get:function(){return this._pageLabels&&this._pageLabels[this._currentPageNumber-1]},set:function(e){if(this.pdfDocument){var t=0|e;if(this._pageLabels){var n=this._pageLabels.indexOf(e);n>=0&&(t=n+1)}this._setCurrentPageNumber(t,!0)||console.error("".concat(this._name,'.currentPageLabel: "').concat(e,'" is not a valid page.'))}}},{key:"currentScale",get:function(){return this._currentScale!==i.UNKNOWN_SCALE?this._currentScale:i.DEFAULT_SCALE},set:function(e){if(isNaN(e))throw new Error("Invalid numeric scale.");this.pdfDocument&&this._setScale(e,!1)}},{key:"currentScaleValue",get:function(){return this._currentScaleValue},set:function(e){this.pdfDocument&&this._setScale(e,!1)}},{key:"pagesRotation",get:function(){return this._pagesRotation},set:function(e){if(!(0,i.isValidRotation)(e))throw new Error("Invalid pages rotation angle.");if(this.pdfDocument&&this._pagesRotation!==e){this._pagesRotation=e;for(var t=this._currentPageNumber,n=0,r=this._pages.length;n<r;n++){var a=this._pages[n];a.update(a.scale,e)}this._currentScaleValue&&this._setScale(this._currentScaleValue,!0),this.eventBus.dispatch("rotationchanging",{source:this,pagesRotation:e,pageNumber:t}),this.defaultRenderingQueue&&this.update()}}},{key:"firstPagePromise",get:function(){return this.pdfDocument?this._firstPageCapability.promise:null}},{key:"onePageRendered",get:function(){return this.pdfDocument?this._onePageRenderedCapability.promise:null}},{key:"pagesPromise",get:function(){return this.pdfDocument?this._pagesCapability.promise:null}},{key:"_viewerElement",get:function(){throw new Error("Not implemented: _viewerElement")}},{key:"_onePageRenderedOrForceFetch",value:function(){return this.container.offsetParent&&0!==this._getVisiblePages().views.length?this._onePageRenderedCapability.promise:Promise.resolve()}},{key:"setDocument",value:function(e){var t=this;if(this.pdfDocument&&(this.eventBus.dispatch("pagesdestroy",{source:this}),this._cancelRendering(),this._resetView(),this.findController&&this.findController.setDocument(null)),this.pdfDocument=e,e){var n=e.numPages,r=e.getPage(1),a=e.getOptionalContentConfig();this._pagesCapability.promise.then((function(){t.eventBus.dispatch("pagesloaded",{source:t,pagesCount:n})})),this._onBeforeDraw=function(e){var n=t._pages[e.pageNumber-1];n&&t._buffer.push(n)},this.eventBus._on("pagerender",this._onBeforeDraw),this._onAfterDraw=function(e){e.cssTransform||t._onePageRenderedCapability.settled||(t._onePageRenderedCapability.resolve(),t.eventBus._off("pagerendered",t._onAfterDraw),t._onAfterDraw=null)},this.eventBus._on("pagerendered",this._onAfterDraw),r.then((function(r){t._firstPageCapability.resolve(r),t._optionalContentConfigPromise=a;for(var o=t.currentScale,c=r.getViewport({scale:o*i.CSS_UNITS}),l=t.textLayerMode!==i.TextLayerMode.DISABLE?t:null,u=1;u<=n;++u){var d=new s.PDFPageView({container:t._viewerElement,eventBus:t.eventBus,id:u,scale:o,defaultViewport:c.clone(),optionalContentConfigPromise:a,renderingQueue:t.renderingQueue,textLayerFactory:l,textLayerMode:t.textLayerMode,annotationLayerFactory:t,imageResourcesPath:t.imageResourcesPath,renderInteractiveForms:t.renderInteractiveForms,renderer:t.renderer,enableWebGL:t.enableWebGL,useOnlyCssZoom:t.useOnlyCssZoom,maxCanvasPixels:t.maxCanvasPixels,l10n:t.l10n,enableScripting:t.enableScripting});t._pages.push(d)}var h=t._pages[0];h&&(h.setPdfPage(r),t.linkService.cachePageRef(1,r.ref)),t._spreadMode!==i.SpreadMode.NONE&&t._updateSpreadMode(),t._onePageRenderedOrForceFetch().then((function(){if(t.findController&&t.findController.setDocument(e),e.loadingParams.disableAutoFetch||n>7500)t._pagesCapability.resolve();else{var r=n-1;if(r<=0)t._pagesCapability.resolve();else for(var i=function(n){e.getPage(n).then((function(e){var i=t._pages[n-1];i.pdfPage||i.setPdfPage(e),t.linkService.cachePageRef(n,e.ref),0==--r&&t._pagesCapability.resolve()}),(function(e){console.error("Unable to get page ".concat(n," to initialize viewer"),e),0==--r&&t._pagesCapability.resolve()}))},a=2;a<=n;++a)i(a)}})),t.eventBus.dispatch("pagesinit",{source:t}),t.defaultRenderingQueue&&t.update()})).catch((function(e){console.error("Unable to initialize viewer",e)}))}}},{key:"setPageLabels",value:function(e){if(this.pdfDocument){e?Array.isArray(e)&&this.pdfDocument.numPages===e.length?this._pageLabels=e:(this._pageLabels=null,console.error("".concat(this._name,".setPageLabels: Invalid page labels."))):this._pageLabels=null;for(var t=0,n=this._pages.length;t<n;t++)this._pages[t].setPageLabel(this._pageLabels&&this._pageLabels[t])}}},{key:"_resetView",value:function(){this._pages=[],this._currentPageNumber=1,this._currentScale=i.UNKNOWN_SCALE,this._currentScaleValue=null,this._pageLabels=null,this._buffer=new d(10),this._location=null,this._pagesRotation=0,this._optionalContentConfigPromise=null,this._pagesRequests=new WeakMap,this._firstPageCapability=(0,r.createPromiseCapability)(),this._onePageRenderedCapability=(0,r.createPromiseCapability)(),this._pagesCapability=(0,r.createPromiseCapability)(),this._scrollMode=i.ScrollMode.VERTICAL,this._spreadMode=i.SpreadMode.NONE,this._onBeforeDraw&&(this.eventBus._off("pagerender",this._onBeforeDraw),this._onBeforeDraw=null),this._onAfterDraw&&(this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null),this._resetScriptingEvents(),this.viewer.textContent="",this._updateScrollMode()}},{key:"_scrollUpdate",value:function(){0!==this.pagesCount&&this.update()}},{key:"_scrollIntoView",value:function(e){var t=e.pageSpot;(0,i.scrollIntoView)(e.pageDiv,void 0===t?null:t)}},{key:"_setScaleUpdatePages",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(this._currentScaleValue=t.toString(),p(this._currentScale,e))r&&this.eventBus.dispatch("scalechanging",{source:this,scale:e,presetValue:t});else{for(var i=0,a=this._pages.length;i<a;i++)this._pages[i].update(e);if(this._currentScale=e,!n){var o,s=this._currentPageNumber;!this._location||this.isInPresentationMode||this.isChangingPresentationMode||(s=this._location.pageNumber,o=[null,{name:"XYZ"},this._location.left,this._location.top,null]),this.scrollPageIntoView({pageNumber:s,destArray:o,allowNegativeOffset:!0})}this.eventBus.dispatch("scalechanging",{source:this,scale:e,presetValue:r?t:void 0}),this.defaultRenderingQueue&&this.update()}}},{key:"_pageWidthScaleFactor",get:function(){return this.spreadMode===i.SpreadMode.NONE||this.scrollMode===i.ScrollMode.HORIZONTAL||this.isInPresentationMode?1:2}},{key:"_setScale",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=parseFloat(e);if(n>0)this._setScaleUpdatePages(n,e,t,!1);else{var r=this._pages[this._currentPageNumber-1];if(!r)return;var a=this.isInPresentationMode||this.removePageBorders,o=a?0:i.SCROLLBAR_PADDING,s=a?0:i.VERTICAL_PADDING;if(!a&&this._isScrollModeHorizontal){var c=[s,o];o=c[0],s=c[1]}var l=(this.container.clientWidth-o)/r.width*r.scale/this._pageWidthScaleFactor,u=(this.container.clientHeight-s)/r.height*r.scale;switch(e){case"page-actual":n=1;break;case"page-width":n=l;break;case"page-height":n=u;break;case"page-fit":n=Math.min(l,u);break;case"auto":var d=(0,i.isPortraitOrientation)(r)?l:Math.min(u,l);n=Math.min(i.MAX_AUTO_SCALE,d);break;default:return void console.error("".concat(this._name,'._setScale: "').concat(e,'" is an unknown zoom value.'))}this._setScaleUpdatePages(n,e,t,!0)}}},{key:"_resetCurrentPageView",value:function(){this.isInPresentationMode&&this._setScale(this._currentScaleValue,!0),this._scrollIntoView({pageDiv:this._pages[this._currentPageNumber-1].div})}},{key:"pageLabelToPageNumber",value:function(e){if(!this._pageLabels)return null;var t=this._pageLabels.indexOf(e);return t<0?null:t+1}},{key:"scrollPageIntoView",value:function(e){var t=e.pageNumber,n=e.destArray,r=void 0===n?null:n,a=e.allowNegativeOffset,o=void 0!==a&&a,s=e.ignoreDestinationZoom,c=void 0!==s&&s;if(this.pdfDocument){var l=Number.isInteger(t)&&this._pages[t-1];if(l)if(!this.isInPresentationMode&&r){var u,d=0,h=0,f=0,p=0,g=l.rotation%180!=0,m=(g?l.height:l.width)/l.scale/i.CSS_UNITS,v=(g?l.width:l.height)/l.scale/i.CSS_UNITS,b=0;switch(r[1].name){case"XYZ":b=r[4],d=null!==(d=r[2])?d:0,h=null!==(h=r[3])?h:v;break;case"Fit":case"FitB":b="page-fit";break;case"FitH":case"FitBH":b="page-width",null===(h=r[2])&&this._location?(d=this._location.left,h=this._location.top):"number"!=typeof h&&(h=v);break;case"FitV":case"FitBV":d=r[2],f=m,p=v,b="page-height";break;case"FitR":f=r[4]-(d=r[2]),u=(this.container.clientHeight-(this.removePageBorders?0:i.VERTICAL_PADDING))/(p=r[5]-(h=r[3]))/i.CSS_UNITS,b=Math.min(Math.abs((this.container.clientWidth-(this.removePageBorders?0:i.SCROLLBAR_PADDING))/f/i.CSS_UNITS),Math.abs(u));break;default:return void console.error("".concat(this._name,".scrollPageIntoView: ")+'"'.concat(r[1].name,'" is not a valid destination type.'))}if(c||(b&&b!==this._currentScale?this.currentScaleValue=b:this._currentScale===i.UNKNOWN_SCALE&&(this.currentScaleValue=i.DEFAULT_SCALE_VALUE)),"page-fit"!==b||r[4]){var _=[l.viewport.convertToViewportPoint(d,h),l.viewport.convertToViewportPoint(d+f,h+p)],y=Math.min(_[0][0],_[1][0]),x=Math.min(_[0][1],_[1][1]);o||(y=Math.max(y,0),x=Math.max(x,0)),this._scrollIntoView({pageDiv:l.div,pageSpot:{left:y,top:x},pageNumber:t})}else this._scrollIntoView({pageDiv:l.div,pageNumber:t})}else this._setCurrentPageNumber(t,!0);else console.error("".concat(this._name,".scrollPageIntoView: ")+'"'.concat(t,'" is not a valid pageNumber parameter.'))}}},{key:"_updateLocation",value:function(e){var t=this._currentScale,n=this._currentScaleValue,r=parseFloat(n)===t?Math.round(1e4*t)/100:n,i=e.id,a="#page="+i;a+="&zoom="+r;var o=this.container,s=this._pages[i-1].getPagePoint(o.scrollLeft-e.x,o.scrollTop-e.y),c=Math.round(s[0]),l=Math.round(s[1]);this._location={pageNumber:i,scale:r,top:l,left:c,rotation:this._pagesRotation,pdfOpenParams:a+=","+c+","+l}}},{key:"_updateHelper",value:function(e){throw new Error("Not implemented: _updateHelper")}},{key:"update",value:function(){var e=this._getVisiblePages(),t=e.views,n=t.length;if(0!==n){var r=Math.max(10,2*n+1);this._buffer.resize(r,t),this.renderingQueue.renderHighestPriority(e),this._updateHelper(t),this._updateLocation(e.first),this.eventBus.dispatch("updateviewarea",{source:this,location:this._location})}}},{key:"containsElement",value:function(e){return this.container.contains(e)}},{key:"focus",value:function(){this.container.focus()}},{key:"_isScrollModeHorizontal",get:function(){return!this.isInPresentationMode&&this._scrollMode===i.ScrollMode.HORIZONTAL}},{key:"_isContainerRtl",get:function(){return"rtl"===getComputedStyle(this.container).direction}},{key:"isInPresentationMode",get:function(){return this.presentationModeState===i.PresentationModeState.FULLSCREEN}},{key:"isChangingPresentationMode",get:function(){return this.presentationModeState===i.PresentationModeState.CHANGING}},{key:"isHorizontalScrollbarEnabled",get:function(){return!this.isInPresentationMode&&this.container.scrollWidth>this.container.clientWidth}},{key:"isVerticalScrollbarEnabled",get:function(){return!this.isInPresentationMode&&this.container.scrollHeight>this.container.clientHeight}},{key:"_getCurrentVisiblePage",value:function(){if(!this.pagesCount)return{views:[]};var e=this._pages[this._currentPageNumber-1],t=e.div,n={id:e.id,x:t.offsetLeft+t.clientLeft,y:t.offsetTop+t.clientTop,view:e};return{first:n,last:n,views:[n]}}},{key:"_getVisiblePages",value:function(){return(0,i.getVisibleElements)({scrollEl:this.container,views:this._pages,sortByVisibility:!0,horizontal:this._isScrollModeHorizontal,rtl:this._isScrollModeHorizontal&&this._isContainerRtl})}},{key:"isPageVisible",value:function(e){return!!this.pdfDocument&&(Number.isInteger(e)&&e>0&&e<=this.pagesCount?this._getVisiblePages().views.some((function(t){return t.id===e})):(console.error("".concat(this._name,'.isPageVisible: "').concat(e,'" is not a valid page.')),!1))}},{key:"isPageCached",value:function(e){if(!this.pdfDocument||!this._buffer)return!1;if(!(Number.isInteger(e)&&e>0&&e<=this.pagesCount))return console.error("".concat(this._name,'.isPageCached: "').concat(e,'" is not a valid page.')),!1;var t=this._pages[e-1];return!!t&&this._buffer.has(t)}},{key:"cleanup",value:function(){for(var e=0,t=this._pages.length;e<t;e++)this._pages[e]&&this._pages[e].renderingState!==a.RenderingStates.FINISHED&&this._pages[e].reset()}},{key:"_cancelRendering",value:function(){for(var e=0,t=this._pages.length;e<t;e++)this._pages[e]&&this._pages[e].cancelRendering()}},{key:"_ensurePdfPageLoaded",value:function(e){var t=this;if(e.pdfPage)return Promise.resolve(e.pdfPage);if(this._pagesRequests.has(e))return this._pagesRequests.get(e);var n=this.pdfDocument.getPage(e.id).then((function(n){return e.pdfPage||e.setPdfPage(n),t._pagesRequests.delete(e),n})).catch((function(n){console.error("Unable to get page for page view",n),t._pagesRequests.delete(e)}));return this._pagesRequests.set(e,n),n}},{key:"forceRendering",value:function(e){var t=this,n=e||this._getVisiblePages(),r=this.renderingQueue.getHighestPriority(n,this._pages,this._isScrollModeHorizontal?this.scroll.right:this.scroll.down);return!!r&&(this._ensurePdfPageLoaded(r).then((function(){t.renderingQueue.renderView(r)})),!0)}},{key:"createTextLayerBuilder",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4?arguments[4]:void 0;return new u.TextLayerBuilder({textLayerDiv:e,eventBus:i,pageIndex:t,viewport:n,findController:this.isInPresentationMode?null:this.findController,enhanceTextSelection:!this.isInPresentationMode&&r})}},{key:"createAnnotationLayerBuilder",value:function(e,t){var n,r,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",c=arguments.length>4&&void 0!==arguments[4]&&arguments[4],l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:i.NullL10n,u=arguments.length>6&&void 0!==arguments[6]&&arguments[6],d=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,h=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null;return new o.AnnotationLayerBuilder({pageDiv:e,pdfPage:t,annotationStorage:a||(null===(n=this.pdfDocument)||void 0===n?void 0:n.annotationStorage),imageResourcesPath:s,renderInteractiveForms:c,linkService:this.linkService,downloadManager:this.downloadManager,l10n:l,enableScripting:u,hasJSActionsPromise:d||(null===(r=this.pdfDocument)||void 0===r?void 0:r.hasJSActions()),mouseState:h||this._mouseState})}},{key:"hasEqualPageSizes",get:function(){for(var e=this._pages[0],t=1,n=this._pages.length;t<n;++t){var r=this._pages[t];if(r.width!==e.width||r.height!==e.height)return!1}return!0}},{key:"getPagesOverview",value:function(){var e=this._pages.map((function(e){var t=e.pdfPage.getViewport({scale:1});return{width:t.width,height:t.height,rotation:t.rotation}}));return this.enablePrintAutoRotate?e.map((function(e){return(0,i.isPortraitOrientation)(e)?e:{width:e.height,height:e.width,rotation:(e.rotation+90)%360}})):e}},{key:"optionalContentConfigPromise",get:function(){return this.pdfDocument?this._optionalContentConfigPromise?this._optionalContentConfigPromise:this.pdfDocument.getOptionalContentConfig():Promise.resolve(null)},set:function(e){if(!(e instanceof Promise))throw new Error("Invalid optionalContentConfigPromise: ".concat(e));if(this.pdfDocument&&this._optionalContentConfigPromise){this._optionalContentConfigPromise=e;var t,n=c(this._pages);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.update(r.scale,r.rotation,e)}}catch(i){n.e(i)}finally{n.f()}this.update(),this.eventBus.dispatch("optionalcontentconfigchanged",{source:this,promise:e})}}},{key:"scrollMode",get:function(){return this._scrollMode},set:function(e){if(this._scrollMode!==e){if(!(0,i.isValidScrollMode)(e))throw new Error("Invalid scroll mode: ".concat(e));this._scrollMode=e,this.eventBus.dispatch("scrollmodechanged",{source:this,mode:e}),this._updateScrollMode(this._currentPageNumber)}}},{key:"_updateScrollMode",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this._scrollMode,n=this.viewer;n.classList.toggle("scrollHorizontal",t===i.ScrollMode.HORIZONTAL),n.classList.toggle("scrollWrapped",t===i.ScrollMode.WRAPPED),this.pdfDocument&&e&&(this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(e,!0),this.update())}},{key:"spreadMode",get:function(){return this._spreadMode},set:function(e){if(this._spreadMode!==e){if(!(0,i.isValidSpreadMode)(e))throw new Error("Invalid spread mode: ".concat(e));this._spreadMode=e,this.eventBus.dispatch("spreadmodechanged",{source:this,mode:e}),this._updateSpreadMode(this._currentPageNumber)}}},{key:"_updateSpreadMode",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(this.pdfDocument){var t=this.viewer,n=this._pages;if(t.textContent="",this._spreadMode===i.SpreadMode.NONE)for(var r=0,a=n.length;r<a;++r)t.appendChild(n[r].div);else for(var o=this._spreadMode-1,s=null,c=0,l=n.length;c<l;++c)null===s?((s=document.createElement("div")).className="spread",t.appendChild(s)):c%2===o&&(s=s.cloneNode(!1),t.appendChild(s)),s.appendChild(n[c].div);e&&(this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(e,!0),this.update())}}},{key:"_getPageAdvance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.isInPresentationMode)return 1;switch(this._scrollMode){case i.ScrollMode.WRAPPED:var n,r=this._getVisiblePages(),a=r.views,o=new Map,s=c(a);try{for(s.s();!(n=s.n()).done;){var l=n.value,u=l.id,d=l.y,h=l.percent,f=l.widthPercent;if(!(0===h||f<100)){var p=o.get(d);p||o.set(d,p||(p=[])),p.push(u)}}}catch(W){s.e(W)}finally{s.f()}var g,m=c(o.values());try{for(m.s();!(g=m.n()).done;){var v=g.value,b=v.indexOf(e);if(-1!==b){var _=v.length;if(1===_)break;if(t)for(var y=b-1,x=0;y>=x;y--){var C=v[y],P=v[y+1]-1;if(C<P)return e-P}else for(var k=b+1,w=_;k<w;k++){var A=v[k],S=v[k-1]+1;if(A>S)return S-e}if(t){var M=v[0];if(M<e)return e-M+1}else{var O=v[_-1];if(O>e)return O-e+1}break}}}catch(W){m.e(W)}finally{m.f()}break;case i.ScrollMode.HORIZONTAL:break;case i.ScrollMode.VERTICAL:if(this._spreadMode===i.SpreadMode.NONE)break;var L=this._spreadMode-1;if(t&&e%2!==L)break;if(!t&&e%2===L)break;var T,R=this._getVisiblePages(),I=R.views,E=t?e-1:e+1,F=c(I);try{for(F.s();!(T=F.n()).done;){var N=T.value,D=N.id,U=N.percent,z=N.widthPercent;if(D===E){if(U>0&&100===z)return 2;break}}}catch(W){F.e(W)}finally{F.f()}}return 1}},{key:"nextPage",value:function(){var e=this._currentPageNumber,t=this.pagesCount;if(e>=t)return!1;var n=this._getPageAdvance(e,!1)||1;return this.currentPageNumber=Math.min(e+n,t),!0}},{key:"previousPage",value:function(){var e=this._currentPageNumber;if(e<=1)return!1;var t=this._getPageAdvance(e,!0)||1;return this.currentPageNumber=Math.max(e-t,1),!0}},{key:"initializeScriptingEvents",value:function(){var e=this;if(this.enableScripting&&!this._pageOpenPendingSet){var t=this.eventBus,n=this._pageOpenPendingSet=new Set,r=this._scriptingEvents||(this._scriptingEvents=Object.create(null)),i=function(r){n.has(r)||t.dispatch("pageclose",{source:e,pageNumber:r})},o=function(r){var i,o=e._pages[r-1];(null==o?void 0:o.renderingState)===a.RenderingStates.FINISHED?(n.delete(r),t.dispatch("pageopen",{source:e,pageNumber:r,actionsPromise:null===(i=o.pdfPage)||void 0===i?void 0:i.getJSActions()})):n.add(r)};r.onPageChanging=function(e){var t=e.pageNumber,n=e.previous;t!==n&&(i(n),o(t))},t._on("pagechanging",r.onPageChanging),r.onPageRendered=function(t){var r=t.pageNumber;n.has(r)&&r===e._currentPageNumber&&o(r)},t._on("pagerendered",r.onPageRendered),r.onPagesDestroy=function(){i(e._currentPageNumber)},t._on("pagesdestroy",r.onPagesDestroy),o(this._currentPageNumber)}}},{key:"_resetScriptingEvents",value:function(){if(this.enableScripting&&this._pageOpenPendingSet){var e=this.eventBus,t=this._scriptingEvents;e._off("pagechanging",t.onPageChanging),t.onPageChanging=null,e._off("pagerendered",t.onPageRendered),t.onPageRendered=null,e._off("pagesdestroy",t.onPagesDestroy),t.onPagesDestroy=null,this._pageOpenPendingSet=null}}}]),e}()},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.PDFViewer=void 0;var r=n(3),l=n(16),u=n(2);t.PDFViewer=function(e){o(n,e);var t=s(n);function n(){return h(this,n),t.apply(this,arguments)}return f(n,[{key:"_viewerElement",get:function(){return(0,u.shadow)(this,"_viewerElement",this.viewer)}},{key:"_scrollIntoView",value:function(e){var t=e.pageDiv,r=e.pageSpot,o=void 0===r?null:r,s=e.pageNumber,c=void 0===s?null:s;if(!o&&!this.isInPresentationMode){var l=t.offsetLeft+t.clientLeft,u=this.container,d=u.scrollLeft;(this._isScrollModeHorizontal||l<d||l+t.clientWidth>d+u.clientWidth)&&(o={left:0,top:0})}i(a(n.prototype),"_scrollIntoView",this).call(this,{pageDiv:t,pageSpot:o,pageNumber:c})}},{key:"_getVisiblePages",value:function(){return this.isInPresentationMode?this._getCurrentVisiblePage():i(a(n.prototype),"_getVisiblePages",this).call(this)}},{key:"_updateHelper",value:function(e){if(!this.isInPresentationMode){var t,n=this._currentPageNumber,i=!1,a=c(e);try{for(a.s();!(t=a.n()).done;){var o=t.value;if(o.percent<100)break;if(o.id===n&&this._scrollMode===r.ScrollMode.VERTICAL&&this._spreadMode===r.SpreadMode.NONE){i=!0;break}}}catch(s){a.e(s)}finally{a.f()}i||(n=e[0].id),this._setCurrentPageNumber(n)}}}]),n}(l.BaseViewer)}],t={};return function n(r){if(t[r])return t[r].exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}(0)}()},e.exports=r()},vhlT:function(e,t,n){var r=n("Zhxd");e.exports=function(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=r(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a,o=!0,s=!1;return{s:function(){i=e[Symbol.iterator]()},n:function(){var e=i.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==i.return||i.return()}finally{if(s)throw a}}}}}}]);